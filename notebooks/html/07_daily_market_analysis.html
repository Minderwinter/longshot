<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/apple-touch-icon.png" />
    <link rel="manifest" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        const scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          // Guard against race condition where iframe isn't ready
          if (!obj.contentWindow?.document?.documentElement) {
            return;
          }
          const element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          const newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((_entries) => {
          setHeight();
        });
        // Only observe if iframe content is ready
        if (obj.contentWindow?.document?.body) {
          resizeObserver.observe(obj.contentWindow.document.body);
        }
      }
    </script>
    <marimo-filename hidden>07_daily_market_analysis.py</marimo-filename>
    <!-- TODO(Trevor): Legacy, required by VS Code plugin. Remove when plugin is updated (see marimo/server/_templates/template.py) -->
    <marimo-version data-version="{{ version }}" hidden></marimo-version>
    <marimo-user-config data-config="{{ user_config }}" hidden></marimo-user-config>
    <marimo-server-token data-token="{{ server_token }}" hidden></marimo-server-token>
    <!-- /TODO -->
    <title>07 daily market analysis</title>
    <script type="module" crossorigin crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/index-DEPjuBkG.js"></script>
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/preload-helper-reX6CfMN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/clsx-nlQpVU_5.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/cn-BfqzeB_k.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/chunk-LvLJmgfZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/react-Bj1aDYRI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/compiler-runtime-B3qBwwSJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/jsx-runtime-BttUhiRM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/badge-Duqg7hNv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useEventListener-B3HCnU20.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/button-DOOm_ggu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/react-dom-CSu739Rf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/Combination-CdkqT4eF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/menu-items-BrytomlJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-HoBrI5Oq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/createLucideIcon-C5NDK5NL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/check-CAiA4SIb.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/x-CvUjX6Qu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/select-BvXsf3Xf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/tooltip-D13BIptq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/use-toast-CAzHts2e.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_Uint8Array-BGESiCQL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_baseIsEqual-B9N9Mw_N.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useEvent-BhXAndur.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/invariant-CAG_dYON.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_baseFor-Duhs3RiJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/merge-BBX6ug-N.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/zod-H_cgTO0M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/utils-Cul5vKXJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/Deferred-C3YDyEAR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/uuid-BW_8PQB5.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/DeferredRequestRegistry-ODyALcIJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/constants-B6Cb__3x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/session-BH_ggR75.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/config-BHy9GZrJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/requests-DqPjMMrg.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/isSymbol-BGkTcW3U.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/toString-DlRqgfqz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_hasUnicode-CWqKLxBC.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/assertNever-eF2N5g4Y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_arrayReduce-TT0iOGKY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useLifecycle-CKk7uG4E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useNonce-CGCAoh-I.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useTheme-BHn95Ieq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/once-BF7GI0Uf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/capabilities-DTeDSdGM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/createReducer-DhUZtGnB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/paths-gUC_uwid.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-m6mzfYjs.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-DvlYinQM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-D9xGHqiw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-Dw5p3QBM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-ChjglRRU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-DAxpo7DH.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-Sapk1n6W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-Dq6dViu8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-Bsp55hDJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/stex-iJ-Q_35P.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/toDate-D_5B1mPf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/cjs-BFk44HyO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_baseProperty-NKyJO2oh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/now-6sUe0ZdD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/debounce-B3mjKxHe.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/toInteger-CDcO32Gx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/database-zap-DjyjptVG.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/main-Drs5hZkn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/cells-BvQJ_wGv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/spinner-BBkRPIE-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/chevron-right-Cez-Jqdk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dropdown-menu-BjqFXaqX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/kbd-CxD_4JZI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/renderShortcut-DpJiiIXp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/multi-map-CfaU7is9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/alert-Djvdl92y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/card-Cl7Rwjou.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/alert-dialog-Btfo5nE7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dialog-BY1JTkTv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-Cka1pjxF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/label-DjfzNSto.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useDebounce-WGQaRdB8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/textarea-DIGVRG-E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/numbers-C8M1-yNT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/SSRProvider-CkFAAHXw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/context-DoXuYYBM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useNumberFormatter-DBQ_eVX1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/usePress-a6K9HmSS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/input-lGnR5jA2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/links-BJkZcoxM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/popover-Ds94yD5w.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/switch-C3e8vdXY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/table-CP7epTk0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/mode-COhtYT4e.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useAsyncData-BwpzRwt1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/errors-CZb6hI2x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/error-banner-ClreFLcv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/copy-fZotD7fi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/memoize-BCOZVFBt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/get-6uJrSKbw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/capitalize-O1rWkjI6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/copy-CmJTXGCp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/plus-lLt9OnHP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/refresh-cw-g2lXkmkk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/trash-2-xM9f8S8N.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/triangle-alert-CEPiiwZT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/ai-model-dropdown-BC0cdhi9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/defaultLocale-YxeC1tYk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/precisionRound-CC3g-1mL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/defaultLocale-BgG6rTtO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/vega-loader.browser-BR6dmQ_3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/tooltip-DuBjDOOi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/ErrorBoundary-CL8ByR73.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useInstallPackage-BPxx1pVW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/ImperativeModal-BcWA2M3r.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/cell-link-HggHOhac.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/datasource-ow4Y3Yl7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/state-D0hcaf71.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/MarimoErrorOutput-DDh0mN6J.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/copy-icon-DQ4_WQe7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/html-to-image-DvPYLUI8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/focus-CPRFg4kn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/LazyAnyLanguageCodeMirror-Bd0XX4es.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/chunk-5FQGJX7Z-BuHQ2zZJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/katex-bTFStUqL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/markdown-renderer-Dyy86-0S.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/command-D2UvWA5R.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/download-FoG6dAm7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useRunCells-DCLlGGDx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/purify.es-CPiHmTAE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/RenderHTML-BtyszmRY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useIframeCapabilities-C-JfwMug.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/formats-DekCK0sB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/en-US-DyCX-qVi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/isValid-B3O42hgP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dates-CeHtKOEz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/maps-BNf8B88H.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/extends-C9xCLRj9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/emotion-is-prop-valid.esm-C4tLsq6-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useDateFormatter-D2wb2n1M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/range-D2UKkEg-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/table-CqXVb6os.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/JsonOutput-Cf8A51yY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useDeleteCell-87_Oh8sv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/icons-iU3GgPzu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/process-output-WvCcApgB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/blob-CTort_or.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/objectWithoutPropertiesLoose-B0M-wzEz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/esm-CP9RsJ4O.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/file-BH6mbfdw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/play-BqVslMWT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/add-cell-with-ai-BCTdiv0p.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/isEmpty-CgX_-6Mt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/bot-message-square-BNUYewXt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/chat-display-Bvu3qbng.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/chart-no-axes-column-BXq2PuKd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/square-function-anVqGjs0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/spec-D4b3DLJL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/column-preview-CJ3a0IPi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/toggle-CUhRontP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/globals-g_NWGBtF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/share-ZGgmy4Y2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_baseSet-5Rdwpmr3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/react-resizable-panels.browser.esm-DzNEmH2W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/utilities.esm-C57m8aJQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/floating-outline-D3kzMiv3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useAddCell-DWpYLvcR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/eye-off-D6Gma1GF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/readonly-python-code-ZwGAfelJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/file-video-camera-o8CZtjRQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/types-B0GfsfZC.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/refresh-ccw-ClD7bKJN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/form-DISpbGyw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/field-0rGb7K7u.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useBoolean-YzhJ5RKx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useDeepCompareMemoize-BharaTWq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/types-B02j-0zo.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/prop-types-dQH5VuL1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/es-BAwLP160.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/hasIn-CycJImp8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_baseFlatten-CUZNxU8H.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/flatten-D-7VEN0q.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/pick-B_6Qi5aM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/code-xml-CAMyACkU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/download-Jiq5cuc9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/square-H4PcQmi-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/settings-CfA0GMiv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/bundle.esm-CvMga-X6.js">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/cells-jmgGt1lS.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/markdown-renderer-DdDKmWlR.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/JsonOutput-B7vuddcd.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/index-DHVzmQ5n.css">
  
<script data-marimo="true">
    window.__MARIMO_STATIC__ = {};
    window.__MARIMO_STATIC__.files = {};
    window.__MARIMO_STATIC__.modelNotifications = [];
</script>
</head>
  <body>
    <div id="root"></div>
    <!-- This is a portal for the data editor to render in -->
    <div id="portal" data-testid="glide-portal" style="position: fixed; left: 0; top: 0; z-index: 9999"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "07_daily_market_analysis.py",
            "mode": "read",
            "version": "0.20.1",
            "serverToken": "static",
            "config": {"ai": {"custom_providers": {}, "models": {"custom_models": [], "displayed_models": []}}, "completion": {"activate_on_typing": true, "copilot": false, "signature_hint_on_typing": false}, "diagnostics": {"sql_linter": true}, "display": {"cell_output": "below", "code_editor_font_size": 14, "dataframes": "rich", "default_table_max_columns": 50, "default_table_page_size": 10, "default_width": "medium", "reference_highlighting": true, "theme": "light"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": false}}, "mcp": {"mcpServers": {}, "presets": []}, "package_management": {"manager": "uv"}, "runtime": {"auto_instantiate": false, "auto_reload": "off", "default_csv_encoding": "utf-8", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "after_delay", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"sql_output": "auto", "width": "medium"},
            "view": {"showAppCode": true},
            "notebook": {"cells": [{"code": "import marimo as mo\nimport altair as alt\n\nfrom longshot.storage.athena import query", "code_hash": "b1d971689ec003ec462a5ab461dfb3aa", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hbol", "name": "setup"}, {"code": "partition_info = query(\"\"\"\n    SELECT\n        'daily_markets' AS tbl,\n        max(date) AS latest_date,\n        max(hour) AS latest_hour\n    FROM daily_markets\n    UNION ALL\n    SELECT\n        'daily_events' AS tbl,\n        max(date) AS latest_date,\n        max(hour) AS latest_hour\n    FROM daily_events\n\"\"\")\n\nmkt_row = partition_info[partition_info[\"tbl\"] == \"daily_markets\"].iloc[0]\nevt_row = partition_info[partition_info[\"tbl\"] == \"daily_events\"].iloc[0]\nmkt_date = mkt_row[\"latest_date\"]\nmkt_hour = str(int(mkt_row[\"latest_hour\"]))\nevt_date = evt_row[\"latest_date\"]\nevt_hour = str(int(evt_row[\"latest_hour\"]))\n\nmo.md(\n    f\"\"\"\n    # Daily Market Analysis\n\n    Using the most recent daily snapshots from Athena.\n\n    | Table | Date | Hour (UTC) |\n    |-------|------|------------|\n    | daily_markets | {mkt_date} | {mkt_hour} |\n    | daily_events | {evt_date} | {evt_hour} |\n    \"\"\"\n)", "code_hash": "874ee3e57cc64c63923a9bda7f10b892", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "MJUe", "name": "find_partitions"}, {"code": "overview_stats = query(\"\"\"\n    SELECT\n        count(*)                            AS total_markets,\n        count(DISTINCT m.event_ticker)      AS distinct_events,\n        count(DISTINCT e.category)          AS categories,\n        sum(m.volume)                       AS total_volume,\n        avg(m.open_interest)                AS avg_open_interest\n    FROM daily_markets m\n    LEFT JOIN daily_events e ON m.event_ticker = e.event_ticker\n\"\"\")\n\nov = overview_stats.iloc[0]\nmo.md(\n    f\"\"\"\n    ## Snapshot Overview\n\n    | Metric | Value |\n    |--------|-------|\n    | Total active markets | {int(ov.total_markets):,} |\n    | Distinct events | {int(ov.distinct_events):,} |\n    | Categories | {int(ov.categories)} |\n    | Total volume | {int(ov.total_volume):,} contracts |\n    | Avg open interest | {ov.avg_open_interest:,.1f} |\n    \"\"\"\n)", "code_hash": "d9b038fdb13cf2045592fb83b9591bd8", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "vblA", "name": "daily_overview"}, {"code": "dte_data = query(f\"\"\"\n    WITH dte AS (\n        SELECT\n            date_diff('day', date('{mkt_date}'), date(from_iso8601_timestamp(close_time))) AS days_to_expiry\n        FROM daily_markets\n        WHERE close_time IS NOT NULL\n          AND close_time != ''\n    )\n    SELECT\n        CASE\n            WHEN days_to_expiry \u003C 0  THEN -1\n            WHEN days_to_expiry \u003C= 1 THEN 1\n            WHEN days_to_expiry \u003C= 3 THEN 3\n            WHEN days_to_expiry \u003C= 7 THEN 7\n            WHEN days_to_expiry \u003C= 14 THEN 14\n            WHEN days_to_expiry \u003C= 30 THEN 30\n            WHEN days_to_expiry \u003C= 60 THEN 60\n            WHEN days_to_expiry \u003C= 90 THEN 90\n            WHEN days_to_expiry \u003C= 180 THEN 180\n            WHEN days_to_expiry \u003C= 365 THEN 365\n            ELSE 999\n        END AS dte_bucket,\n        CASE\n            WHEN days_to_expiry \u003C 0  THEN 'Past due'\n            WHEN days_to_expiry \u003C= 1 THEN '0-1d'\n            WHEN days_to_expiry \u003C= 3 THEN '2-3d'\n            WHEN days_to_expiry \u003C= 7 THEN '4-7d'\n            WHEN days_to_expiry \u003C= 14 THEN '8-14d'\n            WHEN days_to_expiry \u003C= 30 THEN '15-30d'\n            WHEN days_to_expiry \u003C= 60 THEN '31-60d'\n            WHEN days_to_expiry \u003C= 90 THEN '61-90d'\n            WHEN days_to_expiry \u003C= 180 THEN '91-180d'\n            WHEN days_to_expiry \u003C= 365 THEN '181-365d'\n            ELSE '365d+'\n        END AS dte_label,\n        count(*) AS market_count\n    FROM dte\n    GROUP BY 1, 2\n    ORDER BY 1\n\"\"\")\n\ndte_chart = (\n    alt.Chart(dte_data)\n    .mark_bar()\n    .encode(\n        alt.X(\"dte_label:N\", sort=list(dte_data[\"dte_label\"]), title=\"Days to Expiry\"),\n        alt.Y(\"market_count:Q\", title=\"Number of Markets\"),\n        tooltip=[\n            alt.Tooltip(\"dte_label:N\", title=\"Bucket\"),\n            alt.Tooltip(\"market_count:Q\", title=\"Markets\", format=\",\"),\n        ],\n    )\n    .properties(width=700, height=400, title=\"Markets by Days to Expiry\")\n)\n\nmo.md(\"## Distribution of Markets by Days to Expiry\")\nmo.ui.altair_chart(dte_chart)", "code_hash": "cbb8db929a13e11a89afdd3a2f1afa85", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "bkHC", "name": "days_to_expiry_dist"}, {"code": "mo.md(\n    \"\"\"\n    The days-to-expiry distribution is bimodal. About 45% of active markets\n    close within the next day \u2014 these are predominantly daily crypto and\n    financials contracts that roll over. The second concentration appears in\n    the 6-12 month range, reflecting longer-dated political, sports, and\n    world-event markets. Very few markets fall in the 2-7 day window.\n    \"\"\"\n)", "code_hash": "28337b8f00e6555326fa0387f52356d1", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "lEQa", "name": "dte_commentary"}, {"code": "midprice_data = query(\"\"\"\n    WITH priced AS (\n        SELECT\n            (yes_bid + yes_ask) / 2.0 AS midpoint\n        FROM daily_markets\n        WHERE yes_bid IS NOT NULL\n          AND yes_ask IS NOT NULL\n    )\n    SELECT\n        CAST(FLOOR(midpoint / 5) * 5 AS INTEGER) AS price_bin,\n        count(*) AS market_count\n    FROM priced\n    GROUP BY FLOOR(midpoint / 5) * 5\n    ORDER BY 1\n\"\"\")\n\nmidprice_chart = (\n    alt.Chart(midprice_data)\n    .mark_bar()\n    .encode(\n        alt.X(\"price_bin:Q\", title=\"Midpoint Yes Price (cents)\", scale=alt.Scale(domain=[0, 100])),\n        alt.Y(\"market_count:Q\", title=\"Number of Markets\"),\n        tooltip=[\n            alt.Tooltip(\"price_bin:Q\", title=\"Price Bin (cents)\"),\n            alt.Tooltip(\"market_count:Q\", title=\"Markets\", format=\",\"),\n        ],\n    )\n    .properties(width=700, height=400, title=\"Markets by Midpoint Yes Price\")\n)\n\nmo.md(\"## Distribution of Markets by Midpoint Yes Price\")\nmo.ui.altair_chart(midprice_chart)", "code_hash": "91c5b6e2bc4a92246e12ca7b411dfffb", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "PKri", "name": "midpoint_price_dist"}, {"code": "mo.md(\n    \"\"\"\n    The price distribution is heavily right-skewed: roughly two-thirds of\n    active markets have a midpoint below 5 cents, meaning the market assigns\n    them very low probability. There is a secondary bump around 45-55 cents\n    (the \"coin-flip\" zone) and a modest uptick at 95+ cents for near-certain\n    outcomes. This shape is typical of prediction markets where most contracts\n    within a multi-outcome event are priced as longshots.\n    \"\"\"\n)", "code_hash": "5af9d626bf834aae90fe73cf0b90a34e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Xref", "name": "midprice_commentary"}, {"code": "cat_data = query(\"\"\"\n    SELECT\n        COALESCE(e.category, 'Unknown') AS category_name,\n        count(*) AS market_count\n    FROM daily_markets m\n    LEFT JOIN daily_events e ON m.event_ticker = e.event_ticker\n    GROUP BY COALESCE(e.category, 'Unknown')\n    ORDER BY count(*) DESC\n\"\"\")\n\ncat_chart = (\n    alt.Chart(cat_data)\n    .mark_bar()\n    .encode(\n        alt.X(\"market_count:Q\", title=\"Number of Markets\"),\n        alt.Y(\"category_name:N\", sort=\"-x\", title=\"Category\"),\n        tooltip=[\n            alt.Tooltip(\"category_name:N\", title=\"Category\"),\n            alt.Tooltip(\"market_count:Q\", title=\"Markets\", format=\",\"),\n        ],\n    )\n    .properties(width=700, height=400, title=\"Markets by Category\")\n)\n\nmo.md(\"## Distribution of Markets by Category\")\nmo.ui.altair_chart(cat_chart)", "code_hash": "8fdb09346023593842971a33569291c0", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "SFPL", "name": "category_dist"}, {"code": "mo.md(\n    \"\"\"\n    Crypto dominates the active market count at ~44%, followed by Sports at\n    ~24%. This is partly structural \u2014 crypto events tend to generate many\n    individual strike-level markets (e.g., \"BTC above $X\"). Financials,\n    Entertainment, and Politics round out the top five. The long tail of\n    smaller categories (Health, Transportation) has very few active markets.\n    \"\"\"\n)", "code_hash": "59209df8342ece52c39978e56245c37c", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "BYtC", "name": "category_commentary"}, {"code": "mo.md(\n    \"\"\"\n    ---\n\n    # Longshot Markets (Last Price $0.03 - $0.15)\n\n    Filtering to markets where the last traded yes price is between 3 and 15 cents\n    (inclusive). These are the \"longshot\" contracts \u2014 low-probability events\n    where the favorite-longshot bias is most pronounced.\n    \"\"\"\n)", "code_hash": "2d86e459eb0003625c627a4b05ff24a5", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "RGSE", "name": "longshot_header"}, {"code": "ls_stats = query(\"\"\"\n    SELECT\n        count(*)                            AS ls_total,\n        count(DISTINCT m.event_ticker)      AS ls_events,\n        sum(m.volume)                       AS ls_volume,\n        avg(m.open_interest)                AS ls_avg_oi,\n        avg(m.last_price)                   AS ls_avg_price\n    FROM daily_markets m\n    LEFT JOIN daily_events e ON m.event_ticker = e.event_ticker\n    WHERE m.last_price \u003E= 3\n      AND m.last_price \u003C= 15\n\"\"\")\n\nls = ls_stats.iloc[0]\nmo.md(\n    f\"\"\"\n    ## Longshot Snapshot Overview\n\n    | Metric | Value |\n    |--------|-------|\n    | Longshot markets | {int(ls.ls_total):,} |\n    | Distinct events | {int(ls.ls_events):,} |\n    | Total volume | {int(ls.ls_volume):,} contracts |\n    | Avg open interest | {ls.ls_avg_oi:,.1f} |\n    | Avg last price (cents) | {ls.ls_avg_price:,.1f} |\n    \"\"\"\n)", "code_hash": "2dded5b1825376a8f0f2a92c1dc7ab00", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Kclp", "name": "longshot_overview"}, {"code": "mo.md(\n    \"\"\"\n    Longshot markets represent about 9% of all active markets but carry\n    substantially higher average open interest (~35k vs ~8k overall),\n    indicating strong speculative interest. Their combined volume of 300M+\n    contracts is notable given their low price levels.\n    \"\"\"\n)", "code_hash": "a18d716343a13d0bc33ce4f9bb38cef9", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "emfo", "name": "longshot_overview_commentary"}, {"code": "ls_dte_data = query(f\"\"\"\n    WITH ls_dte AS (\n        SELECT\n            date_diff('day', date('{mkt_date}'), date(from_iso8601_timestamp(close_time))) AS days_to_expiry\n        FROM daily_markets\n        WHERE close_time IS NOT NULL\n          AND close_time != ''\n          AND last_price \u003E= 3\n          AND last_price \u003C= 15\n    )\n    SELECT\n        CASE\n            WHEN days_to_expiry \u003C 0  THEN -1\n            WHEN days_to_expiry \u003C= 1 THEN 1\n            WHEN days_to_expiry \u003C= 3 THEN 3\n            WHEN days_to_expiry \u003C= 7 THEN 7\n            WHEN days_to_expiry \u003C= 14 THEN 14\n            WHEN days_to_expiry \u003C= 30 THEN 30\n            WHEN days_to_expiry \u003C= 60 THEN 60\n            WHEN days_to_expiry \u003C= 90 THEN 90\n            WHEN days_to_expiry \u003C= 180 THEN 180\n            WHEN days_to_expiry \u003C= 365 THEN 365\n            ELSE 999\n        END AS ls_dte_bucket,\n        CASE\n            WHEN days_to_expiry \u003C 0  THEN 'Past due'\n            WHEN days_to_expiry \u003C= 1 THEN '0-1d'\n            WHEN days_to_expiry \u003C= 3 THEN '2-3d'\n            WHEN days_to_expiry \u003C= 7 THEN '4-7d'\n            WHEN days_to_expiry \u003C= 14 THEN '8-14d'\n            WHEN days_to_expiry \u003C= 30 THEN '15-30d'\n            WHEN days_to_expiry \u003C= 60 THEN '31-60d'\n            WHEN days_to_expiry \u003C= 90 THEN '61-90d'\n            WHEN days_to_expiry \u003C= 180 THEN '91-180d'\n            WHEN days_to_expiry \u003C= 365 THEN '181-365d'\n            ELSE '365d+'\n        END AS ls_dte_label,\n        count(*) AS ls_market_count\n    FROM ls_dte\n    GROUP BY 1, 2\n    ORDER BY 1\n\"\"\")\n\nls_dte_chart = (\n    alt.Chart(ls_dte_data)\n    .mark_bar(color=\"darkorange\")\n    .encode(\n        alt.X(\"ls_dte_label:N\", sort=list(ls_dte_data[\"ls_dte_label\"]), title=\"Days to Expiry\"),\n        alt.Y(\"ls_market_count:Q\", title=\"Number of Markets\"),\n        tooltip=[\n            alt.Tooltip(\"ls_dte_label:N\", title=\"Bucket\"),\n            alt.Tooltip(\"ls_market_count:Q\", title=\"Markets\", format=\",\"),\n        ],\n    )\n    .properties(width=700, height=400, title=\"Longshot Markets by Days to Expiry\")\n)\n\nmo.md(\"## Longshot Markets \u2014 Days to Expiry\")\nmo.ui.altair_chart(ls_dte_chart)", "code_hash": "0c891520ac348467d0afd50418f2b5b8", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hstk", "name": "longshot_dte_dist"}, {"code": "mo.md(\n    \"\"\"\n    The longshot DTE distribution is strikingly different from the overall\n    market. The 0-1 day bucket drops from 45% to just 2%, while 181-365 day\n    and 365+ day markets together account for over 60% of longshots. This\n    makes sense: short-dated markets tend to have resolved most of their\n    uncertainty, so longshot pricing at $0.03-$0.15 is rare for expiring\n    contracts. The longer time horizon gives longshots more \"optionality\" \u2014\n    low-probability events have more time to materialize.\n    \"\"\"\n)", "code_hash": "bd092b3e31e7af0d0dad3e80a4d0fa07", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "nWHF", "name": "longshot_dte_commentary"}, {"code": "ls_midprice_data = query(\"\"\"\n    WITH ls_priced AS (\n        SELECT\n            (yes_bid + yes_ask) / 2.0 AS ls_midpoint\n        FROM daily_markets\n        WHERE yes_bid IS NOT NULL\n          AND yes_ask IS NOT NULL\n          AND last_price \u003E= 3\n          AND last_price \u003C= 15\n    )\n    SELECT\n        CAST(FLOOR(ls_midpoint) AS INTEGER) AS ls_price_bin,\n        count(*) AS ls_price_count\n    FROM ls_priced\n    GROUP BY FLOOR(ls_midpoint)\n    ORDER BY 1\n\"\"\")\n\nls_midprice_chart = (\n    alt.Chart(ls_midprice_data)\n    .mark_bar(color=\"darkorange\")\n    .encode(\n        alt.X(\"ls_price_bin:Q\", title=\"Midpoint Yes Price (cents)\", scale=alt.Scale(domain=[0, 20])),\n        alt.Y(\"ls_price_count:Q\", title=\"Number of Markets\"),\n        tooltip=[\n            alt.Tooltip(\"ls_price_bin:Q\", title=\"Price (cents)\"),\n            alt.Tooltip(\"ls_price_count:Q\", title=\"Markets\", format=\",\"),\n        ],\n    )\n    .properties(width=700, height=400, title=\"Longshot Markets by Midpoint Yes Price\")\n)\n\nmo.md(\"## Longshot Markets \u2014 Midpoint Yes Price\")\nmo.ui.altair_chart(ls_midprice_chart)", "code_hash": "7c7846cb83a5aee8dad712f54ab0e8d9", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "iLit", "name": "longshot_midprice_dist"}, {"code": "mo.md(\n    \"\"\"\n    Within the longshot band, the midpoint distribution peaks at 2-3 cents\n    and declines roughly monotonically through the range. The heaviest\n    concentration is in the 1-5 cent zone, where wide bid-ask spreads are\n    common (the midpoint may differ from the last trade price, which is why\n    some midpoints fall outside the 3-15 cent filter on `last_price`). These\n    very low-priced markets are the core of the favorite-longshot bias\n    analysis \u2014 historically they tend to overestimate the true probability.\n    \"\"\"\n)", "code_hash": "30102bea89539f5c06ecf0917374435b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ZHCJ", "name": "longshot_midprice_commentary"}, {"code": "ls_cat_data = query(\"\"\"\n    SELECT\n        COALESCE(e.category, 'Unknown') AS ls_category,\n        count(*) AS ls_cat_count\n    FROM daily_markets m\n    LEFT JOIN daily_events e ON m.event_ticker = e.event_ticker\n    WHERE m.last_price \u003E= 3\n      AND m.last_price \u003C= 15\n    GROUP BY COALESCE(e.category, 'Unknown')\n    ORDER BY count(*) DESC\n\"\"\")\n\nls_cat_chart = (\n    alt.Chart(ls_cat_data)\n    .mark_bar(color=\"darkorange\")\n    .encode(\n        alt.X(\"ls_cat_count:Q\", title=\"Number of Markets\"),\n        alt.Y(\"ls_category:N\", sort=\"-x\", title=\"Category\"),\n        tooltip=[\n            alt.Tooltip(\"ls_category:N\", title=\"Category\"),\n            alt.Tooltip(\"ls_cat_count:Q\", title=\"Markets\", format=\",\"),\n        ],\n    )\n    .properties(width=700, height=400, title=\"Longshot Markets by Category\")\n)\n\nmo.md(\"## Longshot Markets \u2014 Category Distribution\")\nmo.ui.altair_chart(ls_cat_chart)", "code_hash": "5ebc429f1ec6f4ff208b554b5d8d8a3e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ROlb", "name": "longshot_category_dist"}, {"code": "mo.md(\n    \"\"\"\n    The category mix shifts dramatically for longshots. Crypto drops from 44%\n    of all markets to just 3% of longshots \u2014 crypto contracts tend to be\n    near-zero or near-100 (deep out/in-the-money strikes), so very few land\n    in the 3-15 cent band. Sports takes the lead at 37% of longshots,\n    followed by Entertainment (17%) and Politics (16%). These categories have\n    multi-runner events (e.g., \"Who will win the Super Bowl?\") where most\n    runners are naturally priced as longshots. Elections similarly contribute\n    12% \u2014 multi-candidate races produce many low-priced contracts.\n    \"\"\"\n)", "code_hash": "3992d6322a23db57f585794d7fa3143c", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "qnkX", "name": "longshot_category_commentary"}], "metadata": {"marimo_version": "0.20.1"}, "version": "1"},
            "session": {"cells": [{"code_hash": "b1d971689ec003ec462a5ab461dfb3aa", "console": [], "id": "Hbol", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "874ee3e57cc64c63923a9bda7f10b892", "console": [], "id": "MJUe", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch1 id=\"daily-market-analysis\"\u003EDaily Market Analysis\u003C/h1\u003E\n\u003Cspan class=\"paragraph\"\u003EUsing the most recent daily snapshots from Athena.\u003C/span\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003ETable\u003C/th\u003E\n\u003Cth\u003EDate\u003C/th\u003E\n\u003Cth\u003EHour (UTC)\u003C/th\u003E\n\u003C/tr\u003E\n\u003C/thead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003Edaily_markets\u003C/td\u003E\n\u003Ctd\u003E2026-02-22\u003C/td\u003E\n\u003Ctd\u003E17\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003Edaily_events\u003C/td\u003E\n\u003Ctd\u003E2026-02-22\u003C/td\u003E\n\u003Ctd\u003E17\u003C/td\u003E\n\u003C/tr\u003E\n\u003C/tbody\u003E\n\u003C/table\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "d9b038fdb13cf2045592fb83b9591bd8", "console": [], "id": "vblA", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"snapshot-overview\"\u003ESnapshot Overview\u003C/h2\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003EMetric\u003C/th\u003E\n\u003Cth\u003EValue\u003C/th\u003E\n\u003C/tr\u003E\n\u003C/thead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ETotal active markets\u003C/td\u003E\n\u003Ctd\u003E59,258\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EDistinct events\u003C/td\u003E\n\u003Ctd\u003E4,933\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ECategories\u003C/td\u003E\n\u003Ctd\u003E15\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ETotal volume\u003C/td\u003E\n\u003Ctd\u003E758,214,253 contracts\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EAvg open interest\u003C/td\u003E\n\u003Ctd\u003E8,040.1\u003C/td\u003E\n\u003C/tr\u003E\n\u003C/tbody\u003E\n\u003C/table\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "cbb8db929a13e11a89afdd3a2f1afa85", "console": [], "id": "bkHC", "outputs": [{"data": {"text/html": "\u003Cmarimo-ui-element object-id='bkHC-0' random-id='989b2df2-2b80-c86c-9e72-3ceea362bcf7'\u003E\u003Cmarimo-vega data-initial-value='{}' data-label='null' data-spec='{\u0026quot;config\u0026quot;:{\u0026quot;view\u0026quot;:{\u0026quot;continuousWidth\u0026quot;:300,\u0026quot;continuousHeight\u0026quot;:300}},\u0026quot;data\u0026quot;:{\u0026quot;url\u0026quot;:\u0026quot;data:application/vnd.apache.arrow.file;base64,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aW5kZXhlcyI6IFt7Im5hbWUiOiBudWxsLCAiZmllbGRfbmFtZSI6IG51bGwsICJwYW5kYXNfdHlwZSI6ICJ1bmljb2RlIiwgIm51bXB5X3R5cGUiOiAic3RyIiwgIm1ldGFkYXRhIjogeyJlbmNvZGluZyI6ICJVVEYtOCJ9fV0sICJjb2x1bW5zIjogW3sibmFtZSI6ICJkdGVfYnVja2V0IiwgImZpZWxkX25hbWUiOiAiZHRlX2J1Y2tldCIsICJwYW5kYXNfdHlwZSI6ICJpbnQ2NCIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAiZHRlX2xhYmVsIiwgImZpZWxkX25hbWUiOiAiZHRlX2xhYmVsIiwgInBhbmRhc190eXBlIjogIm9iamVjdCIsICJudW1weV90eXBlIjogInN0ciIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAibWFya2V0X2NvdW50IiwgImZpZWxkX25hbWUiOiAibWFya2V0X2NvdW50IiwgInBhbmRhc190eXBlIjogImludDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH1dLCAiYXR0cmlidXRlcyI6IHt9LCAiY3JlYXRvciI6IHsibGlicmFyeSI6ICJweWFycm93IiwgInZlcnNpb24iOiAiMjMuMC4xIn0sICJwYW5kYXNfdmVyc2lvbiI6ICIzLjAuMSJ9AAAABgAAAHBhbmRhcwAAAwAAAIQAAABAAAAABAAAAJj///8AAAECEAAAACAAAAAEAAAAAAAAAAwAAABtYXJrZXRfY291bnQAAAAAjP///wAAAAFAAAAA0P///wAAARQQAAAAIAAAAAQAAAAAAAAACQAAAGR0ZV9sYWJlbAAAAAQABAAEAAAAEAAUAAgABgAHAAwAAAAQABAAAAAAAAECEAAAACQAAAAEAAAAAAAAAAoAAABkdGVfYnVja2V0AAAIAAwACAAHAAgAAAAAAAABQAAAAAgEAABBUlJPVzE=\u0026quot;,\u0026quot;format\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;arrow\u0026quot;}},\u0026quot;mark\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;bar\u0026quot;},\u0026quot;encoding\u0026quot;:{\u0026quot;tooltip\u0026quot;:[{\u0026quot;field\u0026quot;:\u0026quot;dte_label\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Bucket\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;market_count\u0026quot;,\u0026quot;format\u0026quot;:\u0026quot;,\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}],\u0026quot;x\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;dte_label\u0026quot;,\u0026quot;sort\u0026quot;:[\u0026quot;0-1d\u0026quot;,\u0026quot;2-3d\u0026quot;,\u0026quot;4-7d\u0026quot;,\u0026quot;8-14d\u0026quot;,\u0026quot;15-30d\u0026quot;,\u0026quot;31-60d\u0026quot;,\u0026quot;61-90d\u0026quot;,\u0026quot;91-180d\u0026quot;,\u0026quot;181-365d\u0026quot;,\u0026quot;365d+\u0026quot;],\u0026quot;title\u0026quot;:\u0026quot;Days to Expiry\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},\u0026quot;y\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;market_count\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Number of Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}},\u0026quot;height\u0026quot;:400,\u0026quot;title\u0026quot;:\u0026quot;Markets by Days to Expiry\u0026quot;,\u0026quot;width\u0026quot;:700,\u0026quot;\u0026#36;schema\u0026quot;:\u0026quot;https://vega.github.io/schema/vega-lite/v6.1.0.json\u0026quot;}' data-chart-selection='true' data-field-selection='true' data-embed-options='{}'\u003E\u003C/marimo-vega\u003E\u003C/marimo-ui-element\u003E"}, "type": "data"}]}, {"code_hash": "28337b8f00e6555326fa0387f52356d1", "console": [], "id": "lEQa", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EThe days-to-expiry distribution is bimodal. About 45% of active markets\nclose within the next day \u2014 these are predominantly daily crypto and\nfinancials contracts that roll over. The second concentration appears in\nthe 6-12 month range, reflecting longer-dated political, sports, and\nworld-event markets. Very few markets fall in the 2-7 day window.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "91c5b6e2bc4a92246e12ca7b411dfffb", "console": [], "id": "PKri", "outputs": [{"data": {"text/html": "\u003Cmarimo-ui-element object-id='PKri-0' random-id='f4f0a953-539c-10e0-a035-c65417515af2'\u003E\u003Cmarimo-vega data-initial-value='{}' data-label='null' data-spec='{\u0026quot;config\u0026quot;:{\u0026quot;view\u0026quot;:{\u0026quot;continuousWidth\u0026quot;:300,\u0026quot;continuousHeight\u0026quot;:300}},\u0026quot;data\u0026quot;:{\u0026quot;url\u0026quot;:\u0026quot;data:application/vnd.apache.arrow.file;base64,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\u0026quot;,\u0026quot;format\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;arrow\u0026quot;}},\u0026quot;mark\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;bar\u0026quot;},\u0026quot;encoding\u0026quot;:{\u0026quot;tooltip\u0026quot;:[{\u0026quot;field\u0026quot;:\u0026quot;price_bin\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Price Bin (cents)\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;market_count\u0026quot;,\u0026quot;format\u0026quot;:\u0026quot;,\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}],\u0026quot;x\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;price_bin\u0026quot;,\u0026quot;scale\u0026quot;:{\u0026quot;domain\u0026quot;:[0,100]},\u0026quot;title\u0026quot;:\u0026quot;Midpoint Yes Price (cents)\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},\u0026quot;y\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;market_count\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Number of Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}},\u0026quot;height\u0026quot;:400,\u0026quot;title\u0026quot;:\u0026quot;Markets by Midpoint Yes Price\u0026quot;,\u0026quot;width\u0026quot;:700,\u0026quot;\u0026#36;schema\u0026quot;:\u0026quot;https://vega.github.io/schema/vega-lite/v6.1.0.json\u0026quot;}' data-chart-selection='true' data-field-selection='true' data-embed-options='{}'\u003E\u003C/marimo-vega\u003E\u003C/marimo-ui-element\u003E"}, "type": "data"}]}, {"code_hash": "5af9d626bf834aae90fe73cf0b90a34e", "console": [], "id": "Xref", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EThe price distribution is heavily right-skewed: roughly two-thirds of\nactive markets have a midpoint below 5 cents, meaning the market assigns\nthem very low probability. There is a secondary bump around 45-55 cents\n(the \"coin-flip\" zone) and a modest uptick at 95+ cents for near-certain\noutcomes. This shape is typical of prediction markets where most contracts\nwithin a multi-outcome event are priced as longshots.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "8fdb09346023593842971a33569291c0", "console": [], "id": "SFPL", "outputs": [{"data": {"text/html": "\u003Cmarimo-ui-element object-id='SFPL-0' random-id='c985a5c6-bac0-bae1-3478-5157ff89a1f3'\u003E\u003Cmarimo-vega data-initial-value='{}' data-label='null' data-spec='{\u0026quot;config\u0026quot;:{\u0026quot;view\u0026quot;:{\u0026quot;continuousWidth\u0026quot;:300,\u0026quot;continuousHeight\u0026quot;:300}},\u0026quot;data\u0026quot;:{\u0026quot;url\u0026quot;:\u0026quot;data:application/vnd.apache.arrow.file;base64,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dGEiOiB7ImVuY29kaW5nIjogIlVURi04In19XSwgImNvbHVtbnMiOiBbeyJuYW1lIjogImNhdGVnb3J5X25hbWUiLCAiZmllbGRfbmFtZSI6ICJjYXRlZ29yeV9uYW1lIiwgInBhbmRhc190eXBlIjogIm9iamVjdCIsICJudW1weV90eXBlIjogInN0ciIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAibWFya2V0X2NvdW50IiwgImZpZWxkX25hbWUiOiAibWFya2V0X2NvdW50IiwgInBhbmRhc190eXBlIjogImludDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH1dLCAiYXR0cmlidXRlcyI6IHt9LCAiY3JlYXRvciI6IHsibGlicmFyeSI6ICJweWFycm93IiwgInZlcnNpb24iOiAiMjMuMC4xIn0sICJwYW5kYXNfdmVyc2lvbiI6ICIzLjAuMSJ9AAYAAABwYW5kYXMAAAIAAABYAAAABAAAAMD///8AAAECEAAAACgAAAAEAAAAAAAAAAwAAABtYXJrZXRfY291bnQAAAAACAAMAAgABwAIAAAAAAAAAUAAAAAQABQACAAGAAcADAAAABAAEAAAAAAAARQQAAAAJAAAAAQAAAAAAAAADQAAAGNhdGVnb3J5X25hbWUAAAAEAAQABAAAAGADAABBUlJPVzE=\u0026quot;,\u0026quot;format\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;arrow\u0026quot;}},\u0026quot;mark\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;bar\u0026quot;},\u0026quot;encoding\u0026quot;:{\u0026quot;tooltip\u0026quot;:[{\u0026quot;field\u0026quot;:\u0026quot;category_name\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Category\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;market_count\u0026quot;,\u0026quot;format\u0026quot;:\u0026quot;,\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}],\u0026quot;x\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;market_count\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Number of Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},\u0026quot;y\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;category_name\u0026quot;,\u0026quot;sort\u0026quot;:\u0026quot;-x\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Category\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;}},\u0026quot;height\u0026quot;:400,\u0026quot;title\u0026quot;:\u0026quot;Markets by Category\u0026quot;,\u0026quot;width\u0026quot;:700,\u0026quot;\u0026#36;schema\u0026quot;:\u0026quot;https://vega.github.io/schema/vega-lite/v6.1.0.json\u0026quot;}' data-chart-selection='true' data-field-selection='true' data-embed-options='{}'\u003E\u003C/marimo-vega\u003E\u003C/marimo-ui-element\u003E"}, "type": "data"}]}, {"code_hash": "59209df8342ece52c39978e56245c37c", "console": [], "id": "BYtC", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003ECrypto dominates the active market count at ~44%, followed by Sports at\n~24%. This is partly structural \u2014 crypto events tend to generate many\nindividual strike-level markets (e.g., \"BTC above $X\"). Financials,\nEntertainment, and Politics round out the top five. The long tail of\nsmaller categories (Health, Transportation) has very few active markets.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "2d86e459eb0003625c627a4b05ff24a5", "console": [], "id": "RGSE", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Chr /\u003E\n\u003Ch1 id=\"longshot-markets-last-price-003-015\"\u003ELongshot Markets (Last Price $0.03 - $0.15)\u003C/h1\u003E\n\u003Cspan class=\"paragraph\"\u003EFiltering to markets where the last traded yes price is between 3 and 15 cents\n(inclusive). These are the \"longshot\" contracts \u2014 low-probability events\nwhere the favorite-longshot bias is most pronounced.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "2dded5b1825376a8f0f2a92c1dc7ab00", "console": [], "id": "Kclp", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"longshot-snapshot-overview\"\u003ELongshot Snapshot Overview\u003C/h2\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003EMetric\u003C/th\u003E\n\u003Cth\u003EValue\u003C/th\u003E\n\u003C/tr\u003E\n\u003C/thead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ELongshot markets\u003C/td\u003E\n\u003Ctd\u003E5,592\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EDistinct events\u003C/td\u003E\n\u003Ctd\u003E1,923\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ETotal volume\u003C/td\u003E\n\u003Ctd\u003E303,379,311 contracts\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EAvg open interest\u003C/td\u003E\n\u003Ctd\u003E34,857.0\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EAvg last price (cents)\u003C/td\u003E\n\u003Ctd\u003E7.5\u003C/td\u003E\n\u003C/tr\u003E\n\u003C/tbody\u003E\n\u003C/table\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "a18d716343a13d0bc33ce4f9bb38cef9", "console": [], "id": "emfo", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003ELongshot markets represent about 9% of all active markets but carry\nsubstantially higher average open interest (~35k vs ~8k overall),\nindicating strong speculative interest. Their combined volume of 300M+\ncontracts is notable given their low price levels.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "0c891520ac348467d0afd50418f2b5b8", "console": [], "id": "Hstk", "outputs": [{"data": {"text/html": "\u003Cmarimo-ui-element object-id='Hstk-0' random-id='4f5b8bd0-519c-2aab-c39f-fca78addbb65'\u003E\u003Cmarimo-vega data-initial-value='{}' data-label='null' data-spec='{\u0026quot;config\u0026quot;:{\u0026quot;view\u0026quot;:{\u0026quot;continuousWidth\u0026quot;:300,\u0026quot;continuousHeight\u0026quot;:300}},\u0026quot;data\u0026quot;:{\u0026quot;url\u0026quot;:\u0026quot;data:application/vnd.apache.arrow.file;base64,QVJST1cxAAD/////+AMAABAAAAAAAAoADgAGAAUACAAKAAAAAAEEABAAAAAAAAoADAAAAAQACAAKAAAA/AIAAAQAAAABAAAADAAAAAgADAAEAAgACAAAANQCAAAEAAAAxwIAAHsiaW5kZXhfY29sdW1ucyI6IFt7ImtpbmQiOiAicmFuZ2UiLCAibmFtZSI6IG51bGwsICJzdGFydCI6IDAsICJzdG9wIjogMTAsICJzdGVwIjogMX1dLCAiY29sdW1uX2luZGV4ZXMiOiBbeyJuYW1lIjogbnVsbCwgImZpZWxkX25hbWUiOiBudWxsLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogInN0ciIsICJtZXRhZGF0YSI6IHsiZW5jb2RpbmciOiAiVVRGLTgifX1dLCAiY29sdW1ucyI6IFt7Im5hbWUiOiAibHNfZHRlX2J1Y2tldCIsICJmaWVsZF9uYW1lIjogImxzX2R0ZV9idWNrZXQiLCAicGFuZGFzX3R5cGUiOiAiaW50NjQiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogImxzX2R0ZV9sYWJlbCIsICJmaWVsZF9uYW1lIjogImxzX2R0ZV9sYWJlbCIsICJwYW5kYXNfdHlwZSI6ICJvYmplY3QiLCAibnVtcHlfdHlwZSI6ICJzdHIiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogImxzX21hcmtldF9jb3VudCIsICJmaWVsZF9uYW1lIjogImxzX21hcmtldF9jb3VudCIsICJwYW5kYXNfdHlwZSI6ICJpbnQ2NCIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9XSwgImF0dHJpYnV0ZXMiOiB7fSwgImNyZWF0b3IiOiB7ImxpYnJhcnkiOiAicHlhcnJvdyIsICJ2ZXJzaW9uIjogIjIzLjAuMSJ9LCAicGFuZGFzX3ZlcnNpb24iOiAiMy4wLjEifQAGAAAAcGFuZGFzAAADAAAAiAAAAEAAAAAEAAAAlP///wAAAQIQAAAAIAAAAAQAAAAAAAAADwAAAGxzX21hcmtldF9jb3VudACE////AAAAAUAAAADM////AAABFBAAAAAkAAAABAAAAAAAAAAMAAAAbHNfZHRlX2xhYmVsAAAAAAQABAAEAAAAEAAUAAgABgAHAAwAAAAQABAAAAAAAAECEAAAACgAAAAEAAAAAAAAAA0AAABsc19kdGVfYnVja2V0AAAACAAMAAgABwAIAAAAAAAAAUAAAAAAAAAA//////gAAAAUAAAAAAAAAAwAFgAGAAUACAAMAAwAAAAAAwQAGAAAADABAAAAAAAAAAAKABgADAAEAAgACgAAAIwAAAAQAAAACgAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAWAAAAAAAAACoAAAAAAAAADcAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAUAAAAAAAAAAAAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAAHAAAAAAAAAA4AAAAAAAAAHgAAAAAAAAA8AAAAAAAAAFoAAAAAAAAAtAAAAAAAAABtAQAAAAAAAOcDAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAgAAAAAAAAADAAAAAAAAAARAAAAAAAAABcAAAAAAAAAHQAAAAAAAAAjAAAAAAAAACoAAAAAAAAAMgAAAAAAAAA3AAAAAAAAADAtMWQyLTNkNC03ZDgtMTRkMTUtMzBkMzEtNjBkNjEtOTBkOTEtMTgwZDE4MS0zNjVkMzY1ZCsAfAAAAAAAAABZAAAAAAAAAEgBAAAAAAAAGgEAAAAAAAAuAQAAAAAAAAABAAAAAAAAyAAAAAAAAABPAgAAAAAAAH0HAAAAAAAA3wUAAAAAAAD/////AAAAABAAAAAMABQABgAIAAwAEAAMAAAAAAAEADwAAAAoAAAABAAAAAEAAAAIBAAAAAAAAAABAAAAAAAAMAEAAAAAAAAAAAAAAAAAAAAACgAMAAAABAAIAAoAAAD8AgAABAAAAAEAAAAMAAAACAAMAAQACAAIAAAA1AIAAAQAAADHAgAAeyJpbmRleF9jb2x1bW5zIjogW3sia2luZCI6ICJyYW5nZSIsICJuYW1lIjogbnVsbCwgInN0YXJ0IjogMCwgInN0b3AiOiAxMCwgInN0ZXAiOiAxfV0sICJjb2x1bW5faW5kZXhlcyI6IFt7Im5hbWUiOiBudWxsLCAiZmllbGRfbmFtZSI6IG51bGwsICJwYW5kYXNfdHlwZSI6ICJ1bmljb2RlIiwgIm51bXB5X3R5cGUiOiAic3RyIiwgIm1ldGFkYXRhIjogeyJlbmNvZGluZyI6ICJVVEYtOCJ9fV0sICJjb2x1bW5zIjogW3sibmFtZSI6ICJsc19kdGVfYnVja2V0IiwgImZpZWxkX25hbWUiOiAibHNfZHRlX2J1Y2tldCIsICJwYW5kYXNfdHlwZSI6ICJpbnQ2NCIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAibHNfZHRlX2xhYmVsIiwgImZpZWxkX25hbWUiOiAibHNfZHRlX2xhYmVsIiwgInBhbmRhc190eXBlIjogIm9iamVjdCIsICJudW1weV90eXBlIjogInN0ciIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAibHNfbWFya2V0X2NvdW50IiwgImZpZWxkX25hbWUiOiAibHNfbWFya2V0X2NvdW50IiwgInBhbmRhc190eXBlIjogImludDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH1dLCAiYXR0cmlidXRlcyI6IHt9LCAiY3JlYXRvciI6IHsibGlicmFyeSI6ICJweWFycm93IiwgInZlcnNpb24iOiAiMjMuMC4xIn0sICJwYW5kYXNfdmVyc2lvbiI6ICIzLjAuMSJ9AAYAAABwYW5kYXMAAAMAAACIAAAAQAAAAAQAAACU////AAABAhAAAAAgAAAABAAAAAAAAAAPAAAAbHNfbWFya2V0X2NvdW50AIT///8AAAABQAAAAMz///8AAAEUEAAAACQAAAAEAAAAAAAAAAwAAABsc19kdGVfbGFiZWwAAAAABAAEAAQAAAAQABQACAAGAAcADAAAABAAEAAAAAAAAQIQAAAAKAAAAAQAAAAAAAAADQAAAGxzX2R0ZV9idWNrZXQAAAAIAAwACAAHAAgAAAAAAAABQAAAACAEAABBUlJPVzE=\u0026quot;,\u0026quot;format\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;arrow\u0026quot;}},\u0026quot;mark\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;bar\u0026quot;,\u0026quot;color\u0026quot;:\u0026quot;darkorange\u0026quot;},\u0026quot;encoding\u0026quot;:{\u0026quot;tooltip\u0026quot;:[{\u0026quot;field\u0026quot;:\u0026quot;ls_dte_label\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Bucket\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;ls_market_count\u0026quot;,\u0026quot;format\u0026quot;:\u0026quot;,\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}],\u0026quot;x\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;ls_dte_label\u0026quot;,\u0026quot;sort\u0026quot;:[\u0026quot;0-1d\u0026quot;,\u0026quot;2-3d\u0026quot;,\u0026quot;4-7d\u0026quot;,\u0026quot;8-14d\u0026quot;,\u0026quot;15-30d\u0026quot;,\u0026quot;31-60d\u0026quot;,\u0026quot;61-90d\u0026quot;,\u0026quot;91-180d\u0026quot;,\u0026quot;181-365d\u0026quot;,\u0026quot;365d+\u0026quot;],\u0026quot;title\u0026quot;:\u0026quot;Days to Expiry\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},\u0026quot;y\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;ls_market_count\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Number of Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}},\u0026quot;height\u0026quot;:400,\u0026quot;title\u0026quot;:\u0026quot;Longshot Markets by Days to Expiry\u0026quot;,\u0026quot;width\u0026quot;:700,\u0026quot;\u0026#36;schema\u0026quot;:\u0026quot;https://vega.github.io/schema/vega-lite/v6.1.0.json\u0026quot;}' data-chart-selection='true' data-field-selection='true' data-embed-options='{}'\u003E\u003C/marimo-vega\u003E\u003C/marimo-ui-element\u003E"}, "type": "data"}]}, {"code_hash": "bd092b3e31e7af0d0dad3e80a4d0fa07", "console": [], "id": "nWHF", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EThe longshot DTE distribution is strikingly different from the overall\nmarket. The 0-1 day bucket drops from 45% to just 2%, while 181-365 day\nand 365+ day markets together account for over 60% of longshots. This\nmakes sense: short-dated markets tend to have resolved most of their\nuncertainty, so longshot pricing at \u003Cmarimo-tex class=\"arithmatex\"\u003E||(0.03-||)\u003C/marimo-tex\u003E0.15 is rare for expiring\ncontracts. The longer time horizon gives longshots more \"optionality\" \u2014\nlow-probability events have more time to materialize.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "7c7846cb83a5aee8dad712f54ab0e8d9", "console": [], "id": "iLit", "outputs": [{"data": {"text/html": "\u003Cmarimo-ui-element object-id='iLit-0' random-id='6ef1dbb3-52a9-88b2-a47e-8e1dbc639933'\u003E\u003Cmarimo-vega data-initial-value='{}' data-label='null' data-spec='{\u0026quot;config\u0026quot;:{\u0026quot;view\u0026quot;:{\u0026quot;continuousWidth\u0026quot;:300,\u0026quot;continuousHeight\u0026quot;:300}},\u0026quot;data\u0026quot;:{\u0026quot;url\u0026quot;:\u0026quot;data:application/vnd.apache.arrow.file;base64,QVJST1cxAAD/////QAMAABAAAAAAAAoADgAGAAUACAAKAAAAAAEEABAAAAAAAAoADAAAAAQACAAKAAAAgAIAAAQAAAABAAAADAAAAAgADAAEAAgACAAAAFgCAAAEAAAASwIAAHsiaW5kZXhfY29sdW1ucyI6IFt7ImtpbmQiOiAicmFuZ2UiLCAibmFtZSI6IG51bGwsICJzdGFydCI6IDAsICJzdG9wIjogNTksICJzdGVwIjogMX1dLCAiY29sdW1uX2luZGV4ZXMiOiBbeyJuYW1lIjogbnVsbCwgImZpZWxkX25hbWUiOiBudWxsLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogInN0ciIsICJtZXRhZGF0YSI6IHsiZW5jb2RpbmciOiAiVVRGLTgifX1dLCAiY29sdW1ucyI6IFt7Im5hbWUiOiAibHNfcHJpY2VfYmluIiwgImZpZWxkX25hbWUiOiAibHNfcHJpY2VfYmluIiwgInBhbmRhc190eXBlIjogImludDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJsc19wcmljZV9jb3VudCIsICJmaWVsZF9uYW1lIjogImxzX3ByaWNlX2NvdW50IiwgInBhbmRhc190eXBlIjogImludDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH1dLCAiYXR0cmlidXRlcyI6IHt9LCAiY3JlYXRvciI6IHsibGlicmFyeSI6ICJweWFycm93IiwgInZlcnNpb24iOiAiMjMuMC4xIn0sICJwYW5kYXNfdmVyc2lvbiI6ICIzLjAuMSJ9AAYAAABwYW5kYXMAAAIAAABQAAAABAAAAMj///8AAAECEAAAACAAAAAEAAAAAAAAAA4AAABsc19wcmljZV9jb3VudAAAuP///wAAAAFAAAAAEAAUAAgABgAHAAwAAAAQABAAAAAAAAECEAAAACgAAAAEAAAAAAAAAAwAAABsc19wcmljZV9iaW4AAAAACAAMAAgABwAIAAAAAAAAAUAAAAD/////uAAAABQAAAAAAAAADAAWAAYABQAIAAwADAAAAAADBAAYAAAAsAMAAAAAAAAAAAoA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\u0026quot;,\u0026quot;format\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;arrow\u0026quot;}},\u0026quot;mark\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;bar\u0026quot;,\u0026quot;color\u0026quot;:\u0026quot;darkorange\u0026quot;},\u0026quot;encoding\u0026quot;:{\u0026quot;tooltip\u0026quot;:[{\u0026quot;field\u0026quot;:\u0026quot;ls_price_bin\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Price (cents)\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;ls_price_count\u0026quot;,\u0026quot;format\u0026quot;:\u0026quot;,\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}],\u0026quot;x\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;ls_price_bin\u0026quot;,\u0026quot;scale\u0026quot;:{\u0026quot;domain\u0026quot;:[0,20]},\u0026quot;title\u0026quot;:\u0026quot;Midpoint Yes Price (cents)\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},\u0026quot;y\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;ls_price_count\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Number of Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}},\u0026quot;height\u0026quot;:400,\u0026quot;title\u0026quot;:\u0026quot;Longshot Markets by Midpoint Yes Price\u0026quot;,\u0026quot;width\u0026quot;:700,\u0026quot;\u0026#36;schema\u0026quot;:\u0026quot;https://vega.github.io/schema/vega-lite/v6.1.0.json\u0026quot;}' data-chart-selection='true' data-field-selection='true' data-embed-options='{}'\u003E\u003C/marimo-vega\u003E\u003C/marimo-ui-element\u003E"}, "type": "data"}]}, {"code_hash": "30102bea89539f5c06ecf0917374435b", "console": [], "id": "ZHCJ", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EWithin the longshot band, the midpoint distribution peaks at 2-3 cents\nand declines roughly monotonically through the range. The heaviest\nconcentration is in the 1-5 cent zone, where wide bid-ask spreads are\ncommon (the midpoint may differ from the last trade price, which is why\nsome midpoints fall outside the 3-15 cent filter on \u003Ccode\u003Elast_price\u003C/code\u003E). These\nvery low-priced markets are the core of the favorite-longshot bias\nanalysis \u2014 historically they tend to overestimate the true probability.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "5ebc429f1ec6f4ff208b554b5d8d8a3e", "console": [], "id": "ROlb", "outputs": [{"data": {"text/html": "\u003Cmarimo-ui-element object-id='ROlb-0' random-id='a54391e1-3d8c-98d4-0f53-df1bc5b48d41'\u003E\u003Cmarimo-vega data-initial-value='{}' data-label='null' data-spec='{\u0026quot;config\u0026quot;:{\u0026quot;view\u0026quot;:{\u0026quot;continuousWidth\u0026quot;:300,\u0026quot;continuousHeight\u0026quot;:300}},\u0026quot;data\u0026quot;:{\u0026quot;url\u0026quot;:\u0026quot;data:application/vnd.apache.arrow.file;base64,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\u0026quot;,\u0026quot;format\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;arrow\u0026quot;}},\u0026quot;mark\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;bar\u0026quot;,\u0026quot;color\u0026quot;:\u0026quot;darkorange\u0026quot;},\u0026quot;encoding\u0026quot;:{\u0026quot;tooltip\u0026quot;:[{\u0026quot;field\u0026quot;:\u0026quot;ls_category\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Category\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;ls_cat_count\u0026quot;,\u0026quot;format\u0026quot;:\u0026quot;,\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}],\u0026quot;x\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;ls_cat_count\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Number of Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},\u0026quot;y\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;ls_category\u0026quot;,\u0026quot;sort\u0026quot;:\u0026quot;-x\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Category\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;}},\u0026quot;height\u0026quot;:400,\u0026quot;title\u0026quot;:\u0026quot;Longshot Markets by Category\u0026quot;,\u0026quot;width\u0026quot;:700,\u0026quot;\u0026#36;schema\u0026quot;:\u0026quot;https://vega.github.io/schema/vega-lite/v6.1.0.json\u0026quot;}' data-chart-selection='true' data-field-selection='true' data-embed-options='{}'\u003E\u003C/marimo-vega\u003E\u003C/marimo-ui-element\u003E"}, "type": "data"}]}, {"code_hash": "3992d6322a23db57f585794d7fa3143c", "console": [], "id": "qnkX", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EThe category mix shifts dramatically for longshots. Crypto drops from 44%\nof all markets to just 3% of longshots \u2014 crypto contracts tend to be\nnear-zero or near-100 (deep out/in-the-money strikes), so very few land\nin the 3-15 cent band. Sports takes the lead at 37% of longshots,\nfollowed by Entertainment (17%) and Politics (16%). These categories have\nmulti-runner events (e.g., \"Who will win the Super Bowl?\") where most\nrunners are naturally priced as longshots. Elections similarly contribute\n12% \u2014 multi-candidate races produce many low-priced contracts.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}], "metadata": {"marimo_version": "0.20.1"}, "version": "1"},
            "runtimeConfig": null,
        };
    </script>
  
<marimo-code hidden="">
    %23%20%2F%2F%2F%20script%0A%23%20requires-python%20%3D%20%22%3E%3D3.12%22%0A%23%20dependencies%20%3D%20%5B%0A%23%20%20%20%20%20%22marimo%22%2C%0A%23%20%20%20%20%20%22boto3%22%2C%0A%23%20%20%20%20%20%22pandas%22%2C%0A%23%20%20%20%20%20%22altair%22%2C%0A%23%20%20%20%20%20%22python-dotenv%22%2C%0A%23%20%5D%0A%23%20%2F%2F%2F%0A%0Aimport%20marimo%0A%0A__generated_with%20%3D%20%220.20.1%22%0Aapp%20%3D%20marimo.App(width%3D%22medium%22)%0A%0Awith%20app.setup%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20import%20altair%20as%20alt%0A%0A%20%20%20%20from%20longshot.storage.athena%20import%20query%0A%0A%0A%40app.cell%0Adef%20find_partitions()%3A%0A%20%20%20%20partition_info%20%3D%20query(%22%22%22%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20'daily_markets'%20AS%20tbl%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20max(date)%20AS%20latest_date%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20max(hour)%20AS%20latest_hour%0A%20%20%20%20%20%20%20%20FROM%20daily_markets%0A%20%20%20%20%20%20%20%20UNION%20ALL%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20'daily_events'%20AS%20tbl%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20max(date)%20AS%20latest_date%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20max(hour)%20AS%20latest_hour%0A%20%20%20%20%20%20%20%20FROM%20daily_events%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20mkt_row%20%3D%20partition_info%5Bpartition_info%5B%22tbl%22%5D%20%3D%3D%20%22daily_markets%22%5D.iloc%5B0%5D%0A%20%20%20%20evt_row%20%3D%20partition_info%5Bpartition_info%5B%22tbl%22%5D%20%3D%3D%20%22daily_events%22%5D.iloc%5B0%5D%0A%20%20%20%20mkt_date%20%3D%20mkt_row%5B%22latest_date%22%5D%0A%20%20%20%20mkt_hour%20%3D%20str(int(mkt_row%5B%22latest_hour%22%5D))%0A%20%20%20%20evt_date%20%3D%20evt_row%5B%22latest_date%22%5D%0A%20%20%20%20evt_hour%20%3D%20str(int(evt_row%5B%22latest_hour%22%5D))%0A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20f%22%22%22%0A%20%20%20%20%20%20%20%20%23%20Daily%20Market%20Analysis%0A%0A%20%20%20%20%20%20%20%20Using%20the%20most%20recent%20daily%20snapshots%20from%20Athena.%0A%0A%20%20%20%20%20%20%20%20%7C%20Table%20%7C%20Date%20%7C%20Hour%20(UTC)%20%7C%0A%20%20%20%20%20%20%20%20%7C-------%7C------%7C------------%7C%0A%20%20%20%20%20%20%20%20%7C%20daily_markets%20%7C%20%7Bmkt_date%7D%20%7C%20%7Bmkt_hour%7D%20%7C%0A%20%20%20%20%20%20%20%20%7C%20daily_events%20%7C%20%7Bevt_date%7D%20%7C%20%7Bevt_hour%7D%20%7C%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%20(mkt_date%2C)%0A%0A%0A%40app.cell%0Adef%20daily_overview()%3A%0A%20%20%20%20overview_stats%20%3D%20query(%22%22%22%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20count(*)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20AS%20total_markets%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(DISTINCT%20m.event_ticker)%20%20%20%20%20%20AS%20distinct_events%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(DISTINCT%20e.category)%20%20%20%20%20%20%20%20%20%20AS%20categories%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sum(m.volume)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20AS%20total_volume%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20avg(m.open_interest)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20AS%20avg_open_interest%0A%20%20%20%20%20%20%20%20FROM%20daily_markets%20m%0A%20%20%20%20%20%20%20%20LEFT%20JOIN%20daily_events%20e%20ON%20m.event_ticker%20%3D%20e.event_ticker%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20ov%20%3D%20overview_stats.iloc%5B0%5D%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20f%22%22%22%0A%20%20%20%20%20%20%20%20%23%23%20Snapshot%20Overview%0A%0A%20%20%20%20%20%20%20%20%7C%20Metric%20%7C%20Value%20%7C%0A%20%20%20%20%20%20%20%20%7C--------%7C-------%7C%0A%20%20%20%20%20%20%20%20%7C%20Total%20active%20markets%20%7C%20%7Bint(ov.total_markets)%3A%2C%7D%20%7C%0A%20%20%20%20%20%20%20%20%7C%20Distinct%20events%20%7C%20%7Bint(ov.distinct_events)%3A%2C%7D%20%7C%0A%20%20%20%20%20%20%20%20%7C%20Categories%20%7C%20%7Bint(ov.categories)%7D%20%7C%0A%20%20%20%20%20%20%20%20%7C%20Total%20volume%20%7C%20%7Bint(ov.total_volume)%3A%2C%7D%20contracts%20%7C%0A%20%20%20%20%20%20%20%20%7C%20Avg%20open%20interest%20%7C%20%7Bov.avg_open_interest%3A%2C.1f%7D%20%7C%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20days_to_expiry_dist(mkt_date)%3A%0A%20%20%20%20dte_data%20%3D%20query(f%22%22%22%0A%20%20%20%20%20%20%20%20WITH%20dte%20AS%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20date_diff('day'%2C%20date('%7Bmkt_date%7D')%2C%20date(from_iso8601_timestamp(close_time)))%20AS%20days_to_expiry%0A%20%20%20%20%20%20%20%20%20%20%20%20FROM%20daily_markets%0A%20%20%20%20%20%20%20%20%20%20%20%20WHERE%20close_time%20IS%20NOT%20NULL%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20close_time%20!%3D%20''%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20CASE%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%200%20%20THEN%20-1%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%201%20THEN%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%203%20THEN%203%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%207%20THEN%207%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2014%20THEN%2014%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2030%20THEN%2030%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2060%20THEN%2060%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2090%20THEN%2090%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%20180%20THEN%20180%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%20365%20THEN%20365%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELSE%20999%0A%20%20%20%20%20%20%20%20%20%20%20%20END%20AS%20dte_bucket%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20CASE%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%200%20%20THEN%20'Past%20due'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%201%20THEN%20'0-1d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%203%20THEN%20'2-3d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%207%20THEN%20'4-7d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2014%20THEN%20'8-14d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2030%20THEN%20'15-30d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2060%20THEN%20'31-60d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2090%20THEN%20'61-90d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%20180%20THEN%20'91-180d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%20365%20THEN%20'181-365d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELSE%20'365d%2B'%0A%20%20%20%20%20%20%20%20%20%20%20%20END%20AS%20dte_label%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(*)%20AS%20market_count%0A%20%20%20%20%20%20%20%20FROM%20dte%0A%20%20%20%20%20%20%20%20GROUP%20BY%201%2C%202%0A%20%20%20%20%20%20%20%20ORDER%20BY%201%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20dte_chart%20%3D%20(%0A%20%20%20%20%20%20%20%20alt.Chart(dte_data)%0A%20%20%20%20%20%20%20%20.mark_bar()%0A%20%20%20%20%20%20%20%20.encode(%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.X(%22dte_label%3AN%22%2C%20sort%3Dlist(dte_data%5B%22dte_label%22%5D)%2C%20title%3D%22Days%20to%20Expiry%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Y(%22market_count%3AQ%22%2C%20title%3D%22Number%20of%20Markets%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20tooltip%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22dte_label%3AN%22%2C%20title%3D%22Bucket%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22market_count%3AQ%22%2C%20title%3D%22Markets%22%2C%20format%3D%22%2C%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20.properties(width%3D700%2C%20height%3D400%2C%20title%3D%22Markets%20by%20Days%20to%20Expiry%22)%0A%20%20%20%20)%0A%0A%20%20%20%20mo.md(%22%23%23%20Distribution%20of%20Markets%20by%20Days%20to%20Expiry%22)%0A%20%20%20%20mo.ui.altair_chart(dte_chart)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20dte_commentary()%3A%0A%20%20%20%20mo.md(%22%22%22%0A%20%20%20%20The%20days-to-expiry%20distribution%20is%20bimodal.%20About%2045%25%20of%20active%20markets%0A%20%20%20%20close%20within%20the%20next%20day%20%E2%80%94%20these%20are%20predominantly%20daily%20crypto%20and%0A%20%20%20%20financials%20contracts%20that%20roll%20over.%20The%20second%20concentration%20appears%20in%0A%20%20%20%20the%206-12%20month%20range%2C%20reflecting%20longer-dated%20political%2C%20sports%2C%20and%0A%20%20%20%20world-event%20markets.%20Very%20few%20markets%20fall%20in%20the%202-7%20day%20window.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20midpoint_price_dist()%3A%0A%20%20%20%20midprice_data%20%3D%20query(%22%22%22%0A%20%20%20%20%20%20%20%20WITH%20priced%20AS%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(yes_bid%20%2B%20yes_ask)%20%2F%202.0%20AS%20midpoint%0A%20%20%20%20%20%20%20%20%20%20%20%20FROM%20daily_markets%0A%20%20%20%20%20%20%20%20%20%20%20%20WHERE%20yes_bid%20IS%20NOT%20NULL%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20yes_ask%20IS%20NOT%20NULL%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20CAST(FLOOR(midpoint%20%2F%205)%20*%205%20AS%20INTEGER)%20AS%20price_bin%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(*)%20AS%20market_count%0A%20%20%20%20%20%20%20%20FROM%20priced%0A%20%20%20%20%20%20%20%20GROUP%20BY%20FLOOR(midpoint%20%2F%205)%20*%205%0A%20%20%20%20%20%20%20%20ORDER%20BY%201%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20midprice_chart%20%3D%20(%0A%20%20%20%20%20%20%20%20alt.Chart(midprice_data)%0A%20%20%20%20%20%20%20%20.mark_bar()%0A%20%20%20%20%20%20%20%20.encode(%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.X(%22price_bin%3AQ%22%2C%20title%3D%22Midpoint%20Yes%20Price%20(cents)%22%2C%20scale%3Dalt.Scale(domain%3D%5B0%2C%20100%5D))%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Y(%22market_count%3AQ%22%2C%20title%3D%22Number%20of%20Markets%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20tooltip%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22price_bin%3AQ%22%2C%20title%3D%22Price%20Bin%20(cents)%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22market_count%3AQ%22%2C%20title%3D%22Markets%22%2C%20format%3D%22%2C%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20.properties(width%3D700%2C%20height%3D400%2C%20title%3D%22Markets%20by%20Midpoint%20Yes%20Price%22)%0A%20%20%20%20)%0A%0A%20%20%20%20mo.md(%22%23%23%20Distribution%20of%20Markets%20by%20Midpoint%20Yes%20Price%22)%0A%20%20%20%20mo.ui.altair_chart(midprice_chart)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20midprice_commentary()%3A%0A%20%20%20%20mo.md(%22%22%22%0A%20%20%20%20The%20price%20distribution%20is%20heavily%20right-skewed%3A%20roughly%20two-thirds%20of%0A%20%20%20%20active%20markets%20have%20a%20midpoint%20below%205%20cents%2C%20meaning%20the%20market%20assigns%0A%20%20%20%20them%20very%20low%20probability.%20There%20is%20a%20secondary%20bump%20around%2045-55%20cents%0A%20%20%20%20(the%20%22coin-flip%22%20zone)%20and%20a%20modest%20uptick%20at%2095%2B%20cents%20for%20near-certain%0A%20%20%20%20outcomes.%20This%20shape%20is%20typical%20of%20prediction%20markets%20where%20most%20contracts%0A%20%20%20%20within%20a%20multi-outcome%20event%20are%20priced%20as%20longshots.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20category_dist()%3A%0A%20%20%20%20cat_data%20%3D%20query(%22%22%22%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20COALESCE(e.category%2C%20'Unknown')%20AS%20category_name%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(*)%20AS%20market_count%0A%20%20%20%20%20%20%20%20FROM%20daily_markets%20m%0A%20%20%20%20%20%20%20%20LEFT%20JOIN%20daily_events%20e%20ON%20m.event_ticker%20%3D%20e.event_ticker%0A%20%20%20%20%20%20%20%20GROUP%20BY%20COALESCE(e.category%2C%20'Unknown')%0A%20%20%20%20%20%20%20%20ORDER%20BY%20count(*)%20DESC%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20cat_chart%20%3D%20(%0A%20%20%20%20%20%20%20%20alt.Chart(cat_data)%0A%20%20%20%20%20%20%20%20.mark_bar()%0A%20%20%20%20%20%20%20%20.encode(%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.X(%22market_count%3AQ%22%2C%20title%3D%22Number%20of%20Markets%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Y(%22category_name%3AN%22%2C%20sort%3D%22-x%22%2C%20title%3D%22Category%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20tooltip%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22category_name%3AN%22%2C%20title%3D%22Category%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22market_count%3AQ%22%2C%20title%3D%22Markets%22%2C%20format%3D%22%2C%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20.properties(width%3D700%2C%20height%3D400%2C%20title%3D%22Markets%20by%20Category%22)%0A%20%20%20%20)%0A%0A%20%20%20%20mo.md(%22%23%23%20Distribution%20of%20Markets%20by%20Category%22)%0A%20%20%20%20mo.ui.altair_chart(cat_chart)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20category_commentary()%3A%0A%20%20%20%20mo.md(%22%22%22%0A%20%20%20%20Crypto%20dominates%20the%20active%20market%20count%20at%20~44%25%2C%20followed%20by%20Sports%20at%0A%20%20%20%20~24%25.%20This%20is%20partly%20structural%20%E2%80%94%20crypto%20events%20tend%20to%20generate%20many%0A%20%20%20%20individual%20strike-level%20markets%20(e.g.%2C%20%22BTC%20above%20%24X%22).%20Financials%2C%0A%20%20%20%20Entertainment%2C%20and%20Politics%20round%20out%20the%20top%20five.%20The%20long%20tail%20of%0A%20%20%20%20smaller%20categories%20(Health%2C%20Transportation)%20has%20very%20few%20active%20markets.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20longshot_header()%3A%0A%20%20%20%20mo.md(%22%22%22%0A%20%20%20%20---%0A%0A%20%20%20%20%23%20Longshot%20Markets%20(Last%20Price%20%240.03%20-%20%240.15)%0A%0A%20%20%20%20Filtering%20to%20markets%20where%20the%20last%20traded%20yes%20price%20is%20between%203%20and%2015%20cents%0A%20%20%20%20(inclusive).%20These%20are%20the%20%22longshot%22%20contracts%20%E2%80%94%20low-probability%20events%0A%20%20%20%20where%20the%20favorite-longshot%20bias%20is%20most%20pronounced.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20longshot_overview()%3A%0A%20%20%20%20ls_stats%20%3D%20query(%22%22%22%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20count(*)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20AS%20ls_total%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(DISTINCT%20m.event_ticker)%20%20%20%20%20%20AS%20ls_events%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sum(m.volume)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20AS%20ls_volume%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20avg(m.open_interest)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20AS%20ls_avg_oi%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20avg(m.last_price)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20AS%20ls_avg_price%0A%20%20%20%20%20%20%20%20FROM%20daily_markets%20m%0A%20%20%20%20%20%20%20%20LEFT%20JOIN%20daily_events%20e%20ON%20m.event_ticker%20%3D%20e.event_ticker%0A%20%20%20%20%20%20%20%20WHERE%20m.last_price%20%3E%3D%203%0A%20%20%20%20%20%20%20%20%20%20AND%20m.last_price%20%3C%3D%2015%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20ls%20%3D%20ls_stats.iloc%5B0%5D%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20f%22%22%22%0A%20%20%20%20%20%20%20%20%23%23%20Longshot%20Snapshot%20Overview%0A%0A%20%20%20%20%20%20%20%20%7C%20Metric%20%7C%20Value%20%7C%0A%20%20%20%20%20%20%20%20%7C--------%7C-------%7C%0A%20%20%20%20%20%20%20%20%7C%20Longshot%20markets%20%7C%20%7Bint(ls.ls_total)%3A%2C%7D%20%7C%0A%20%20%20%20%20%20%20%20%7C%20Distinct%20events%20%7C%20%7Bint(ls.ls_events)%3A%2C%7D%20%7C%0A%20%20%20%20%20%20%20%20%7C%20Total%20volume%20%7C%20%7Bint(ls.ls_volume)%3A%2C%7D%20contracts%20%7C%0A%20%20%20%20%20%20%20%20%7C%20Avg%20open%20interest%20%7C%20%7Bls.ls_avg_oi%3A%2C.1f%7D%20%7C%0A%20%20%20%20%20%20%20%20%7C%20Avg%20last%20price%20(cents)%20%7C%20%7Bls.ls_avg_price%3A%2C.1f%7D%20%7C%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20longshot_overview_commentary()%3A%0A%20%20%20%20mo.md(%22%22%22%0A%20%20%20%20Longshot%20markets%20represent%20about%209%25%20of%20all%20active%20markets%20but%20carry%0A%20%20%20%20substantially%20higher%20average%20open%20interest%20(~35k%20vs%20~8k%20overall)%2C%0A%20%20%20%20indicating%20strong%20speculative%20interest.%20Their%20combined%20volume%20of%20300M%2B%0A%20%20%20%20contracts%20is%20notable%20given%20their%20low%20price%20levels.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20longshot_dte_dist(mkt_date)%3A%0A%20%20%20%20ls_dte_data%20%3D%20query(f%22%22%22%0A%20%20%20%20%20%20%20%20WITH%20ls_dte%20AS%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20date_diff('day'%2C%20date('%7Bmkt_date%7D')%2C%20date(from_iso8601_timestamp(close_time)))%20AS%20days_to_expiry%0A%20%20%20%20%20%20%20%20%20%20%20%20FROM%20daily_markets%0A%20%20%20%20%20%20%20%20%20%20%20%20WHERE%20close_time%20IS%20NOT%20NULL%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20close_time%20!%3D%20''%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20last_price%20%3E%3D%203%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20last_price%20%3C%3D%2015%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20CASE%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%200%20%20THEN%20-1%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%201%20THEN%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%203%20THEN%203%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%207%20THEN%207%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2014%20THEN%2014%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2030%20THEN%2030%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2060%20THEN%2060%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2090%20THEN%2090%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%20180%20THEN%20180%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%20365%20THEN%20365%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELSE%20999%0A%20%20%20%20%20%20%20%20%20%20%20%20END%20AS%20ls_dte_bucket%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20CASE%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%200%20%20THEN%20'Past%20due'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%201%20THEN%20'0-1d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%203%20THEN%20'2-3d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%207%20THEN%20'4-7d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2014%20THEN%20'8-14d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2030%20THEN%20'15-30d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2060%20THEN%20'31-60d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%2090%20THEN%20'61-90d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%20180%20THEN%20'91-180d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20days_to_expiry%20%3C%3D%20365%20THEN%20'181-365d'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELSE%20'365d%2B'%0A%20%20%20%20%20%20%20%20%20%20%20%20END%20AS%20ls_dte_label%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(*)%20AS%20ls_market_count%0A%20%20%20%20%20%20%20%20FROM%20ls_dte%0A%20%20%20%20%20%20%20%20GROUP%20BY%201%2C%202%0A%20%20%20%20%20%20%20%20ORDER%20BY%201%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20ls_dte_chart%20%3D%20(%0A%20%20%20%20%20%20%20%20alt.Chart(ls_dte_data)%0A%20%20%20%20%20%20%20%20.mark_bar(color%3D%22darkorange%22)%0A%20%20%20%20%20%20%20%20.encode(%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.X(%22ls_dte_label%3AN%22%2C%20sort%3Dlist(ls_dte_data%5B%22ls_dte_label%22%5D)%2C%20title%3D%22Days%20to%20Expiry%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Y(%22ls_market_count%3AQ%22%2C%20title%3D%22Number%20of%20Markets%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20tooltip%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22ls_dte_label%3AN%22%2C%20title%3D%22Bucket%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22ls_market_count%3AQ%22%2C%20title%3D%22Markets%22%2C%20format%3D%22%2C%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20.properties(width%3D700%2C%20height%3D400%2C%20title%3D%22Longshot%20Markets%20by%20Days%20to%20Expiry%22)%0A%20%20%20%20)%0A%0A%20%20%20%20mo.md(%22%23%23%20Longshot%20Markets%20%E2%80%94%20Days%20to%20Expiry%22)%0A%20%20%20%20mo.ui.altair_chart(ls_dte_chart)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20longshot_dte_commentary()%3A%0A%20%20%20%20mo.md(%22%22%22%0A%20%20%20%20The%20longshot%20DTE%20distribution%20is%20strikingly%20different%20from%20the%20overall%0A%20%20%20%20market.%20The%200-1%20day%20bucket%20drops%20from%2045%25%20to%20just%202%25%2C%20while%20181-365%20day%0A%20%20%20%20and%20365%2B%20day%20markets%20together%20account%20for%20over%2060%25%20of%20longshots.%20This%0A%20%20%20%20makes%20sense%3A%20short-dated%20markets%20tend%20to%20have%20resolved%20most%20of%20their%0A%20%20%20%20uncertainty%2C%20so%20longshot%20pricing%20at%20%240.03-%240.15%20is%20rare%20for%20expiring%0A%20%20%20%20contracts.%20The%20longer%20time%20horizon%20gives%20longshots%20more%20%22optionality%22%20%E2%80%94%0A%20%20%20%20low-probability%20events%20have%20more%20time%20to%20materialize.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20longshot_midprice_dist()%3A%0A%20%20%20%20ls_midprice_data%20%3D%20query(%22%22%22%0A%20%20%20%20%20%20%20%20WITH%20ls_priced%20AS%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(yes_bid%20%2B%20yes_ask)%20%2F%202.0%20AS%20ls_midpoint%0A%20%20%20%20%20%20%20%20%20%20%20%20FROM%20daily_markets%0A%20%20%20%20%20%20%20%20%20%20%20%20WHERE%20yes_bid%20IS%20NOT%20NULL%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20yes_ask%20IS%20NOT%20NULL%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20last_price%20%3E%3D%203%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20last_price%20%3C%3D%2015%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20CAST(FLOOR(ls_midpoint)%20AS%20INTEGER)%20AS%20ls_price_bin%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(*)%20AS%20ls_price_count%0A%20%20%20%20%20%20%20%20FROM%20ls_priced%0A%20%20%20%20%20%20%20%20GROUP%20BY%20FLOOR(ls_midpoint)%0A%20%20%20%20%20%20%20%20ORDER%20BY%201%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20ls_midprice_chart%20%3D%20(%0A%20%20%20%20%20%20%20%20alt.Chart(ls_midprice_data)%0A%20%20%20%20%20%20%20%20.mark_bar(color%3D%22darkorange%22)%0A%20%20%20%20%20%20%20%20.encode(%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.X(%22ls_price_bin%3AQ%22%2C%20title%3D%22Midpoint%20Yes%20Price%20(cents)%22%2C%20scale%3Dalt.Scale(domain%3D%5B0%2C%2020%5D))%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Y(%22ls_price_count%3AQ%22%2C%20title%3D%22Number%20of%20Markets%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20tooltip%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22ls_price_bin%3AQ%22%2C%20title%3D%22Price%20(cents)%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22ls_price_count%3AQ%22%2C%20title%3D%22Markets%22%2C%20format%3D%22%2C%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20.properties(width%3D700%2C%20height%3D400%2C%20title%3D%22Longshot%20Markets%20by%20Midpoint%20Yes%20Price%22)%0A%20%20%20%20)%0A%0A%20%20%20%20mo.md(%22%23%23%20Longshot%20Markets%20%E2%80%94%20Midpoint%20Yes%20Price%22)%0A%20%20%20%20mo.ui.altair_chart(ls_midprice_chart)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20longshot_midprice_commentary()%3A%0A%20%20%20%20mo.md(%22%22%22%0A%20%20%20%20Within%20the%20longshot%20band%2C%20the%20midpoint%20distribution%20peaks%20at%202-3%20cents%0A%20%20%20%20and%20declines%20roughly%20monotonically%20through%20the%20range.%20The%20heaviest%0A%20%20%20%20concentration%20is%20in%20the%201-5%20cent%20zone%2C%20where%20wide%20bid-ask%20spreads%20are%0A%20%20%20%20common%20(the%20midpoint%20may%20differ%20from%20the%20last%20trade%20price%2C%20which%20is%20why%0A%20%20%20%20some%20midpoints%20fall%20outside%20the%203-15%20cent%20filter%20on%20%60last_price%60).%20These%0A%20%20%20%20very%20low-priced%20markets%20are%20the%20core%20of%20the%20favorite-longshot%20bias%0A%20%20%20%20analysis%20%E2%80%94%20historically%20they%20tend%20to%20overestimate%20the%20true%20probability.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20longshot_category_dist()%3A%0A%20%20%20%20ls_cat_data%20%3D%20query(%22%22%22%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20COALESCE(e.category%2C%20'Unknown')%20AS%20ls_category%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(*)%20AS%20ls_cat_count%0A%20%20%20%20%20%20%20%20FROM%20daily_markets%20m%0A%20%20%20%20%20%20%20%20LEFT%20JOIN%20daily_events%20e%20ON%20m.event_ticker%20%3D%20e.event_ticker%0A%20%20%20%20%20%20%20%20WHERE%20m.last_price%20%3E%3D%203%0A%20%20%20%20%20%20%20%20%20%20AND%20m.last_price%20%3C%3D%2015%0A%20%20%20%20%20%20%20%20GROUP%20BY%20COALESCE(e.category%2C%20'Unknown')%0A%20%20%20%20%20%20%20%20ORDER%20BY%20count(*)%20DESC%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20ls_cat_chart%20%3D%20(%0A%20%20%20%20%20%20%20%20alt.Chart(ls_cat_data)%0A%20%20%20%20%20%20%20%20.mark_bar(color%3D%22darkorange%22)%0A%20%20%20%20%20%20%20%20.encode(%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.X(%22ls_cat_count%3AQ%22%2C%20title%3D%22Number%20of%20Markets%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Y(%22ls_category%3AN%22%2C%20sort%3D%22-x%22%2C%20title%3D%22Category%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20tooltip%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22ls_category%3AN%22%2C%20title%3D%22Category%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22ls_cat_count%3AQ%22%2C%20title%3D%22Markets%22%2C%20format%3D%22%2C%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20.properties(width%3D700%2C%20height%3D400%2C%20title%3D%22Longshot%20Markets%20by%20Category%22)%0A%20%20%20%20)%0A%0A%20%20%20%20mo.md(%22%23%23%20Longshot%20Markets%20%E2%80%94%20Category%20Distribution%22)%0A%20%20%20%20mo.ui.altair_chart(ls_cat_chart)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20longshot_category_commentary()%3A%0A%20%20%20%20mo.md(%22%22%22%0A%20%20%20%20The%20category%20mix%20shifts%20dramatically%20for%20longshots.%20Crypto%20drops%20from%2044%25%0A%20%20%20%20of%20all%20markets%20to%20just%203%25%20of%20longshots%20%E2%80%94%20crypto%20contracts%20tend%20to%20be%0A%20%20%20%20near-zero%20or%20near-100%20(deep%20out%2Fin-the-money%20strikes)%2C%20so%20very%20few%20land%0A%20%20%20%20in%20the%203-15%20cent%20band.%20Sports%20takes%20the%20lead%20at%2037%25%20of%20longshots%2C%0A%20%20%20%20followed%20by%20Entertainment%20(17%25)%20and%20Politics%20(16%25).%20These%20categories%20have%0A%20%20%20%20multi-runner%20events%20(e.g.%2C%20%22Who%20will%20win%20the%20Super%20Bowl%3F%22)%20where%20most%0A%20%20%20%20runners%20are%20naturally%20priced%20as%20longshots.%20Elections%20similarly%20contribute%0A%20%20%20%2012%25%20%E2%80%94%20multi-candidate%20races%20produce%20many%20low-priced%20contracts.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A
</marimo-code>

<marimo-code-hash hidden="">ab5825498102151376d20999951e982d</marimo-code-hash>
</body>
</html>
