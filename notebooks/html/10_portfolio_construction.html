<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/apple-touch-icon.png" />
    <link rel="manifest" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        const scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          // Guard against race condition where iframe isn't ready
          if (!obj.contentWindow?.document?.documentElement) {
            return;
          }
          const element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          const newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((_entries) => {
          setHeight();
        });
        // Only observe if iframe content is ready
        if (obj.contentWindow?.document?.body) {
          resizeObserver.observe(obj.contentWindow.document.body);
        }
      }
    </script>
    <marimo-filename hidden>10_portfolio_construction.py</marimo-filename>
    <!-- TODO(Trevor): Legacy, required by VS Code plugin. Remove when plugin is updated (see marimo/server/_templates/template.py) -->
    <marimo-version data-version="{{ version }}" hidden></marimo-version>
    <marimo-user-config data-config="{{ user_config }}" hidden></marimo-user-config>
    <marimo-server-token data-token="{{ server_token }}" hidden></marimo-server-token>
    <!-- /TODO -->
    <title>10 portfolio construction</title>
    <script type="module" crossorigin crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/index-DEPjuBkG.js"></script>
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/preload-helper-reX6CfMN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/clsx-nlQpVU_5.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/cn-BfqzeB_k.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/chunk-LvLJmgfZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/react-Bj1aDYRI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/compiler-runtime-B3qBwwSJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/jsx-runtime-BttUhiRM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/badge-Duqg7hNv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useEventListener-B3HCnU20.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/button-DOOm_ggu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/react-dom-CSu739Rf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/Combination-CdkqT4eF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/menu-items-BrytomlJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-HoBrI5Oq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/createLucideIcon-C5NDK5NL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/check-CAiA4SIb.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/x-CvUjX6Qu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/select-BvXsf3Xf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/tooltip-D13BIptq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/use-toast-CAzHts2e.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_Uint8Array-BGESiCQL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_baseIsEqual-B9N9Mw_N.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useEvent-BhXAndur.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/invariant-CAG_dYON.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_baseFor-Duhs3RiJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/merge-BBX6ug-N.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/zod-H_cgTO0M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/utils-Cul5vKXJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/Deferred-C3YDyEAR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/uuid-BW_8PQB5.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/DeferredRequestRegistry-ODyALcIJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/constants-B6Cb__3x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/session-BH_ggR75.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/config-BHy9GZrJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/requests-DqPjMMrg.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/isSymbol-BGkTcW3U.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/toString-DlRqgfqz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_hasUnicode-CWqKLxBC.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/assertNever-eF2N5g4Y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_arrayReduce-TT0iOGKY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useLifecycle-CKk7uG4E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useNonce-CGCAoh-I.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useTheme-BHn95Ieq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/once-BF7GI0Uf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/capabilities-DTeDSdGM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/createReducer-DhUZtGnB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/paths-gUC_uwid.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-m6mzfYjs.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-DvlYinQM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-D9xGHqiw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-Dw5p3QBM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-ChjglRRU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-DAxpo7DH.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-Sapk1n6W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-Dq6dViu8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-Bsp55hDJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/stex-iJ-Q_35P.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/toDate-D_5B1mPf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/cjs-BFk44HyO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_baseProperty-NKyJO2oh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/now-6sUe0ZdD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/debounce-B3mjKxHe.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/toInteger-CDcO32Gx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/database-zap-DjyjptVG.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/main-Drs5hZkn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/cells-BvQJ_wGv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/spinner-BBkRPIE-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/chevron-right-Cez-Jqdk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dropdown-menu-BjqFXaqX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/kbd-CxD_4JZI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/renderShortcut-DpJiiIXp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/multi-map-CfaU7is9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/alert-Djvdl92y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/card-Cl7Rwjou.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/alert-dialog-Btfo5nE7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dialog-BY1JTkTv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dist-Cka1pjxF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/label-DjfzNSto.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useDebounce-WGQaRdB8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/textarea-DIGVRG-E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/numbers-C8M1-yNT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/SSRProvider-CkFAAHXw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/context-DoXuYYBM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useNumberFormatter-DBQ_eVX1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/usePress-a6K9HmSS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/input-lGnR5jA2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/links-BJkZcoxM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/popover-Ds94yD5w.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/switch-C3e8vdXY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/table-CP7epTk0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/mode-COhtYT4e.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useAsyncData-BwpzRwt1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/errors-CZb6hI2x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/error-banner-ClreFLcv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/copy-fZotD7fi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/memoize-BCOZVFBt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/get-6uJrSKbw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/capitalize-O1rWkjI6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/copy-CmJTXGCp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/plus-lLt9OnHP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/refresh-cw-g2lXkmkk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/trash-2-xM9f8S8N.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/triangle-alert-CEPiiwZT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/ai-model-dropdown-BC0cdhi9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/defaultLocale-YxeC1tYk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/precisionRound-CC3g-1mL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/defaultLocale-BgG6rTtO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/vega-loader.browser-BR6dmQ_3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/tooltip-DuBjDOOi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/ErrorBoundary-CL8ByR73.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useInstallPackage-BPxx1pVW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/ImperativeModal-BcWA2M3r.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/cell-link-HggHOhac.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/datasource-ow4Y3Yl7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/state-D0hcaf71.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/MarimoErrorOutput-DDh0mN6J.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/copy-icon-DQ4_WQe7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/html-to-image-DvPYLUI8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/focus-CPRFg4kn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/LazyAnyLanguageCodeMirror-Bd0XX4es.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/chunk-5FQGJX7Z-BuHQ2zZJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/katex-bTFStUqL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/markdown-renderer-Dyy86-0S.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/command-D2UvWA5R.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/download-FoG6dAm7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useRunCells-DCLlGGDx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/purify.es-CPiHmTAE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/RenderHTML-BtyszmRY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useIframeCapabilities-C-JfwMug.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/formats-DekCK0sB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/en-US-DyCX-qVi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/isValid-B3O42hgP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/dates-CeHtKOEz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/maps-BNf8B88H.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/extends-C9xCLRj9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/emotion-is-prop-valid.esm-C4tLsq6-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useDateFormatter-D2wb2n1M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/range-D2UKkEg-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/table-CqXVb6os.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/JsonOutput-Cf8A51yY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useDeleteCell-87_Oh8sv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/icons-iU3GgPzu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/process-output-WvCcApgB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/blob-CTort_or.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/objectWithoutPropertiesLoose-B0M-wzEz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/esm-CP9RsJ4O.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/file-BH6mbfdw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/play-BqVslMWT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/add-cell-with-ai-BCTdiv0p.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/isEmpty-CgX_-6Mt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/bot-message-square-BNUYewXt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/chat-display-Bvu3qbng.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/chart-no-axes-column-BXq2PuKd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/square-function-anVqGjs0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/spec-D4b3DLJL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/column-preview-CJ3a0IPi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/toggle-CUhRontP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/globals-g_NWGBtF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/share-ZGgmy4Y2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_baseSet-5Rdwpmr3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/react-resizable-panels.browser.esm-DzNEmH2W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/utilities.esm-C57m8aJQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/floating-outline-D3kzMiv3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useAddCell-DWpYLvcR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/eye-off-D6Gma1GF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/readonly-python-code-ZwGAfelJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/file-video-camera-o8CZtjRQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/types-B0GfsfZC.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/refresh-ccw-ClD7bKJN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/form-DISpbGyw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/field-0rGb7K7u.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useBoolean-YzhJ5RKx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/useDeepCompareMemoize-BharaTWq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/types-B02j-0zo.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/prop-types-dQH5VuL1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/es-BAwLP160.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/hasIn-CycJImp8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/_baseFlatten-CUZNxU8H.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/flatten-D-7VEN0q.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/pick-B_6Qi5aM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/code-xml-CAMyACkU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/download-Jiq5cuc9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/square-H4PcQmi-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/settings-CfA0GMiv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/bundle.esm-CvMga-X6.js">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/cells-jmgGt1lS.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/markdown-renderer-DdDKmWlR.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/JsonOutput-B7vuddcd.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.20.1/dist/assets/index-DHVzmQ5n.css">
  
<script data-marimo="true">
    window.__MARIMO_STATIC__ = {};
    window.__MARIMO_STATIC__.files = {};
    window.__MARIMO_STATIC__.modelNotifications = [];
</script>
</head>
  <body>
    <div id="root"></div>
    <!-- This is a portal for the data editor to render in -->
    <div id="portal" data-testid="glide-portal" style="position: fixed; left: 0; top: 0; z-index: 9999"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "10_portfolio_construction.py",
            "mode": "read",
            "version": "0.20.1",
            "serverToken": "static",
            "config": {"ai": {"custom_providers": {}, "models": {"custom_models": [], "displayed_models": []}}, "completion": {"activate_on_typing": true, "copilot": false, "signature_hint_on_typing": false}, "diagnostics": {"sql_linter": true}, "display": {"cell_output": "below", "code_editor_font_size": 14, "dataframes": "rich", "default_table_max_columns": 50, "default_table_page_size": 10, "default_width": "medium", "reference_highlighting": true, "theme": "light"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": false}}, "mcp": {"mcpServers": {}, "presets": []}, "package_management": {"manager": "uv"}, "runtime": {"auto_instantiate": false, "auto_reload": "off", "default_csv_encoding": "utf-8", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "after_delay", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"sql_output": "auto", "width": "medium"},
            "view": {"showAppCode": true},
            "notebook": {"cells": [{"code": "import marimo as mo\nimport altair as alt\nimport pandas as pd\nimport pyarrow as pa\nimport pyarrow.parquet as pq\nimport s3fs\n\nfrom longshot.storage.athena import query\nfrom longshot.config import SETTINGS", "code_hash": "52bfde67241697523867c211eb14ed99", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hbol", "name": "pc_setup"}, {"code": "pc_partition_info = query(\"\"\"\n    SELECT\n        'daily_markets' AS tbl,\n        max(date) AS latest_date,\n        max(hour) AS latest_hour\n    FROM daily_markets\n    UNION ALL\n    SELECT\n        'daily_events' AS tbl,\n        max(date) AS latest_date,\n        max(hour) AS latest_hour\n    FROM daily_events\n\"\"\")\n\npc_mkt_part = pc_partition_info[pc_partition_info[\"tbl\"] == \"daily_markets\"].iloc[0]\npc_evt_part = pc_partition_info[pc_partition_info[\"tbl\"] == \"daily_events\"].iloc[0]\npc_snap_date = pc_mkt_part[\"latest_date\"]\npc_snap_hour = str(int(pc_mkt_part[\"latest_hour\"]))\npc_evt_snap_date = pc_evt_part[\"latest_date\"]\npc_evt_snap_hour = str(int(pc_evt_part[\"latest_hour\"]))\n\nmo.md(\n    f\"\"\"\n    # Portfolio Construction Heuristics\n\n    Notebooks 08-09 established that the longshot universe (3-15 cents,\n    DTE 1-14) contains ~425 investable markets after liquidity screening\n    (`volume_24h \u003E= 100`), with ~$14K/day in investable capacity. This\n    notebook shifts from \"is there an edge?\" to **\"how do we construct a\n    portfolio to test it?\"**\n\n    The goal is rough, actionable heuristics to select markets for\n    small-size live testing (fixed 1 No contract per market) \u2014 not\n    precision optimization.\n\n    **Key new analysis**: Mutually exclusive (ME) events contain markets\n    where at most one can resolve YES. These are naturally anti-correlated\n    and capital-efficient \u2014 Kalshi returns excess collateral when buying\n    No across multiple outcomes in the same ME event.\n\n    | Table | Date | Hour (UTC) |\n    |-------|------|------------|\n    | daily_markets | {pc_snap_date} | {pc_snap_hour} |\n    | daily_events | {pc_evt_snap_date} | {pc_evt_snap_hour} |\n    \"\"\"\n)", "code_hash": "ceae5db20b91842ca3d791fbcfd447fd", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "MJUe", "name": "pc_partitions"}, {"code": "mo.md(\n    r\"\"\"\n    ### Key Findings\n\n    1. **Portfolio of 374 markets across 227 events** \u2014 after removing\n       Financials (wide spreads, no edge) and capping non-ME events at 3\n       markets each. Total capital required: **\\$278** effective collateral\n       (1 No contract per market).\n\n    2. **44% of investable longshots are in mutually exclusive events** \u2014\n       higher in the 1-week cohort (53%) than 2-week (31%). Weather\n       (70% ME) and Entertainment (61% ME) contribute the most ME\n       structure, not Sports (only 41% ME, since spread/points markets\n       aren't ME).\n\n    3. **Collateral efficiency is concentrated, not broad.** The 33 ME\n       clusters average just 3.2 markets. Two outliers drive most\n       savings: NASCAR (18.5x efficiency) and Bitcoin range (11.7x).\n       Category-level efficiency: Crypto 6.3x, Sports 6.1x, Weather\n       2.3x. Total portfolio savings: 20% (\\$68 on \\$346 nominal).\n\n    4. **Expected edge is thin: +\\$4.56 across 374 contracts** (~1.2\n       cents per contract, Becker calibration). This is smaller than\n       the average bid-ask spread in every category except Weather.\n       Execution quality \u2014 not market selection \u2014 will determine\n       whether this strategy is profitable.\n\n    5. **The portfolio is a variance bet.** With 95th-percentile loss\n       at -\\$3.06, even a correctly-calibrated FLB edge can produce\n       losses over a 1-2 week test window. The purpose is to validate\n       fills and execution, not to prove profitability in one round.\n    \"\"\"\n)", "code_hash": "06c018377c27ab7dcb12ccf64cbf4066", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "vblA", "name": "pc_key_findings"}, {"code": "pc_universe_summary = query(f\"\"\"\n    WITH base AS (\n        SELECT\n            CASE\n                WHEN date_diff('day', date('{pc_snap_date}'), date(from_iso8601_timestamp(m.close_time))) BETWEEN 1 AND 7 THEN '1-week'\n                WHEN date_diff('day', date('{pc_snap_date}'), date(from_iso8601_timestamp(m.close_time))) BETWEEN 8 AND 14 THEN '2-week'\n            END AS pc_cohort,\n            CASE WHEN e.mutually_exclusive = true THEN 'ME' ELSE 'Non-ME' END AS pc_me_label,\n            m.volume_24h,\n            CAST(m.volume_24h AS DOUBLE) * CAST(m.last_price AS DOUBLE) / 100.0 AS pc_dollar_vol\n        FROM daily_markets m\n        LEFT JOIN daily_events e ON m.event_ticker = e.event_ticker\n        WHERE m.close_time IS NOT NULL\n          AND m.close_time != ''\n          AND m.last_price \u003E= 3\n          AND m.last_price \u003C= 15\n          AND m.volume_24h \u003E= 100\n          AND date_diff('day', date('{pc_snap_date}'), date(from_iso8601_timestamp(m.close_time))) BETWEEN 1 AND 14\n    )\n    SELECT\n        pc_cohort,\n        pc_me_label,\n        count(*) AS pc_market_count,\n        sum(volume_24h) AS pc_total_vol_24h,\n        sum(pc_dollar_vol) AS pc_total_dollar_vol\n    FROM base\n    WHERE pc_cohort IS NOT NULL\n    GROUP BY pc_cohort, pc_me_label\n    ORDER BY pc_cohort, pc_me_label\n\"\"\")\n\nmo.output.replace(mo.vstack([\n    mo.md(\"---\\n## Section 1: Investable Longshot Universe\"),\n    mo.ui.table(pc_universe_summary, label=\"Investable Universe by Cohort \u0026 ME Status\"),\n]))", "code_hash": "e87cd404380afd113887e547026dbac2", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "bkHC", "name": "pc_universe_query"}, {"code": "pc_total_mkts = int(pc_universe_summary[\"pc_market_count\"].sum())\npc_me_mkts = int(pc_universe_summary[pc_universe_summary[\"pc_me_label\"] == \"ME\"][\"pc_market_count\"].sum())\npc_nonme_mkts = pc_total_mkts - pc_me_mkts\npc_me_pct = pc_me_mkts / pc_total_mkts * 100 if pc_total_mkts \u003E 0 else 0\n\n# Per-cohort ME breakdown\npc_1w = pc_universe_summary[pc_universe_summary[\"pc_cohort\"] == \"1-week\"]\npc_1w_total = int(pc_1w[\"pc_market_count\"].sum())\npc_1w_me = int(pc_1w[pc_1w[\"pc_me_label\"] == \"ME\"][\"pc_market_count\"].sum()) if len(pc_1w[pc_1w[\"pc_me_label\"] == \"ME\"]) \u003E 0 else 0\npc_2w = pc_universe_summary[pc_universe_summary[\"pc_cohort\"] == \"2-week\"]\npc_2w_total = int(pc_2w[\"pc_market_count\"].sum())\npc_2w_me = int(pc_2w[pc_2w[\"pc_me_label\"] == \"ME\"][\"pc_market_count\"].sum()) if len(pc_2w[pc_2w[\"pc_me_label\"] == \"ME\"]) \u003E 0 else 0\n\nmo.md(\n    f\"\"\"\n    The investable longshot universe contains **{pc_total_mkts}** markets\n    passing all filters (3-15 cents, volume_24h \u003E= 100, DTE 1-14).\n\n    Of these, **{pc_me_mkts}** ({pc_me_pct:.0f}%) are in mutually exclusive\n    events and **{pc_nonme_mkts}** ({100 - pc_me_pct:.0f}%) are non-ME.\n\n    The ME fraction differs sharply by cohort:\n    - **1-week**: {pc_1w_total} markets, {pc_1w_me} ME ({pc_1w_me*100//pc_1w_total if pc_1w_total else 0}%) \u2014 Weather (70% ME) and Entertainment (61% ME) drive this\n    - **2-week**: {pc_2w_total} markets, {pc_2w_me} ME ({pc_2w_me*100//pc_2w_total if pc_2w_total else 0}%) \u2014 most Sports markets are Non-ME (spread bets, point totals, goalscorer props aren't mutually exclusive)\n\n    The 1-week cohort's higher ME fraction is a pleasant surprise: the\n    diverse, higher-edge cohort also has more collateral-efficient\n    structure.\n    \"\"\"\n)", "code_hash": "983c3373e956e949f850b3f1ad8a0569", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "lEQa", "name": "pc_universe_commentary"}, {"code": "pc_event_buckets = query(f\"\"\"\n    WITH per_event AS (\n        SELECT\n            m.event_ticker AS pe_event_ticker,\n            COALESCE(e.category, 'Unknown') AS pe_category,\n            e.title AS pe_event_title,\n            CASE WHEN e.mutually_exclusive = true THEN 'ME' ELSE 'Non-ME' END AS pe_me_label,\n            count(*) AS pe_longshot_count,\n            sum(m.volume_24h) AS pe_total_vol_24h\n        FROM daily_markets m\n        LEFT JOIN daily_events e ON m.event_ticker = e.event_ticker\n        WHERE m.close_time IS NOT NULL\n          AND m.close_time != ''\n          AND m.last_price \u003E= 3\n          AND m.last_price \u003C= 15\n          AND m.volume_24h \u003E= 100\n          AND date_diff('day', date('{pc_snap_date}'), date(from_iso8601_timestamp(m.close_time))) BETWEEN 1 AND 14\n        GROUP BY m.event_ticker, e.category, e.title, e.mutually_exclusive\n    )\n    SELECT\n        pe_me_label,\n        CASE\n            WHEN pe_longshot_count = 1 THEN '1'\n            WHEN pe_longshot_count BETWEEN 2 AND 5 THEN '2-5'\n            WHEN pe_longshot_count BETWEEN 6 AND 10 THEN '6-10'\n            WHEN pe_longshot_count BETWEEN 11 AND 20 THEN '11-20'\n            ELSE '20+'\n        END AS pe_bucket,\n        count(*) AS pe_event_count,\n        sum(pe_longshot_count) AS pe_market_count\n    FROM per_event\n    GROUP BY\n        pe_me_label,\n        CASE\n            WHEN pe_longshot_count = 1 THEN '1'\n            WHEN pe_longshot_count BETWEEN 2 AND 5 THEN '2-5'\n            WHEN pe_longshot_count BETWEEN 6 AND 10 THEN '6-10'\n            WHEN pe_longshot_count BETWEEN 11 AND 20 THEN '11-20'\n            ELSE '20+'\n        END\n    ORDER BY pe_me_label, pe_bucket\n\"\"\")\n\npc_top_longshot_events = query(f\"\"\"\n    SELECT\n        m.event_ticker AS tle_event_ticker,\n        COALESCE(e.category, 'Unknown') AS tle_category,\n        e.title AS tle_event_title,\n        CASE WHEN e.mutually_exclusive = true THEN 'ME' ELSE 'Non-ME' END AS tle_me_label,\n        count(*) AS tle_longshot_count,\n        sum(m.volume_24h) AS tle_total_vol_24h\n    FROM daily_markets m\n    LEFT JOIN daily_events e ON m.event_ticker = e.event_ticker\n    WHERE m.close_time IS NOT NULL\n      AND m.close_time != ''\n      AND m.last_price \u003E= 3\n      AND m.last_price \u003C= 15\n      AND m.volume_24h \u003E= 100\n      AND date_diff('day', date('{pc_snap_date}'), date(from_iso8601_timestamp(m.close_time))) BETWEEN 1 AND 14\n    GROUP BY m.event_ticker, e.category, e.title, e.mutually_exclusive\n    ORDER BY count(*) DESC\n    LIMIT 15\n\"\"\")", "code_hash": "14e2e3d75643059c9cf5f6d05d44ccde", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "PKri", "name": "pc_event_structure_query"}, {"code": "pc_bucket_sort = [\"1\", \"2-5\", \"6-10\", \"11-20\", \"20+\"]\n\npc_bucket_chart = (\n    alt.Chart(pc_event_buckets)\n    .mark_bar()\n    .encode(\n        alt.X(\"pe_bucket:N\", sort=pc_bucket_sort, title=\"Longshot Markets per Event\"),\n        alt.Y(\"pe_event_count:Q\", title=\"Number of Events\"),\n        alt.Color(\n            \"pe_me_label:N\",\n            scale=alt.Scale(domain=[\"ME\", \"Non-ME\"], range=[\"#2ca02c\", \"#d62728\"]),\n            title=\"ME Status\",\n        ),\n        alt.XOffset(\"pe_me_label:N\"),\n        tooltip=[\n            alt.Tooltip(\"pe_bucket:N\", title=\"Bucket\"),\n            alt.Tooltip(\"pe_me_label:N\", title=\"ME Status\"),\n            alt.Tooltip(\"pe_event_count:Q\", title=\"Events\", format=\",\"),\n            alt.Tooltip(\"pe_market_count:Q\", title=\"Markets\", format=\",\"),\n        ],\n    )\n    .properties(width=600, height=350, title=\"Longshot Markets per Event \u2014 Distribution by ME Status\")\n)\n\nmo.output.replace(mo.vstack([\n    mo.md(\"---\\n## Section 2: Event Structure Analysis\"),\n    mo.ui.altair_chart(pc_bucket_chart),\n    mo.md(\"### Top 15 Events by Investable Longshot Count\"),\n    mo.ui.table(pc_top_longshot_events, label=\"Top Events by Longshot Market Count\"),\n]))", "code_hash": "e4097ff1798dfaaa45dedf28c4a626af", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Xref", "name": "pc_event_structure_viz"}, {"code": "mo.md(\n    \"\"\"\n    Most ME events are **small clusters**: 81 ME events have just 1\n    investable longshot, and 31 have 2-5. Only 2 ME events have 10+\n    longshot markets \u2014 the **NASCAR Autotrader 400** (19 runners, the\n    largest cluster by far) and the **Bitcoin price range** event (12\n    range buckets). Non-ME events show a similar pattern but include\n    more mid-sized clusters: 5 events with 6-10 markets (NBA spreads,\n    SOTU mentions) and 1 with 11-20 (Bitcoin directional).\n\n    The top events table reveals the building blocks for portfolio\n    construction: NASCAR provides the single largest anti-correlated\n    cluster, while crypto range markets and weather temperature buckets\n    provide smaller but numerous ME clusters. Non-ME multi-market\n    events (EPL goalscorers, SOTU attendance, NBA spreads) need to be\n    capped to limit correlated exposure.\n    \"\"\"\n)", "code_hash": "f3f963e6fc9f20cf20cbfff8e70b05e9", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "SFPL", "name": "pc_event_commentary"}, {"code": "pc_me_clusters = query(f\"\"\"\n    WITH investable AS (\n        SELECT\n            m.event_ticker AS cl_event_ticker,\n            COALESCE(e.category, 'Unknown') AS cl_category,\n            e.title AS cl_event_title,\n            m.last_price AS cl_yes_price,\n            (100 - m.last_price) AS cl_no_price,\n            m.volume_24h AS cl_vol_24h\n        FROM daily_markets m\n        LEFT JOIN daily_events e ON m.event_ticker = e.event_ticker\n        WHERE m.close_time IS NOT NULL\n          AND m.close_time != ''\n          AND m.last_price \u003E= 3\n          AND m.last_price \u003C= 15\n          AND m.volume_24h \u003E= 100\n          AND e.mutually_exclusive = true\n          AND date_diff('day', date('{pc_snap_date}'), date(from_iso8601_timestamp(m.close_time))) BETWEEN 1 AND 14\n    )\n    SELECT\n        cl_event_ticker,\n        cl_category,\n        cl_event_title,\n        count(*) AS cl_n_markets,\n        avg(cl_no_price) AS cl_avg_no_price,\n        sum(cl_no_price) AS cl_nominal_cost,\n        max(cl_no_price) AS cl_effective_cost,\n        CAST(sum(cl_no_price) AS DOUBLE) / NULLIF(CAST(max(cl_no_price) AS DOUBLE), 0) AS cl_efficiency_ratio,\n        sum(cl_yes_price) AS cl_total_yes_premium,\n        sum(cl_vol_24h) AS cl_total_vol_24h\n    FROM investable\n    GROUP BY cl_event_ticker, cl_category, cl_event_title\n    HAVING count(*) \u003E= 2\n    ORDER BY count(*) DESC\n\"\"\")", "code_hash": "61fb3c5fd8b0d7769582e076daf0e915", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "BYtC", "name": "pc_collateral_query"}, {"code": "# Per-category aggregation of collateral efficiency\npc_cat_collateral = (\n    pc_me_clusters.groupby(\"cl_category\")\n    .agg(\n        cl_cat_events=(\"cl_event_ticker\", \"count\"),\n        cl_cat_total_markets=(\"cl_n_markets\", \"sum\"),\n        cl_cat_nominal=(\"cl_nominal_cost\", \"sum\"),\n        cl_cat_effective=(\"cl_effective_cost\", \"sum\"),\n    )\n    .reset_index()\n)\npc_cat_collateral[\"cl_cat_efficiency\"] = (\n    pc_cat_collateral[\"cl_cat_nominal\"] / pc_cat_collateral[\"cl_cat_effective\"]\n)\npc_cat_collateral = pc_cat_collateral.sort_values(\"cl_cat_efficiency\", ascending=False)\n\npc_eff_chart = (\n    alt.Chart(pc_cat_collateral)\n    .mark_bar()\n    .encode(\n        alt.X(\"cl_cat_efficiency:Q\", title=\"Collateral Efficiency Ratio (nominal / effective)\"),\n        alt.Y(\"cl_category:N\", sort=\"-x\", title=\"Category\"),\n        alt.Color(\"cl_category:N\", legend=None),\n        tooltip=[\n            alt.Tooltip(\"cl_category:N\", title=\"Category\"),\n            alt.Tooltip(\"cl_cat_events:Q\", title=\"ME Events\", format=\",\"),\n            alt.Tooltip(\"cl_cat_total_markets:Q\", title=\"Total Markets\", format=\",\"),\n            alt.Tooltip(\"cl_cat_nominal:Q\", title=\"Nominal Cost (cents)\", format=\",.0f\"),\n            alt.Tooltip(\"cl_cat_effective:Q\", title=\"Effective Cost (cents)\", format=\",.0f\"),\n            alt.Tooltip(\"cl_cat_efficiency:Q\", title=\"Efficiency Ratio\", format=\".1f\"),\n        ],\n    )\n    .properties(width=600, height=350, title=\"ME Collateral Efficiency by Category\")\n)\n\nmo.output.replace(mo.vstack([\n    mo.md(\"---\\n## Section 3: Collateral Efficiency of ME Clusters\"),\n    mo.md(\"### ME Clusters \u2014 Per-Event Detail\"),\n    mo.ui.table(\n        pc_me_clusters[[\"cl_event_ticker\", \"cl_category\", \"cl_event_title\",\n                         \"cl_n_markets\", \"cl_nominal_cost\", \"cl_effective_cost\",\n                         \"cl_efficiency_ratio\", \"cl_total_yes_premium\"]],\n        label=\"ME Cluster Collateral Analysis\",\n    ),\n    mo.md(\"### Collateral Efficiency by Category\"),\n    mo.ui.altair_chart(pc_eff_chart),\n]))", "code_hash": "f6fd7b1d0b050804b8e813f0df7e3c63", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "RGSE", "name": "pc_collateral_viz"}, {"code": "mo.md(\n    r\"\"\"\n    **How ME collateral works**: In a mutually exclusive event, at most\n    one market resolves YES. When you buy No on multiple outcomes, Kalshi\n    only requires collateral equal to the **max single No position cost**,\n    not the sum. This reduces capital requirements for multi-market ME\n    clusters.\n\n    **Actual top cluster \u2014 NASCAR Autotrader 400** (19 longshot runners):\n    - Nominal cost = 19 runners \u00d7 avg 95\u00a2 No price = \\$17.99\n    - Effective cost = max(97\u00a2) = \\$0.97\n    - **Efficiency ratio = 18.5x**\n    - Total yes premiums collected = \\$1.01 if all resolve No\n\n    **Category-level efficiency**:\n    - **Crypto**: 6.3x \u2014 driven by the 12-market Bitcoin range cluster\n    - **Sports**: 6.1x \u2014 driven almost entirely by the NASCAR event\n    - **Entertainment**: 2.7x \u2014 small clusters (4 markets each)\n    - **Weather**: 2.3x \u2014 many 2-3 market clusters, consistent but modest\n\n    The efficiency gains are concentrated in a few large clusters. The\n    33 ME cluster events average just 3.2 markets each. Outside of\n    NASCAR and Bitcoin range, efficiency ratios are typically 2-3x.\n    Still valuable \u2014 but the collateral story is driven by a handful\n    of large events, not a broad structural advantage.\n    \"\"\"\n)", "code_hash": "7d497e71535d03b67b8fd2e76ed3d8dc", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Kclp", "name": "pc_collateral_commentary"}, {"code": "pc_cat_profiles = query(f\"\"\"\n    WITH base AS (\n        SELECT\n            COALESCE(e.category, 'Unknown') AS cp_category,\n            m.event_ticker AS cp_event_ticker,\n            CASE WHEN e.mutually_exclusive = true THEN 1 ELSE 0 END AS cp_me,\n            CASE\n                WHEN date_diff('day', date('{pc_snap_date}'), date(from_iso8601_timestamp(m.close_time))) BETWEEN 1 AND 7 THEN 1\n                ELSE 0\n            END AS cp_is_1w,\n            m.last_price AS cp_last_price,\n            m.yes_bid AS cp_yes_bid,\n            m.yes_ask AS cp_yes_ask,\n            m.volume_24h AS cp_vol_24h\n        FROM daily_markets m\n        LEFT JOIN daily_events e ON m.event_ticker = e.event_ticker\n        WHERE m.close_time IS NOT NULL\n          AND m.close_time != ''\n          AND m.last_price \u003E= 3\n          AND m.last_price \u003C= 15\n          AND m.volume_24h \u003E= 100\n          AND date_diff('day', date('{pc_snap_date}'), date(from_iso8601_timestamp(m.close_time))) BETWEEN 1 AND 14\n    )\n    SELECT\n        cp_category,\n        count(*) AS cp_market_count,\n        count(DISTINCT cp_event_ticker) AS cp_event_count,\n        CAST(count(*) AS DOUBLE) / NULLIF(CAST(count(DISTINCT cp_event_ticker) AS DOUBLE), 0) AS cp_avg_mkts_per_event,\n        sum(cp_me) * 100.0 / NULLIF(count(*), 0) AS cp_me_pct,\n        sum(CAST(cp_vol_24h AS DOUBLE) * CAST(cp_last_price AS DOUBLE) / 100.0) AS cp_total_dollar_vol,\n        avg(cp_yes_ask - cp_yes_bid) AS cp_avg_spread,\n        avg(cp_last_price) AS cp_avg_price,\n        sum(cp_is_1w) * 100.0 / NULLIF(count(*), 0) AS cp_pct_1w\n    FROM base\n    GROUP BY cp_category\n    ORDER BY count(*) DESC\n\"\"\")", "code_hash": "f6aa93e2458119cf9f486129c51b1eaa", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "emfo", "name": "pc_cat_profile_query"}, {"code": "pc_cat_bar = (\n    alt.Chart(pc_cat_profiles)\n    .transform_fold(\n        [\"cp_market_count\", \"cp_event_count\"],\n        as_=[\"cp_metric\", \"cp_value\"],\n    )\n    .mark_bar()\n    .encode(\n        alt.X(\"cp_value:Q\", title=\"Count\"),\n        alt.Y(\"cp_category:N\", sort=\"-x\", title=\"Category\"),\n        alt.Color(\n            \"cp_metric:N\",\n            scale=alt.Scale(\n                domain=[\"cp_market_count\", \"cp_event_count\"],\n                range=[\"steelblue\", \"darkorange\"],\n            ),\n            title=\"Metric\",\n            legend=alt.Legend(\n                labelExpr=\"datum.value === 'cp_market_count' ? 'Markets' : 'Events'\"\n            ),\n        ),\n        alt.XOffset(\"cp_metric:N\"),\n        tooltip=[\n            alt.Tooltip(\"cp_category:N\", title=\"Category\"),\n            alt.Tooltip(\"cp_metric:N\", title=\"Metric\"),\n            alt.Tooltip(\"cp_value:Q\", title=\"Count\", format=\",\"),\n        ],\n    )\n    .properties(width=600, height=400, title=\"Investable Markets \u0026 Events by Category\")\n)\n\nmo.output.replace(mo.vstack([\n    mo.md(\"---\\n## Section 4: Category-Level Portfolio Heuristics\"),\n    mo.md(\"### Category Profiles\"),\n    mo.ui.table(pc_cat_profiles, label=\"Category Profile Summary\"),\n    mo.ui.altair_chart(pc_cat_bar),\n]))", "code_hash": "006405f1ed91823a256fd446df1ffba0", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hstk", "name": "pc_cat_profile_viz"}, {"code": "mo.md(\n    r\"\"\"\n    ### Portfolio Selection Heuristics\n\n    Based on the category profiles above, here are concrete selection\n    rules for the initial test portfolio. Target allocations reflect the\n    natural composition of the investable universe:\n\n    | Category | Target Alloc | Selection Rule | Max Mkts/Event | Rationale |\n    |----------|-------------|----------------|----------------|-----------|\n    | Sports | ~40% | All ME longshots; cap Non-ME at 3/event | 3 (Non-ME) | 41% ME, collateral efficient for winner-take-all events |\n    | Weather | ~25% | All investable | All | 100% 1-week, 70% ME, daily resolution, tight 2\u00a2 spreads |\n    | Crypto | ~10% | All investable | 3 (Non-ME) | 37% ME, 100% 1-week, strongest FLB signal |\n    | Entertainment | ~9% | All investable | All | 61% ME, 94% 1-week, behavioral edge |\n    | Politics | ~5% | Cap at 3/event | 3 | Only 8% ME, correlated within category |\n    | Mentions | ~3% | Cap at 3/event | 3 | 0% ME, SOTU-driven, event-specific |\n    | Economics | ~2% | All investable | All | Small but uncorrelated |\n    | Sci/Tech | ~1% | All investable | All | Tiny but interesting (AI benchmarks) |\n    | Financials | 0% | Skip | \u2014 | Wide spreads (14\u00a2), weakest edge |\n\n    **Position sizing**: Fixed **1 No contract per market** \u2014 minimum size\n    to validate the strategy. Scale up later once fill quality and edge\n    are confirmed.\n\n    **ME events**: Include all longshot markets \u2014 these are anti-correlated\n    clusters where collateral efficiency makes even weak per-market edge\n    worthwhile.\n\n    **Non-ME events**: Cap at 3 markets per event (ranked by volume_24h)\n    to avoid concentration in correlated outcomes.\n    \"\"\"\n)", "code_hash": "73db1ab5eab89363432622be9abc4aa5", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "nWHF", "name": "pc_heuristic_rules"}, {"code": "# Pull full investable universe at market level\npc_raw_universe = query(f\"\"\"\n    SELECT\n        m.ticker AS pf_ticker,\n        m.title AS pf_title,\n        m.event_ticker AS pf_event_ticker,\n        COALESCE(e.category, 'Unknown') AS pf_category,\n        e.title AS pf_event_title,\n        CASE WHEN e.mutually_exclusive = true THEN 1 ELSE 0 END AS pf_me,\n        CASE\n            WHEN date_diff('day', date('{pc_snap_date}'), date(from_iso8601_timestamp(m.close_time))) BETWEEN 1 AND 7 THEN '1-week'\n            ELSE '2-week'\n        END AS pf_cohort,\n        m.last_price AS pf_last_price,\n        m.yes_bid AS pf_yes_bid,\n        m.yes_ask AS pf_yes_ask,\n        (m.yes_ask - m.yes_bid) AS pf_spread,\n        m.volume_24h AS pf_vol_24h,\n        date_diff('day', date('{pc_snap_date}'), date(from_iso8601_timestamp(m.close_time))) AS pf_dte\n    FROM daily_markets m\n    LEFT JOIN daily_events e ON m.event_ticker = e.event_ticker\n    WHERE m.close_time IS NOT NULL\n      AND m.close_time != ''\n      AND m.last_price \u003E= 3\n      AND m.last_price \u003C= 15\n      AND m.volume_24h \u003E= 100\n      AND date_diff('day', date('{pc_snap_date}'), date(from_iso8601_timestamp(m.close_time))) BETWEEN 1 AND 14\n    ORDER BY m.volume_24h DESC\n\"\"\")\n\n# 1. Skip Financials\npc_filtered = pc_raw_universe[pc_raw_universe[\"pf_category\"] != \"Financials\"].copy()\n\n# 2. ME events: include all longshot markets\npc_me_markets = pc_filtered[pc_filtered[\"pf_me\"] == 1].copy()\n\n# 3. Non-ME events: cap at 3 markets per event, rank by volume_24h\npc_nonme_markets = pc_filtered[pc_filtered[\"pf_me\"] == 0].copy()\npc_nonme_markets[\"pf_evt_rank\"] = (\n    pc_nonme_markets.groupby(\"pf_event_ticker\")[\"pf_vol_24h\"]\n    .rank(ascending=False, method=\"first\")\n)\npc_nonme_markets = pc_nonme_markets[pc_nonme_markets[\"pf_evt_rank\"] \u003C= 3].drop(\n    columns=[\"pf_evt_rank\"]\n)\n\n# 4. Combine\npc_portfolio = pd.concat([pc_me_markets, pc_nonme_markets], ignore_index=True)\n\n# 5. Add computed columns\npc_portfolio[\"pf_no_cost_cents\"] = 100 - pc_portfolio[\"pf_last_price\"]\npc_portfolio[\"pf_position_size\"] = 1  # 1 No contract\npc_portfolio[\"pf_nominal_collateral\"] = pc_portfolio[\"pf_no_cost_cents\"] / 100.0  # dollars\n# Becker calibration: 5\u00a2 market \u2192 4.18% true prob \u2192 ratio 0.836\npc_portfolio[\"pf_true_prob\"] = (pc_portfolio[\"pf_last_price\"] / 100.0) * 0.836\n# E[P\u0026L] per No contract = (yes_price - 100 * true_prob) / 100 in dollars\npc_portfolio[\"pf_expected_pnl\"] = (\n    (pc_portfolio[\"pf_last_price\"] - 100 * pc_portfolio[\"pf_true_prob\"]) / 100.0\n)", "code_hash": "9551cd49e0fb2eb812ba8ce651a42806", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "iLit", "name": "pc_build_portfolio"}, {"code": "import math\n\npc_n_markets = len(pc_portfolio)\npc_n_events = pc_portfolio[\"pf_event_ticker\"].nunique()\npc_n_me_markets = int((pc_portfolio[\"pf_me\"] == 1).sum())\npc_n_nonme_markets = pc_n_markets - pc_n_me_markets\n\n# Nominal collateral = sum of no_cost for all positions\npc_nominal_total = pc_portfolio[\"pf_nominal_collateral\"].sum()\n\n# Effective collateral (ME events: max no_cost per event; non-ME: sum)\npc_me_effective = (\n    pc_portfolio[pc_portfolio[\"pf_me\"] == 1]\n    .groupby(\"pf_event_ticker\")[\"pf_no_cost_cents\"]\n    .max()\n    .sum() / 100.0\n)\npc_nonme_effective = pc_portfolio[pc_portfolio[\"pf_me\"] == 0][\"pf_nominal_collateral\"].sum()\npc_effective_total = pc_me_effective + pc_nonme_effective\npc_collateral_savings = pc_nominal_total - pc_effective_total\n\n# Expected P\u0026L\npc_total_expected_pnl = pc_portfolio[\"pf_expected_pnl\"].sum()\n# Variance: sum of per-market variance\n# Var[P\u0026L_i] = p_no * p_yes * (yes_price/100)^2 + p_no * p_yes * (no_cost/100)^2\n# Simplified: Var[P\u0026L_i] = true_prob * (1 - true_prob) * 1  (since payoff is 0 or 1 dollar)\n# More precisely: profit_if_no = yes_price/100, loss_if_yes = no_cost/100\n# Var = (1-tp) * (yes_price/100 - E)^2 + tp * (-no_cost/100 - E)^2 ... but simpler:\n# Var = (1-tp)*tp * ((yes_price + no_cost)/100)^2 = tp*(1-tp) * 1^2 = tp*(1-tp)\npc_total_variance = (\n    pc_portfolio[\"pf_true_prob\"] * (1 - pc_portfolio[\"pf_true_prob\"])\n).sum()\npc_total_std = math.sqrt(pc_total_variance)\npc_pnl_95th_low = pc_total_expected_pnl - 1.645 * pc_total_std\n\n# Cohort split\npc_cohort_split = pc_portfolio.groupby(\"pf_cohort\").size().reset_index(name=\"pf_cs_count\")\n\n# Category distribution\npc_cat_dist = (\n    pc_portfolio.groupby(\"pf_category\")\n    .agg(pf_cd_count=(\"pf_ticker\", \"count\"), pf_cd_me=(\"pf_me\", \"sum\"))\n    .reset_index()\n    .sort_values(\"pf_cd_count\", ascending=False)\n)\n\npc_cat_dist_chart = (\n    alt.Chart(pc_cat_dist)\n    .mark_bar()\n    .encode(\n        alt.X(\"pf_cd_count:Q\", title=\"Markets Selected\"),\n        alt.Y(\"pf_category:N\", sort=\"-x\", title=\"Category\"),\n        tooltip=[\n            alt.Tooltip(\"pf_category:N\", title=\"Category\"),\n            alt.Tooltip(\"pf_cd_count:Q\", title=\"Markets\"),\n            alt.Tooltip(\"pf_cd_me:Q\", title=\"ME Markets\"),\n        ],\n    )\n    .properties(width=600, height=350, title=\"Portfolio: Markets by Category\")\n)\n\n# Top 10 events by market count\npc_top_port_events = (\n    pc_portfolio.groupby([\"pf_event_ticker\", \"pf_category\", \"pf_event_title\", \"pf_me\"])\n    .agg(pf_te_count=(\"pf_ticker\", \"count\"), pf_te_vol=(\"pf_vol_24h\", \"sum\"))\n    .reset_index()\n    .sort_values(\"pf_te_count\", ascending=False)\n    .head(10)\n)\n\nmo.output.replace(mo.vstack([\n    mo.md(\"---\\n## Section 5: Sample Portfolio\"),\n    mo.md(\n        f\"\"\"\n        ### Portfolio Summary\n\n        Applying the heuristic rules to the investable universe:\n\n        | Metric | Value |\n        |--------|-------|\n        | Total markets selected | {pc_n_markets:,} |\n        | ME markets | {pc_n_me_markets:,} |\n        | Non-ME markets | {pc_n_nonme_markets:,} |\n        | Distinct events | {pc_n_events:,} |\n        | Nominal collateral (1 contract each) | \\\\${pc_nominal_total:,.2f} |\n        | Effective collateral (after ME returns) | \\\\${pc_effective_total:,.2f} |\n        | Collateral savings from ME | \\\\${pc_collateral_savings:,.2f} |\n        | Expected P\u0026L (Becker calibration) | \\\\${pc_total_expected_pnl:,.2f} |\n        | 95th percentile loss | \\\\${pc_pnl_95th_low:,.2f} |\n        \"\"\"\n    ),\n    mo.md(\"### Category Distribution\"),\n    mo.ui.altair_chart(pc_cat_dist_chart),\n    mo.ui.table(pc_cat_dist, label=\"Category Breakdown\"),\n    mo.md(\"### Cohort Split\"),\n    mo.ui.table(pc_cohort_split, label=\"Cohort Split\"),\n    mo.md(\"### Top 10 Events by Market Count\"),\n    mo.ui.table(pc_top_port_events, label=\"Top Events in Portfolio\"),\n]))", "code_hash": "f046115004151b72d99c962eb4deab3e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ZHCJ", "name": "pc_portfolio_summary"}, {"code": "pc_display_cols = [\n    \"pf_ticker\", \"pf_title\", \"pf_category\", \"pf_event_ticker\",\n    \"pf_me\", \"pf_cohort\", \"pf_last_price\", \"pf_spread\",\n    \"pf_vol_24h\", \"pf_dte\", \"pf_no_cost_cents\",\n    \"pf_position_size\", \"pf_nominal_collateral\", \"pf_expected_pnl\",\n]\nmo.output.replace(mo.vstack([\n    mo.md(\"### Full Portfolio Detail\"),\n    mo.ui.table(\n        pc_portfolio[pc_display_cols].sort_values(\"pf_vol_24h\", ascending=False),\n        label=\"All Selected Markets (sorted by 24h volume)\",\n    ),\n]))", "code_hash": "4bb64ba5c0ef6d94595f238c697103d2", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ROlb", "name": "pc_portfolio_detail"}, {"code": "mo.md(\n    r\"\"\"\n    ---\n    ## Findings \u0026 Next Steps\n\n    ### Portfolio Composition\n    - **374 markets** selected from 425 investable (removed 5 Financials,\n      capped 46 non-ME markets exceeding the 3-per-event limit)\n    - **227 distinct events** \u2014 good diversification, average 1.6 markets\n      per event\n    - **184 ME + 190 Non-ME** \u2014 roughly balanced, with ME providing\n      anti-correlation and Non-ME providing breadth\n    - **Category mix**: Sports 42%, Weather 25%, Crypto 11%,\n      Entertainment 9%, Politics 5%, Mentions 3%, other 5%\n    - **Cohort split**: 61% 1-week (227 markets), 39% 2-week (147)\n\n    ### Collateral \u0026 Expected P\u0026L\n    - Nominal collateral (1 contract each): **\\$346**\n    - Effective collateral (after ME returns): **\\$278** \u2014 a 20% savings\n    - The savings are modest because most ME clusters are small (2-4\n      markets). The big efficiency gains concentrate in NASCAR (18.5x)\n      and Bitcoin range (11.7x)\n    - Expected P\u0026L (Becker calibration): **+\\$4.56** across 374\n      contracts \u2014 an edge of ~1.2 cents per contract\n    - 95th percentile loss: **-\\$3.06** \u2014 the portfolio can lose money\n      even if the FLB is real, due to variance across hundreds of\n      low-probability events\n\n    ### Key Risks\n    - **Sports concentration**: 42% of portfolio in Sports, creating\n      implicit correlation to a few sporting events (NASCAR alone is\n      19 markets)\n    - **Thin liquidity in edge categories**: Weather has tight 2\u00a2\n      spreads, but Crypto (3.4\u00a2), Entertainment (5.4\u00a2), and especially\n      Sports (10.9\u00a2) have spreads that eat into the ~1.2\u00a2 per-contract\n      edge\n    - **Spread costs dominate**: The 1.2\u00a2 expected edge per contract is\n      smaller than the average spread in most categories. Execution at\n      mid or better is critical\n    - **Single-snapshot bias**: Portfolio composition changes daily as\n      events resolve and new ones open\n\n    ### Next Steps\n    1. **Deploy**: Place 1 No contract per market across the portfolio,\n       targeting limit orders at or near the bid to minimize spread cost\n    2. **Track fills**: Monitor execution quality \u2014 what fraction of\n       limit orders fill? Average slippage vs quoted prices?\n    3. **Monitor resolutions**: Track outcomes over 2-4 weeks to measure\n       realized edge vs the +\\$4.56 Becker-calibrated expectation\n    4. **Refine**: If edge materializes, concentrate on categories with\n       positive realized returns and increase to 5-10 contracts per\n       market\n    \"\"\"\n)", "code_hash": "ae98375882ca86bb2a86e66be7e154d8", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "qnkX", "name": "pc_findings"}, {"code": "pc_s3_path = (\n    f\"s3://{SETTINGS.s3_bucket}/{SETTINGS.s3_prefix}\"\n    f\"/ad-hoc/sim_portfolio/date={pc_snap_date}/hour={pc_snap_hour}/data.parquet\"\n)\n\npc_writer_fs = s3fs.S3FileSystem(\n    key=SETTINGS.aws_access_key_id,\n    secret=SETTINGS.aws_secret_access_key,\n    client_kwargs={\"region_name\": SETTINGS.aws_region},\n)\n\npc_write_table = pa.Table.from_pandas(pc_portfolio)\nwith pc_writer_fs.open(pc_s3_path, \"wb\") as pc_f:\n    pq.write_table(pc_write_table, pc_f)\n\npc_s3_rows = len(pc_portfolio)\npc_s3_size = pc_writer_fs.info(pc_s3_path)[\"size\"]\n\nmo.md(\"---\\n## Section 6: Save Portfolio to S3\")", "code_hash": "04a6ab950bcd30a0f78ad4a9e3467f83", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "TqIu", "name": "pc_s3_write"}, {"code": "mo.md(\n    f\"\"\"\n    ### Portfolio saved to S3\n\n    | Detail | Value |\n    |--------|-------|\n    | S3 Path | `{pc_s3_path}` |\n    | Rows | {pc_s3_rows:,} |\n    | File Size | {pc_s3_size:,} bytes |\n\n    Portfolio snapshot saved successfully. Read back with:\n    ```python\n    import pyarrow.parquet as pq\n    df = pq.read_table(\"{pc_s3_path}\").to_pandas()\n    ```\n    \"\"\"\n)", "code_hash": "b77e2566489c7296832742fd18561157", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Vxnm", "name": "pc_s3_confirm"}], "metadata": {"marimo_version": "0.20.1"}, "version": "1"},
            "session": {"cells": [{"code_hash": "52bfde67241697523867c211eb14ed99", "console": [], "id": "Hbol", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "ceae5db20b91842ca3d791fbcfd447fd", "console": [], "id": "MJUe", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch1 id=\"portfolio-construction-heuristics\"\u003EPortfolio Construction Heuristics\u003C/h1\u003E\n\u003Cspan class=\"paragraph\"\u003ENotebooks 08-09 established that the longshot universe (3-15 cents,\nDTE 1-14) contains ~425 investable markets after liquidity screening\n(\u003Ccode\u003Evolume_24h \u0026gt;= 100\u003C/code\u003E), with ~$14K/day in investable capacity. This\nnotebook shifts from \"is there an edge?\" to \u003Cstrong\u003E\"how do we construct a\nportfolio to test it?\"\u003C/strong\u003E\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EThe goal is rough, actionable heuristics to select markets for\nsmall-size live testing (fixed 1 No contract per market) \u2014 not\nprecision optimization.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cstrong\u003EKey new analysis\u003C/strong\u003E: Mutually exclusive (ME) events contain markets\nwhere at most one can resolve YES. These are naturally anti-correlated\nand capital-efficient \u2014 Kalshi returns excess collateral when buying\nNo across multiple outcomes in the same ME event.\u003C/span\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003ETable\u003C/th\u003E\n\u003Cth\u003EDate\u003C/th\u003E\n\u003Cth\u003EHour (UTC)\u003C/th\u003E\n\u003C/tr\u003E\n\u003C/thead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003Edaily_markets\u003C/td\u003E\n\u003Ctd\u003E2026-02-22\u003C/td\u003E\n\u003Ctd\u003E17\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003Edaily_events\u003C/td\u003E\n\u003Ctd\u003E2026-02-22\u003C/td\u003E\n\u003Ctd\u003E17\u003C/td\u003E\n\u003C/tr\u003E\n\u003C/tbody\u003E\n\u003C/table\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "06c018377c27ab7dcb12ccf64cbf4066", "console": [], "id": "vblA", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"key-findings\"\u003EKey Findings\u003C/h3\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Cstrong\u003EPortfolio of 374 markets across 227 events\u003C/strong\u003E \u2014 after removing\n   Financials (wide spreads, no edge) and capping non-ME events at 3\n   markets each. Total capital required: \u003Cstrong\u003E$278\u003C/strong\u003E effective collateral\n   (1 No contract per market).\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003E44% of investable longshots are in mutually exclusive events\u003C/strong\u003E \u2014\n   higher in the 1-week cohort (53%) than 2-week (31%). Weather\n   (70% ME) and Entertainment (61% ME) contribute the most ME\n   structure, not Sports (only 41% ME, since spread/points markets\n   aren't ME).\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003ECollateral efficiency is concentrated, not broad.\u003C/strong\u003E The 33 ME\n   clusters average just 3.2 markets. Two outliers drive most\n   savings: NASCAR (18.5x efficiency) and Bitcoin range (11.7x).\n   Category-level efficiency: Crypto 6.3x, Sports 6.1x, Weather\n   2.3x. Total portfolio savings: 20% ($68 on $346 nominal).\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EExpected edge is thin: +$4.56 across 374 contracts\u003C/strong\u003E (~1.2\n   cents per contract, Becker calibration). This is smaller than\n   the average bid-ask spread in every category except Weather.\n   Execution quality \u2014 not market selection \u2014 will determine\n   whether this strategy is profitable.\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EThe portfolio is a variance bet.\u003C/strong\u003E With 95th-percentile loss\n   at -$3.06, even a correctly-calibrated FLB edge can produce\n   losses over a 1-2 week test window. The purpose is to validate\n   fills and execution, not to prove profitability in one round.\u003C/li\u003E\n\u003C/ol\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "e87cd404380afd113887e547026dbac2", "console": [], "id": "bkHC", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Chr /\u003E\n\u003Ch2 id=\"section-1-investable-longshot-universe\"\u003ESection 1: Investable Longshot Universe\u003C/h2\u003E\u003C/span\u003E\u003Cmarimo-ui-element object-id='bkHC-0' random-id='7bfecc41-1cdb-e928-7a8f-33eb0f6e0fc8'\u003E\u003Cmarimo-table data-initial-value='[]' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Investable Universe by Cohort \u0026amp;amp; ME Status\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-data='\u0026quot;[{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;pc_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;1-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pc_me_label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;ME\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pc_market_count\u0026#92;\u0026quot;:136,\u0026#92;\u0026quot;pc_total_vol_24h\u0026#92;\u0026quot;:947199,\u0026#92;\u0026quot;pc_total_dollar_vol\u0026#92;\u0026quot;:56945.830000000016},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pc_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;1-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pc_me_label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Non-ME\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pc_market_count\u0026#92;\u0026quot;:120,\u0026#92;\u0026quot;pc_total_vol_24h\u0026#92;\u0026quot;:1198229,\u0026#92;\u0026quot;pc_total_dollar_vol\u0026#92;\u0026quot;:72779.89999999997},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:2,\u0026#92;\u0026quot;pc_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;2-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pc_me_label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;ME\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pc_market_count\u0026#92;\u0026quot;:52,\u0026#92;\u0026quot;pc_total_vol_24h\u0026#92;\u0026quot;:5870649,\u0026#92;\u0026quot;pc_total_dollar_vol\u0026#92;\u0026quot;:561420.9700000001},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;pc_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;2-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pc_me_label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Non-ME\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pc_market_count\u0026#92;\u0026quot;:117,\u0026#92;\u0026quot;pc_total_vol_24h\u0026#92;\u0026quot;:169045,\u0026#92;\u0026quot;pc_total_dollar_vol\u0026#92;\u0026quot;:16618.36}]\u0026quot;' data-total-rows='4' data-total-columns='5' data-max-columns='50' data-banner-text='\u0026quot;\u0026quot;' data-pagination='false' data-page-size='10' data-field-types='[[\u0026quot;pc_cohort\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;pc_me_label\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;pc_market_count\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]],[\u0026quot;pc_total_vol_24h\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]],[\u0026quot;pc_total_dollar_vol\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]]]' data-selection='\u0026quot;multi\u0026quot;' data-show-filters='true' data-show-download='true' data-show-column-summaries='false' data-show-data-types='true' data-show-page-size-selector='false' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[]' data-has-stable-row-id='true' data-lazy='false' data-preload='false' data-download-file-name='\u0026quot;pc_universe_summary\u0026quot;'\u003E\u003C/marimo-table\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "983c3373e956e949f850b3f1ad8a0569", "console": [], "id": "lEQa", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EThe investable longshot universe contains \u003Cstrong\u003E425\u003C/strong\u003E markets\npassing all filters (3-15 cents, volume_24h \u0026gt;= 100, DTE 1-14).\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EOf these, \u003Cstrong\u003E188\u003C/strong\u003E (44%) are in mutually exclusive\nevents and \u003Cstrong\u003E237\u003C/strong\u003E (56%) are non-ME.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EThe ME fraction differs sharply by cohort:\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E1-week\u003C/strong\u003E: 256 markets, 136 ME (53%) \u2014 Weather (70% ME) and Entertainment (61% ME) drive this\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003E2-week\u003C/strong\u003E: 169 markets, 52 ME (30%) \u2014 most Sports markets are Non-ME (spread bets, point totals, goalscorer props aren't mutually exclusive)\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003EThe 1-week cohort's higher ME fraction is a pleasant surprise: the\ndiverse, higher-edge cohort also has more collateral-efficient\nstructure.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "14e2e3d75643059c9cf5f6d05d44ccde", "console": [], "id": "PKri", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "e4097ff1798dfaaa45dedf28c4a626af", "console": [], "id": "Xref", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Chr /\u003E\n\u003Ch2 id=\"section-2-event-structure-analysis\"\u003ESection 2: Event Structure Analysis\u003C/h2\u003E\u003C/span\u003E\u003Cmarimo-ui-element object-id='Xref-0' random-id='1304e697-c0dd-4bab-4ed0-22dc2b30fc41'\u003E\u003Cmarimo-vega data-initial-value='{}' data-label='null' data-spec='{\u0026quot;config\u0026quot;:{\u0026quot;view\u0026quot;:{\u0026quot;continuousWidth\u0026quot;:300,\u0026quot;continuousHeight\u0026quot;:300}},\u0026quot;data\u0026quot;:{\u0026quot;url\u0026quot;:\u0026quot;data:application/vnd.apache.arrow.file;base64,QVJST1cxAAD/////mAQAABAAAAAAAAoADgAGAAUACAAKAAAAAAEEABAAAAAAAAoADAAAAAQACAAKAAAAcAMAAAQAAAABAAAADAAAAAgADAAEAAgACAAAAEgDAAAEAAAAOAMAAHsiaW5kZXhfY29sdW1ucyI6IFt7ImtpbmQiOiAicmFuZ2UiLCAibmFtZSI6IG51bGwsICJzdGFydCI6IDAsICJzdG9wIjogNywgInN0ZXAiOiAxfV0sICJjb2x1bW5faW5kZXhlcyI6IFt7Im5hbWUiOiBudWxsLCAiZmllbGRfbmFtZSI6IG51bGwsICJwYW5kYXNfdHlwZSI6ICJ1bmljb2RlIiwgIm51bXB5X3R5cGUiOiAic3RyIiwgIm1ldGFkYXRhIjogeyJlbmNvZGluZyI6ICJVVEYtOCJ9fV0sICJjb2x1bW5zIjogW3sibmFtZSI6ICJwZV9tZV9sYWJlbCIsICJmaWVsZF9uYW1lIjogInBlX21lX2xhYmVsIiwgInBhbmRhc190eXBlIjogIm9iamVjdCIsICJudW1weV90eXBlIjogInN0ciIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAicGVfYnVja2V0IiwgImZpZWxkX25hbWUiOiAicGVfYnVja2V0IiwgInBhbmRhc190eXBlIjogIm9iamVjdCIsICJudW1weV90eXBlIjogInN0ciIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAicGVfZXZlbnRfY291bnQiLCAiZmllbGRfbmFtZSI6ICJwZV9ldmVudF9jb3VudCIsICJwYW5kYXNfdHlwZSI6ICJpbnQ2NCIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAicGVfbWFya2V0X2NvdW50IiwgImZpZWxkX25hbWUiOiAicGVfbWFya2V0X2NvdW50IiwgInBhbmRhc190eXBlIjogImludDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH1dLCAiYXR0cmlidXRlcyI6IHt9LCAiY3JlYXRvciI6IHsibGlicmFyeSI6ICJweWFycm93IiwgInZlcnNpb24iOiAiMjMuMC4xIn0sICJwYW5kYXNfdmVyc2lvbiI6ICIzLjAuMSJ9AAAAAAYAAABwYW5kYXMAAAQAAADEAAAAhAAAAEAAAAAEAAAAXP///wAAAQIQAAAAIAAAAAQAAAAAAAAADwAAAHBlX21hcmtldF9jb3VudADI////AAAAAUAAAACU////AAABAhAAAAAoAAAABAAAAAAAAAAOAAAAcGVfZXZlbnRfY291bnQAAAgADAAIAAcACAAAAAAAAAFAAAAA1P///wAAARQQAAAAHAAAAAQAAAAAAAAACQAAAHBlX2J1Y2tldAAAAMT///8QABQACAAGAAcADAAAABAAEAAAAAAAARQQAAAAIAAAAAQAAAAAAAAACwAAAHBlX21lX2xhYmVsAAQABAAEAAAAAAAAAP////84AQAAFAAAAAAAAAAMABYABgAFAAgADAAMAAAAAAMEABgAAAAoAQAAAAAAAAAACgAYAAwABAAIAAoAAAC8AAAAEAAAAAcAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAHgAAAAAAAABgAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAKAAAAAAAAAAFgAAAAAAAAC4AAAAAAAAAAAAAAAAAAAAuAAAAAAAAAA4AAAAAAAAAPAAAAAAAAAAAAAAAAAAAADwAAAAAAAAADgAAAAAAAAAAAAAAAQAAAAHAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAQAAAAAAAAABgAAAAAAAAAMAAAAAAAAABIAAAAAAAAAGAAAAAAAAAAeAAAAAAAAAE1FTUVNRU5vbi1NRU5vbi1NRU5vbi1NRU5vbi1NRQAAAAAAAAAAAAABAAAAAAAAAAYAAAAAAAAACQAAAAAAAAAKAAAAAAAAAA8AAAAAAAAAEgAAAAAAAAAWAAAAAAAAADExMS0yMDItNTExMS0yMDItNTYtMTAAAFEAAAAAAAAAAgAAAAAAAAAfAAAAAAAAAEIAAAAAAAAAAQAAAAAAAAAtAAAAAAAAAAUAAAAAAAAAUQAAAAAAAAAfAAAAAAAAAEwAAAAAAAAAQgAAAAAAAAALAAAAAAAAAHYAAAAAAAAAKgAAAAAAAAD/////AAAAABAAAAAMABQABgAIAAwAEAAMAAAAAAAEADwAAAAoAAAABAAAAAEAAACoBAAAAAAAAEABAAAAAAAAKAEAAAAAAAAAAAAAAAAAAAAACgAMAAAABAAIAAoAAABwAwAABAAAAAEAAAAMAAAACAAMAAQACAAIAAAASAMAAAQAAAA4AwAAeyJpbmRleF9jb2x1bW5zIjogW3sia2luZCI6ICJyYW5nZSIsICJuYW1lIjogbnVsbCwgInN0YXJ0IjogMCwgInN0b3AiOiA3LCAic3RlcCI6IDF9XSwgImNvbHVtbl9pbmRleGVzIjogW3sibmFtZSI6IG51bGwsICJmaWVsZF9uYW1lIjogbnVsbCwgInBhbmRhc190eXBlIjogInVuaWNvZGUiLCAibnVtcHlfdHlwZSI6ICJzdHIiLCAibWV0YWRhdGEiOiB7ImVuY29kaW5nIjogIlVURi04In19XSwgImNvbHVtbnMiOiBbeyJuYW1lIjogInBlX21lX2xhYmVsIiwgImZpZWxkX25hbWUiOiAicGVfbWVfbGFiZWwiLCAicGFuZGFzX3R5cGUiOiAib2JqZWN0IiwgIm51bXB5X3R5cGUiOiAic3RyIiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJwZV9idWNrZXQiLCAiZmllbGRfbmFtZSI6ICJwZV9idWNrZXQiLCAicGFuZGFzX3R5cGUiOiAib2JqZWN0IiwgIm51bXB5X3R5cGUiOiAic3RyIiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJwZV9ldmVudF9jb3VudCIsICJmaWVsZF9uYW1lIjogInBlX2V2ZW50X2NvdW50IiwgInBhbmRhc190eXBlIjogImludDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJwZV9tYXJrZXRfY291bnQiLCAiZmllbGRfbmFtZSI6ICJwZV9tYXJrZXRfY291bnQiLCAicGFuZGFzX3R5cGUiOiAiaW50NjQiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfV0sICJhdHRyaWJ1dGVzIjoge30sICJjcmVhdG9yIjogeyJsaWJyYXJ5IjogInB5YXJyb3ciLCAidmVyc2lvbiI6ICIyMy4wLjEifSwgInBhbmRhc192ZXJzaW9uIjogIjMuMC4xIn0AAAAABgAAAHBhbmRhcwAABAAAAMQAAACEAAAAQAAAAAQAAABc////AAABAhAAAAAgAAAABAAAAAAAAAAPAAAAcGVfbWFya2V0X2NvdW50AMj///8AAAABQAAAAJT///8AAAECEAAAACgAAAAEAAAAAAAAAA4AAABwZV9ldmVudF9jb3VudAAACAAMAAgABwAIAAAAAAAAAUAAAADU////AAABFBAAAAAcAAAABAAAAAAAAAAJAAAAcGVfYnVja2V0AAAAxP///xAAFAAIAAYABwAMAAAAEAAQAAAAAAABFBAAAAAgAAAABAAAAAAAAAALAAAAcGVfbWVfbGFiZWwABAAEAAQAAADABAAAQVJST1cx\u0026quot;,\u0026quot;format\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;arrow\u0026quot;}},\u0026quot;mark\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;bar\u0026quot;},\u0026quot;encoding\u0026quot;:{\u0026quot;color\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;pe_me_label\u0026quot;,\u0026quot;scale\u0026quot;:{\u0026quot;domain\u0026quot;:[\u0026quot;ME\u0026quot;,\u0026quot;Non-ME\u0026quot;],\u0026quot;range\u0026quot;:[\u0026quot;#2ca02c\u0026quot;,\u0026quot;#d62728\u0026quot;]},\u0026quot;title\u0026quot;:\u0026quot;ME Status\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},\u0026quot;tooltip\u0026quot;:[{\u0026quot;field\u0026quot;:\u0026quot;pe_bucket\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Bucket\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;pe_me_label\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;ME Status\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;pe_event_count\u0026quot;,\u0026quot;format\u0026quot;:\u0026quot;,\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Events\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;pe_market_count\u0026quot;,\u0026quot;format\u0026quot;:\u0026quot;,\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}],\u0026quot;x\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;pe_bucket\u0026quot;,\u0026quot;sort\u0026quot;:[\u0026quot;1\u0026quot;,\u0026quot;2-5\u0026quot;,\u0026quot;6-10\u0026quot;,\u0026quot;11-20\u0026quot;,\u0026quot;20+\u0026quot;],\u0026quot;title\u0026quot;:\u0026quot;Longshot Markets per Event\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},\u0026quot;xOffset\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;pe_me_label\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},\u0026quot;y\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;pe_event_count\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Number of Events\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}},\u0026quot;height\u0026quot;:350,\u0026quot;title\u0026quot;:\u0026quot;Longshot Markets per Event \u2014 Distribution by ME Status\u0026quot;,\u0026quot;width\u0026quot;:600,\u0026quot;\u0026#36;schema\u0026quot;:\u0026quot;https://vega.github.io/schema/vega-lite/v6.1.0.json\u0026quot;}' data-chart-selection='true' data-field-selection='true' data-embed-options='{}'\u003E\u003C/marimo-vega\u003E\u003C/marimo-ui-element\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"top-15-events-by-investable-longshot-count\"\u003ETop 15 Events by Investable Longshot Count\u003C/h3\u003E\u003C/span\u003E\u003Cmarimo-ui-element object-id='Xref-1' random-id='8f7349a7-7037-1eae-096e-6121a7b6aac1'\u003E\u003Cmarimo-table data-initial-value='[]' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Top Events by Longshot Market Count\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-data='\u0026quot;[{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;tle_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXNASCARRACE-AUT26\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Autotrader 400 Winner?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_me_label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;ME\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_longshot_count\u0026#92;\u0026quot;:19,\u0026#92;\u0026quot;tle_total_vol_24h\u0026#92;\u0026quot;:582705},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;tle_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXBTC-26FEB2717\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Crypto\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Bitcoin price range on Feb 27, 2026 at 5pm EST?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_me_label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;ME\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_longshot_count\u0026#92;\u0026quot;:12,\u0026#92;\u0026quot;tle_total_vol_24h\u0026#92;\u0026quot;:21234},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:2,\u0026#92;\u0026quot;tle_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXBTCD-26FEB2717\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Crypto\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Bitcoin price on Feb 27, 2026 at 5pm EST?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_me_label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Non-ME\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_longshot_count\u0026#92;\u0026quot;:11,\u0026#92;\u0026quot;tle_total_vol_24h\u0026#92;\u0026quot;:17222},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;tle_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXEPLGOAL-26FEB22TOTARS\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Arsenal at Tottenham: Anytime Goalscorer\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_me_label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Non-ME\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_longshot_count\u0026#92;\u0026quot;:10,\u0026#92;\u0026quot;tle_total_vol_24h\u0026#92;\u0026quot;:4143},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;tle_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXATTENDSOTU\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Politics\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Who will attend the State of the Union?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_me_label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Non-ME\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_longshot_count\u0026#92;\u0026quot;:9,\u0026#92;\u0026quot;tle_total_vol_24h\u0026#92;\u0026quot;:43149},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;tle_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXTRUMPMENTION-26MAR02\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Mentions\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Who will Trump mention during his State of the Union address?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_me_label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Non-ME\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_longshot_count\u0026#92;\u0026quot;:8,\u0026#92;\u0026quot;tle_total_vol_24h\u0026#92;\u0026quot;:10011},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:6,\u0026#92;\u0026quot;tle_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXXRPMAXMON-XRP-26FEB28\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Crypto\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;How high will XRP get in February?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_me_label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Non-ME\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_longshot_count\u0026#92;\u0026quot;:8,\u0026#92;\u0026quot;tle_total_vol_24h\u0026#92;\u0026quot;:5695},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:7,\u0026#92;\u0026quot;tle_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXNBASPREAD-26FEB22CLEOKC\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Cleveland at Oklahoma City: Spread\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_me_label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Non-ME\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_longshot_count\u0026#92;\u0026quot;:7,\u0026#92;\u0026quot;tle_total_vol_24h\u0026#92;\u0026quot;:16856},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:8,\u0026#92;\u0026quot;tle_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXNBASPREAD-26FEB22BKNATL\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Brooklyn at Atlanta: Spread\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_me_label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Non-ME\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_longshot_count\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;tle_total_vol_24h\u0026#92;\u0026quot;:1063},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:9,\u0026#92;\u0026quot;tle_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXNBAPTS-26FEB22BOSLAL\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Boston at Los Angeles L: Points\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_me_label\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Non-ME\u0026#92;\u0026quot;,\u0026#92;\u0026quot;tle_longshot_count\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;tle_total_vol_24h\u0026#92;\u0026quot;:1516}]\u0026quot;' data-total-rows='15' data-total-columns='6' data-max-columns='50' data-banner-text='\u0026quot;\u0026quot;' data-pagination='true' data-page-size='10' data-field-types='[[\u0026quot;tle_event_ticker\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;tle_category\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;tle_event_title\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;tle_me_label\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;tle_longshot_count\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]],[\u0026quot;tle_total_vol_24h\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]]]' data-selection='\u0026quot;multi\u0026quot;' data-show-filters='true' data-show-download='true' data-show-column-summaries='true' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[]' data-has-stable-row-id='true' data-lazy='false' data-preload='false' data-download-file-name='\u0026quot;pc_top_longshot_events\u0026quot;'\u003E\u003C/marimo-table\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "f3f963e6fc9f20cf20cbfff8e70b05e9", "console": [], "id": "SFPL", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EMost ME events are \u003Cstrong\u003Esmall clusters\u003C/strong\u003E: 81 ME events have just 1\ninvestable longshot, and 31 have 2-5. Only 2 ME events have 10+\nlongshot markets \u2014 the \u003Cstrong\u003ENASCAR Autotrader 400\u003C/strong\u003E (19 runners, the\nlargest cluster by far) and the \u003Cstrong\u003EBitcoin price range\u003C/strong\u003E event (12\nrange buckets). Non-ME events show a similar pattern but include\nmore mid-sized clusters: 5 events with 6-10 markets (NBA spreads,\nSOTU mentions) and 1 with 11-20 (Bitcoin directional).\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EThe top events table reveals the building blocks for portfolio\nconstruction: NASCAR provides the single largest anti-correlated\ncluster, while crypto range markets and weather temperature buckets\nprovide smaller but numerous ME clusters. Non-ME multi-market\nevents (EPL goalscorers, SOTU attendance, NBA spreads) need to be\ncapped to limit correlated exposure.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "61fb3c5fd8b0d7769582e076daf0e915", "console": [], "id": "BYtC", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "f6fd7b1d0b050804b8e813f0df7e3c63", "console": [], "id": "RGSE", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Chr /\u003E\n\u003Ch2 id=\"section-3-collateral-efficiency-of-me-clusters\"\u003ESection 3: Collateral Efficiency of ME Clusters\u003C/h2\u003E\u003C/span\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"me-clusters-per-event-detail\"\u003EME Clusters \u2014 Per-Event Detail\u003C/h3\u003E\u003C/span\u003E\u003Cmarimo-ui-element object-id='RGSE-0' random-id='fc227a67-d358-56fa-954d-18eee74ddac8'\u003E\u003Cmarimo-table data-initial-value='[]' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;ME Cluster Collateral Analysis\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-data='\u0026quot;[{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;cl_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXNASCARRACE-AUT26\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Autotrader 400 Winner?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_n_markets\u0026#92;\u0026quot;:19,\u0026#92;\u0026quot;cl_nominal_cost\u0026#92;\u0026quot;:1799.0,\u0026#92;\u0026quot;cl_effective_cost\u0026#92;\u0026quot;:97.0,\u0026#92;\u0026quot;cl_efficiency_ratio\u0026#92;\u0026quot;:18.54639175257732,\u0026#92;\u0026quot;cl_total_yes_premium\u0026#92;\u0026quot;:101.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;cl_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXBTC-26FEB2717\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Crypto\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Bitcoin price range on Feb 27, 2026 at 5pm EST?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_n_markets\u0026#92;\u0026quot;:12,\u0026#92;\u0026quot;cl_nominal_cost\u0026#92;\u0026quot;:1131.0,\u0026#92;\u0026quot;cl_effective_cost\u0026#92;\u0026quot;:97.0,\u0026#92;\u0026quot;cl_efficiency_ratio\u0026#92;\u0026quot;:11.65979381443299,\u0026#92;\u0026quot;cl_total_yes_premium\u0026#92;\u0026quot;:69.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:2,\u0026#92;\u0026quot;cl_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXHIGHAUS-26FEB22\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Climate and Weather\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Highest temperature in Austin on Feb 22, 2026?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_n_markets\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;cl_nominal_cost\u0026#92;\u0026quot;:384.0,\u0026#92;\u0026quot;cl_effective_cost\u0026#92;\u0026quot;:97.0,\u0026#92;\u0026quot;cl_efficiency_ratio\u0026#92;\u0026quot;:3.9587628865979374,\u0026#92;\u0026quot;cl_total_yes_premium\u0026#92;\u0026quot;:16.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;cl_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXNETFLIXRANKMOVIEGLOBAL2-26FEB23\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Entertainment\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;#2 Global Netflix Movie this week?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_n_markets\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;cl_nominal_cost\u0026#92;\u0026quot;:377.0,\u0026#92;\u0026quot;cl_effective_cost\u0026#92;\u0026quot;:97.0,\u0026#92;\u0026quot;cl_efficiency_ratio\u0026#92;\u0026quot;:3.88659793814433,\u0026#92;\u0026quot;cl_total_yes_premium\u0026#92;\u0026quot;:23.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;cl_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXSONGCHARTSJCOLE-26FEB28\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Entertainment\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;How many J. Cole songs will chart on the Billboard Hot 100 for the week of February 28th?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_n_markets\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;cl_nominal_cost\u0026#92;\u0026quot;:376.0,\u0026#92;\u0026quot;cl_effective_cost\u0026#92;\u0026quot;:97.0,\u0026#92;\u0026quot;cl_efficiency_ratio\u0026#92;\u0026quot;:3.8762886597938144,\u0026#92;\u0026quot;cl_total_yes_premium\u0026#92;\u0026quot;:24.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;cl_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXSOLE-26FEB2717\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Crypto\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;SOL price range on Feb 27, 2026 at 5pm EST?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_n_markets\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;cl_nominal_cost\u0026#92;\u0026quot;:364.0,\u0026#92;\u0026quot;cl_effective_cost\u0026#92;\u0026quot;:92.0,\u0026#92;\u0026quot;cl_efficiency_ratio\u0026#92;\u0026quot;:3.9565217391304346,\u0026#92;\u0026quot;cl_total_yes_premium\u0026#92;\u0026quot;:36.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:6,\u0026#92;\u0026quot;cl_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXHIGHTSEA-26FEB22\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Climate and Weather\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Highest temperature in Seattle on Feb 22, 2026?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_n_markets\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;cl_nominal_cost\u0026#92;\u0026quot;:274.0,\u0026#92;\u0026quot;cl_effective_cost\u0026#92;\u0026quot;:94.0,\u0026#92;\u0026quot;cl_efficiency_ratio\u0026#92;\u0026quot;:2.9148936170212765,\u0026#92;\u0026quot;cl_total_yes_premium\u0026#92;\u0026quot;:26.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:7,\u0026#92;\u0026quot;cl_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXETH-26FEB2717\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Crypto\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Ethereum price range on Feb 27, 2026 at 5pm EST?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_n_markets\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;cl_nominal_cost\u0026#92;\u0026quot;:271.0,\u0026#92;\u0026quot;cl_effective_cost\u0026#92;\u0026quot;:93.0,\u0026#92;\u0026quot;cl_efficiency_ratio\u0026#92;\u0026quot;:2.913978494623656,\u0026#92;\u0026quot;cl_total_yes_premium\u0026#92;\u0026quot;:29.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:8,\u0026#92;\u0026quot;cl_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXHIGHDEN-26FEB23\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Climate and Weather\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Highest temperature in Denver on Feb 23, 2026?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_n_markets\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;cl_nominal_cost\u0026#92;\u0026quot;:272.0,\u0026#92;\u0026quot;cl_effective_cost\u0026#92;\u0026quot;:94.0,\u0026#92;\u0026quot;cl_efficiency_ratio\u0026#92;\u0026quot;:2.893617021276596,\u0026#92;\u0026quot;cl_total_yes_premium\u0026#92;\u0026quot;:28.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:9,\u0026#92;\u0026quot;cl_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXHIGHTPHX-26FEB23\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Climate and Weather\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Highest temperature in Phoenix on Feb 23, 2026?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cl_n_markets\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;cl_nominal_cost\u0026#92;\u0026quot;:282.0,\u0026#92;\u0026quot;cl_effective_cost\u0026#92;\u0026quot;:96.0,\u0026#92;\u0026quot;cl_efficiency_ratio\u0026#92;\u0026quot;:2.9375,\u0026#92;\u0026quot;cl_total_yes_premium\u0026#92;\u0026quot;:18.0}]\u0026quot;' data-total-rows='33' data-total-columns='8' data-max-columns='50' data-banner-text='\u0026quot;\u0026quot;' data-pagination='true' data-page-size='10' data-field-types='[[\u0026quot;cl_event_ticker\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;cl_category\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;cl_event_title\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;cl_n_markets\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]],[\u0026quot;cl_nominal_cost\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]],[\u0026quot;cl_effective_cost\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]],[\u0026quot;cl_efficiency_ratio\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]],[\u0026quot;cl_total_yes_premium\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]]]' data-selection='\u0026quot;multi\u0026quot;' data-show-filters='true' data-show-download='true' data-show-column-summaries='true' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[]' data-has-stable-row-id='true' data-lazy='false' data-preload='false' data-download-file-name='\u0026quot;download\u0026quot;'\u003E\u003C/marimo-table\u003E\u003C/marimo-ui-element\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"collateral-efficiency-by-category\"\u003ECollateral Efficiency by Category\u003C/h3\u003E\u003C/span\u003E\u003Cmarimo-ui-element object-id='RGSE-1' random-id='f51a4849-6574-9913-6a44-853f15094091'\u003E\u003Cmarimo-vega data-initial-value='{}' data-label='null' data-spec='{\u0026quot;config\u0026quot;:{\u0026quot;view\u0026quot;:{\u0026quot;continuousWidth\u0026quot;:300,\u0026quot;continuousHeight\u0026quot;:300}},\u0026quot;data\u0026quot;:{\u0026quot;url\u0026quot;:\u0026quot;data:application/vnd.apache.arrow.file;base64,QVJST1cxAAD/////yAYAABAAAAAAAAoADgAGAAUACAAKAAAAAAEEABAAAAAAAAoADAAAAAQACAAKAAAA1AQAAAQAAAABAAAADAAAAAgADAAEAAgACAAAAKwEAAAEAAAAngQAAHsiaW5kZXhfY29sdW1ucyI6IFsiX19pbmRleF9sZXZlbF8wX18iXSwgImNvbHVtbl9pbmRleGVzIjogW3sibmFtZSI6IG51bGwsICJmaWVsZF9uYW1lIjogbnVsbCwgInBhbmRhc190eXBlIjogInVuaWNvZGUiLCAibnVtcHlfdHlwZSI6ICJzdHIiLCAibWV0YWRhdGEiOiB7ImVuY29kaW5nIjogIlVURi04In19XSwgImNvbHVtbnMiOiBbeyJuYW1lIjogImNsX2NhdGVnb3J5IiwgImZpZWxkX25hbWUiOiAiY2xfY2F0ZWdvcnkiLCAicGFuZGFzX3R5cGUiOiAib2JqZWN0IiwgIm51bXB5X3R5cGUiOiAic3RyIiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJjbF9jYXRfZXZlbnRzIiwgImZpZWxkX25hbWUiOiAiY2xfY2F0X2V2ZW50cyIsICJwYW5kYXNfdHlwZSI6ICJpbnQ2NCIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAiY2xfY2F0X3RvdGFsX21hcmtldHMiLCAiZmllbGRfbmFtZSI6ICJjbF9jYXRfdG90YWxfbWFya2V0cyIsICJwYW5kYXNfdHlwZSI6ICJpbnQ2NCIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAiY2xfY2F0X25vbWluYWwiLCAiZmllbGRfbmFtZSI6ICJjbF9jYXRfbm9taW5hbCIsICJwYW5kYXNfdHlwZSI6ICJmbG9hdDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJjbF9jYXRfZWZmZWN0aXZlIiwgImZpZWxkX25hbWUiOiAiY2xfY2F0X2VmZmVjdGl2ZSIsICJwYW5kYXNfdHlwZSI6ICJmbG9hdDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJjbF9jYXRfZWZmaWNpZW5jeSIsICJmaWVsZF9uYW1lIjogImNsX2NhdF9lZmZpY2llbmN5IiwgInBhbmRhc190eXBlIjogImZsb2F0NjQiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogbnVsbCwgImZpZWxkX25hbWUiOiAiX19pbmRleF9sZXZlbF8wX18iLCAicGFuZGFzX3R5cGUiOiAiaW50NjQiLCAibnVtcHlfdHlwZSI6ICJpbnQ2NCIsICJtZXRhZGF0YSI6IG51bGx9XSwgImF0dHJpYnV0ZXMiOiB7fSwgImNyZWF0b3IiOiB7ImxpYnJhcnkiOiAicHlhcnJvdyIsICJ2ZXJzaW9uIjogIjIzLjAuMSJ9LCAicGFuZGFzX3ZlcnNpb24iOiAiMy4wLjEifQAABgAAAHBhbmRhcwAABwAAAJQBAABAAQAA/AAAALwAAACAAAAARAAAAAQAAACY/v//AAABAhAAAAAkAAAABAAAAAAAAAARAAAAX19pbmRleF9sZXZlbF8wX18AAADc/v//AAAAAUAAAADU/v//AAABAxAAAAAkAAAABAAAAAAAAAARAAAAY2xfY2F0X2VmZmljaWVuY3kAAACS////AAACAAz///8AAAEDEAAAACQAAAAEAAAAAAAAABAAAABjbF9jYXRfZWZmZWN0aXZlAAAAAMr///8AAAIARP///wAAAQMQAAAAKAAAAAQAAAAAAAAADgAAAGNsX2NhdF9ub21pbmFsAAAAAAYACAAGAAYAAAAAAAIAgP///wAAAQIQAAAAKAAAAAQAAAAAAAAAFAAAAGNsX2NhdF90b3RhbF9tYXJrZXRzAAAAAMj///8AAAABQAAAAMD///8AAAECEAAAACgAAAAEAAAAAAAAAA0AAABjbF9jYXRfZXZlbnRzAAAACAAMAAgABwAIAAAAAAAAAUAAAAAQABQACAAGAAcADAAAABAAEAAAAAAAARQQAAAAIAAAAAQAAAAAAAAACwAAAGNsX2NhdGVnb3J5AAQABAAEAAAA/////7gBAAAUAAAAAAAAAAwAFgAGAAUACAAMAAwAAAAAAwQAGAAAAOgBAAAAAAAAAAAKABgADAAEAAgACgAAAAwBAAAQAAAABwAAAAAAAAAAAAAADwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABUAAAAAAAAAJgAAAAAAAAAAAAAAAAAAACYAAAAAAAAADgAAAAAAAAA0AAAAAAAAAAAAAAAAAAAANAAAAAAAAAAOAAAAAAAAAAIAQAAAAAAAAAAAAAAAAAACAEAAAAAAAA4AAAAAAAAAEABAAAAAAAAAAAAAAAAAABAAQAAAAAAADgAAAAAAAAAeAEAAAAAAAAAAAAAAAAAAHgBAAAAAAAAOAAAAAAAAACwAQAAAAAAAAAAAAAAAAAAsAEAAAAAAAA4AAAAAAAAAAAAAAAHAAAABwAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAMAAAAAAAAABkAAAAAAAAALAAAAAAAAABCAAAAAAAAAEoAAAAAAAAAVAAAAAAAAABDcnlwdG9TcG9ydHNFbnRlcnRhaW5tZW50Q2xpbWF0ZSBhbmQgV2VhdGhlclNjaWVuY2UgYW5kIFRlY2hub2xvZ3lQb2xpdGljc0ZpbmFuY2lhbHMAAAAAAwAAAAAAAAAEAAAAAAAAAAUAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAATAAAAAAAAABkAAAAAAAAADgAAAAAAAAArAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAACAAAAAAAAAAAAAAAAmJtAAAAAAABaokAAAAAAALyUQAAAAAAAZq9AAAAAAAAgaEAAAAAAAGBnQAAAAAAAIGdAAAAAAACgcUAAAAAAACB4QAAAAAAAUH5AAAAAAADgmkAAAAAAAEBYQAAAAAAAAFhAAAAAAADAV0B0wG6PtQwZQMLuTEaLVxhA/rNPNX/jBUCgFtv4abECQBA6KvDF1f8/q6qqqqoq/z+H8hrKayj/PwEAAAAAAAAABgAAAAAAAAACAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAEAAAAAAAAAAMAAAAAAAAA/////wAAAAAQAAAADAAUAAYACAAMABAADAAAAAAABAA4AAAAJAAAAAQAAAABAAAA2AYAAAAAAADAAQAAAAAAAOgBAAAAAAAAAAAAAAAACgAMAAAABAAIAAoAAADUBAAABAAAAAEAAAAMAAAACAAMAAQACAAIAAAArAQAAAQAAACeBAAAeyJpbmRleF9jb2x1bW5zIjogWyJfX2luZGV4X2xldmVsXzBfXyJdLCAiY29sdW1uX2luZGV4ZXMiOiBbeyJuYW1lIjogbnVsbCwgImZpZWxkX25hbWUiOiBudWxsLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogInN0ciIsICJtZXRhZGF0YSI6IHsiZW5jb2RpbmciOiAiVVRGLTgifX1dLCAiY29sdW1ucyI6IFt7Im5hbWUiOiAiY2xfY2F0ZWdvcnkiLCAiZmllbGRfbmFtZSI6ICJjbF9jYXRlZ29yeSIsICJwYW5kYXNfdHlwZSI6ICJvYmplY3QiLCAibnVtcHlfdHlwZSI6ICJzdHIiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogImNsX2NhdF9ldmVudHMiLCAiZmllbGRfbmFtZSI6ICJjbF9jYXRfZXZlbnRzIiwgInBhbmRhc190eXBlIjogImludDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJjbF9jYXRfdG90YWxfbWFya2V0cyIsICJmaWVsZF9uYW1lIjogImNsX2NhdF90b3RhbF9tYXJrZXRzIiwgInBhbmRhc190eXBlIjogImludDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJjbF9jYXRfbm9taW5hbCIsICJmaWVsZF9uYW1lIjogImNsX2NhdF9ub21pbmFsIiwgInBhbmRhc190eXBlIjogImZsb2F0NjQiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogImNsX2NhdF9lZmZlY3RpdmUiLCAiZmllbGRfbmFtZSI6ICJjbF9jYXRfZWZmZWN0aXZlIiwgInBhbmRhc190eXBlIjogImZsb2F0NjQiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogImNsX2NhdF9lZmZpY2llbmN5IiwgImZpZWxkX25hbWUiOiAiY2xfY2F0X2VmZmljaWVuY3kiLCAicGFuZGFzX3R5cGUiOiAiZmxvYXQ2NCIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiBudWxsLCAiZmllbGRfbmFtZSI6ICJfX2luZGV4X2xldmVsXzBfXyIsICJwYW5kYXNfdHlwZSI6ICJpbnQ2NCIsICJudW1weV90eXBlIjogImludDY0IiwgIm1ldGFkYXRhIjogbnVsbH1dLCAiYXR0cmlidXRlcyI6IHt9LCAiY3JlYXRvciI6IHsibGlicmFyeSI6ICJweWFycm93IiwgInZlcnNpb24iOiAiMjMuMC4xIn0sICJwYW5kYXNfdmVyc2lvbiI6ICIzLjAuMSJ9AAAGAAAAcGFuZGFzAAAHAAAAlAEAAEABAAD8AAAAvAAAAIAAAABEAAAABAAAAJj+//8AAAECEAAAACQAAAAEAAAAAAAAABEAAABfX2luZGV4X2xldmVsXzBfXwAAANz+//8AAAABQAAAANT+//8AAAEDEAAAACQAAAAEAAAAAAAAABEAAABjbF9jYXRfZWZmaWNpZW5jeQAAAJL///8AAAIADP///wAAAQMQAAAAJAAAAAQAAAAAAAAAEAAAAGNsX2NhdF9lZmZlY3RpdmUAAAAAyv///wAAAgBE////AAABAxAAAAAoAAAABAAAAAAAAAAOAAAAY2xfY2F0X25vbWluYWwAAAAABgAIAAYABgAAAAAAAgCA////AAABAhAAAAAoAAAABAAAAAAAAAAUAAAAY2xfY2F0X3RvdGFsX21hcmtldHMAAAAAyP///wAAAAFAAAAAwP///wAAAQIQAAAAKAAAAAQAAAAAAAAADQAAAGNsX2NhdF9ldmVudHMAAAAIAAwACAAHAAgAAAAAAAABQAAAABAAFAAIAAYABwAMAAAAEAAQAAAAAAABFBAAAAAgAAAABAAAAAAAAAALAAAAY2xfY2F0ZWdvcnkABAAEAAQAAADwBgAAQVJST1cx\u0026quot;,\u0026quot;format\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;arrow\u0026quot;}},\u0026quot;mark\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;bar\u0026quot;},\u0026quot;encoding\u0026quot;:{\u0026quot;color\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;cl_category\u0026quot;,\u0026quot;legend\u0026quot;:null,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},\u0026quot;tooltip\u0026quot;:[{\u0026quot;field\u0026quot;:\u0026quot;cl_category\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Category\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;cl_cat_events\u0026quot;,\u0026quot;format\u0026quot;:\u0026quot;,\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;ME Events\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;cl_cat_total_markets\u0026quot;,\u0026quot;format\u0026quot;:\u0026quot;,\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Total Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;cl_cat_nominal\u0026quot;,\u0026quot;format\u0026quot;:\u0026quot;,.0f\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Nominal Cost (cents)\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;cl_cat_effective\u0026quot;,\u0026quot;format\u0026quot;:\u0026quot;,.0f\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Effective Cost (cents)\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;cl_cat_efficiency\u0026quot;,\u0026quot;format\u0026quot;:\u0026quot;.1f\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Efficiency Ratio\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}],\u0026quot;x\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;cl_cat_efficiency\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Collateral Efficiency Ratio (nominal / effective)\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},\u0026quot;y\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;cl_category\u0026quot;,\u0026quot;sort\u0026quot;:\u0026quot;-x\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Category\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;}},\u0026quot;height\u0026quot;:350,\u0026quot;title\u0026quot;:\u0026quot;ME Collateral Efficiency by Category\u0026quot;,\u0026quot;width\u0026quot;:600,\u0026quot;\u0026#36;schema\u0026quot;:\u0026quot;https://vega.github.io/schema/vega-lite/v6.1.0.json\u0026quot;}' data-chart-selection='true' data-field-selection='true' data-embed-options='{}'\u003E\u003C/marimo-vega\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "7d497e71535d03b67b8fd2e76ed3d8dc", "console": [], "id": "Kclp", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Cstrong\u003EHow ME collateral works\u003C/strong\u003E: In a mutually exclusive event, at most\none market resolves YES. When you buy No on multiple outcomes, Kalshi\nonly requires collateral equal to the \u003Cstrong\u003Emax single No position cost\u003C/strong\u003E,\nnot the sum. This reduces capital requirements for multi-market ME\nclusters.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cstrong\u003EActual top cluster \u2014 NASCAR Autotrader 400\u003C/strong\u003E (19 longshot runners):\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003ENominal cost = 19 runners \u00d7 avg 95\u00a2 No price = $17.99\u003C/li\u003E\n\u003Cli\u003EEffective cost = max(97\u00a2) = $0.97\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EEfficiency ratio = 18.5x\u003C/strong\u003E\u003C/li\u003E\n\u003Cli\u003ETotal yes premiums collected = $1.01 if all resolve No\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cstrong\u003ECategory-level efficiency\u003C/strong\u003E:\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003ECrypto\u003C/strong\u003E: 6.3x \u2014 driven by the 12-market Bitcoin range cluster\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003ESports\u003C/strong\u003E: 6.1x \u2014 driven almost entirely by the NASCAR event\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EEntertainment\u003C/strong\u003E: 2.7x \u2014 small clusters (4 markets each)\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EWeather\u003C/strong\u003E: 2.3x \u2014 many 2-3 market clusters, consistent but modest\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003EThe efficiency gains are concentrated in a few large clusters. The\n33 ME cluster events average just 3.2 markets each. Outside of\nNASCAR and Bitcoin range, efficiency ratios are typically 2-3x.\nStill valuable \u2014 but the collateral story is driven by a handful\nof large events, not a broad structural advantage.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "f6aa93e2458119cf9f486129c51b1eaa", "console": [], "id": "emfo", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "006405f1ed91823a256fd446df1ffba0", "console": [], "id": "Hstk", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Chr /\u003E\n\u003Ch2 id=\"section-4-category-level-portfolio-heuristics\"\u003ESection 4: Category-Level Portfolio Heuristics\u003C/h2\u003E\u003C/span\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"category-profiles\"\u003ECategory Profiles\u003C/h3\u003E\u003C/span\u003E\u003Cmarimo-ui-element object-id='Hstk-0' random-id='fffa2977-63ef-d3a5-2ac8-71ea0321a113'\u003E\u003Cmarimo-table data-initial-value='[]' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Category Profile Summary\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-data='\u0026quot;[{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;cp_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cp_market_count\u0026#92;\u0026quot;:174,\u0026#92;\u0026quot;cp_event_count\u0026#92;\u0026quot;:103,\u0026#92;\u0026quot;cp_avg_mkts_per_event\u0026#92;\u0026quot;:1.6893203883495145,\u0026#92;\u0026quot;cp_me_pct\u0026#92;\u0026quot;:40.80459770114943,\u0026#92;\u0026quot;cp_total_dollar_vol\u0026#92;\u0026quot;:614173.3200000001,\u0026#92;\u0026quot;cp_avg_spread\u0026#92;\u0026quot;:10.89080459770115,\u0026#92;\u0026quot;cp_avg_price\u0026#92;\u0026quot;:8.810344827586206,\u0026#92;\u0026quot;cp_pct_1w\u0026#92;\u0026quot;:12.06896551724138},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;cp_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Climate and Weather\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cp_market_count\u0026#92;\u0026quot;:93,\u0026#92;\u0026quot;cp_event_count\u0026#92;\u0026quot;:57,\u0026#92;\u0026quot;cp_avg_mkts_per_event\u0026#92;\u0026quot;:1.631578947368421,\u0026#92;\u0026quot;cp_me_pct\u0026#92;\u0026quot;:69.89247311827957,\u0026#92;\u0026quot;cp_total_dollar_vol\u0026#92;\u0026quot;:31544.930000000004,\u0026#92;\u0026quot;cp_avg_spread\u0026#92;\u0026quot;:2.086021505376344,\u0026#92;\u0026quot;cp_avg_price\u0026#92;\u0026quot;:6.247311827956989,\u0026#92;\u0026quot;cp_pct_1w\u0026#92;\u0026quot;:100.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:2,\u0026#92;\u0026quot;cp_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Crypto\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cp_market_count\u0026#92;\u0026quot;:54,\u0026#92;\u0026quot;cp_event_count\u0026#92;\u0026quot;:13,\u0026#92;\u0026quot;cp_avg_mkts_per_event\u0026#92;\u0026quot;:4.153846153846154,\u0026#92;\u0026quot;cp_me_pct\u0026#92;\u0026quot;:37.03703703703704,\u0026#92;\u0026quot;cp_total_dollar_vol\u0026#92;\u0026quot;:6744.209999999999,\u0026#92;\u0026quot;cp_avg_spread\u0026#92;\u0026quot;:3.425925925925926,\u0026#92;\u0026quot;cp_avg_price\u0026#92;\u0026quot;:7.0,\u0026#92;\u0026quot;cp_pct_1w\u0026#92;\u0026quot;:100.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;cp_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Entertainment\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cp_market_count\u0026#92;\u0026quot;:36,\u0026#92;\u0026quot;cp_event_count\u0026#92;\u0026quot;:21,\u0026#92;\u0026quot;cp_avg_mkts_per_event\u0026#92;\u0026quot;:1.7142857142857142,\u0026#92;\u0026quot;cp_me_pct\u0026#92;\u0026quot;:61.11111111111112,\u0026#92;\u0026quot;cp_total_dollar_vol\u0026#92;\u0026quot;:6011.429999999999,\u0026#92;\u0026quot;cp_avg_spread\u0026#92;\u0026quot;:5.416666666666667,\u0026#92;\u0026quot;cp_avg_price\u0026#92;\u0026quot;:6.055555555555555,\u0026#92;\u0026quot;cp_pct_1w\u0026#92;\u0026quot;:94.44444444444444},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;cp_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Politics\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cp_market_count\u0026#92;\u0026quot;:26,\u0026#92;\u0026quot;cp_event_count\u0026#92;\u0026quot;:17,\u0026#92;\u0026quot;cp_avg_mkts_per_event\u0026#92;\u0026quot;:1.5294117647058822,\u0026#92;\u0026quot;cp_me_pct\u0026#92;\u0026quot;:7.6923076923076925,\u0026#92;\u0026quot;cp_total_dollar_vol\u0026#92;\u0026quot;:34303.18,\u0026#92;\u0026quot;cp_avg_spread\u0026#92;\u0026quot;:2.1538461538461537,\u0026#92;\u0026quot;cp_avg_price\u0026#92;\u0026quot;:7.038461538461538,\u0026#92;\u0026quot;cp_pct_1w\u0026#92;\u0026quot;:96.15384615384616},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;cp_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Mentions\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cp_market_count\u0026#92;\u0026quot;:20,\u0026#92;\u0026quot;cp_event_count\u0026#92;\u0026quot;:7,\u0026#92;\u0026quot;cp_avg_mkts_per_event\u0026#92;\u0026quot;:2.857142857142857,\u0026#92;\u0026quot;cp_me_pct\u0026#92;\u0026quot;:0.0,\u0026#92;\u0026quot;cp_total_dollar_vol\u0026#92;\u0026quot;:8685.550000000001,\u0026#92;\u0026quot;cp_avg_spread\u0026#92;\u0026quot;:1.5,\u0026#92;\u0026quot;cp_avg_price\u0026#92;\u0026quot;:9.55,\u0026#92;\u0026quot;cp_pct_1w\u0026#92;\u0026quot;:60.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:6,\u0026#92;\u0026quot;cp_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Economics\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cp_market_count\u0026#92;\u0026quot;:10,\u0026#92;\u0026quot;cp_event_count\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;cp_avg_mkts_per_event\u0026#92;\u0026quot;:2.0,\u0026#92;\u0026quot;cp_me_pct\u0026#92;\u0026quot;:20.0,\u0026#92;\u0026quot;cp_total_dollar_vol\u0026#92;\u0026quot;:800.2800000000001,\u0026#92;\u0026quot;cp_avg_spread\u0026#92;\u0026quot;:2.7,\u0026#92;\u0026quot;cp_avg_price\u0026#92;\u0026quot;:6.1,\u0026#92;\u0026quot;cp_pct_1w\u0026#92;\u0026quot;:50.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:7,\u0026#92;\u0026quot;cp_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Financials\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cp_market_count\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;cp_event_count\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;cp_avg_mkts_per_event\u0026#92;\u0026quot;:1.25,\u0026#92;\u0026quot;cp_me_pct\u0026#92;\u0026quot;:80.0,\u0026#92;\u0026quot;cp_total_dollar_vol\u0026#92;\u0026quot;:214.43,\u0026#92;\u0026quot;cp_avg_spread\u0026#92;\u0026quot;:13.6,\u0026#92;\u0026quot;cp_avg_price\u0026#92;\u0026quot;:6.0,\u0026#92;\u0026quot;cp_pct_1w\u0026#92;\u0026quot;:100.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:8,\u0026#92;\u0026quot;cp_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Science and Technology\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cp_market_count\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;cp_event_count\u0026#92;\u0026quot;:2,\u0026#92;\u0026quot;cp_avg_mkts_per_event\u0026#92;\u0026quot;:2.5,\u0026#92;\u0026quot;cp_me_pct\u0026#92;\u0026quot;:40.0,\u0026#92;\u0026quot;cp_total_dollar_vol\u0026#92;\u0026quot;:3844.92,\u0026#92;\u0026quot;cp_avg_spread\u0026#92;\u0026quot;:3.6,\u0026#92;\u0026quot;cp_avg_price\u0026#92;\u0026quot;:4.2,\u0026#92;\u0026quot;cp_pct_1w\u0026#92;\u0026quot;:100.0},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:9,\u0026#92;\u0026quot;cp_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Companies\u0026#92;\u0026quot;,\u0026#92;\u0026quot;cp_market_count\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;cp_event_count\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;cp_avg_mkts_per_event\u0026#92;\u0026quot;:1.0,\u0026#92;\u0026quot;cp_me_pct\u0026#92;\u0026quot;:0.0,\u0026#92;\u0026quot;cp_total_dollar_vol\u0026#92;\u0026quot;:1418.05,\u0026#92;\u0026quot;cp_avg_spread\u0026#92;\u0026quot;:3.0,\u0026#92;\u0026quot;cp_avg_price\u0026#92;\u0026quot;:5.0,\u0026#92;\u0026quot;cp_pct_1w\u0026#92;\u0026quot;:100.0}]\u0026quot;' data-total-rows='11' data-total-columns='9' data-max-columns='50' data-banner-text='\u0026quot;\u0026quot;' data-pagination='true' data-page-size='10' data-field-types='[[\u0026quot;cp_category\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;cp_market_count\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]],[\u0026quot;cp_event_count\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]],[\u0026quot;cp_avg_mkts_per_event\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]],[\u0026quot;cp_me_pct\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]],[\u0026quot;cp_total_dollar_vol\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]],[\u0026quot;cp_avg_spread\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]],[\u0026quot;cp_avg_price\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]],[\u0026quot;cp_pct_1w\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]]]' data-selection='\u0026quot;multi\u0026quot;' data-show-filters='true' data-show-download='true' data-show-column-summaries='true' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[]' data-has-stable-row-id='true' data-lazy='false' data-preload='false' data-download-file-name='\u0026quot;pc_cat_profiles\u0026quot;'\u003E\u003C/marimo-table\u003E\u003C/marimo-ui-element\u003E\u003Cmarimo-ui-element object-id='Hstk-1' random-id='cbb68e12-15d3-87db-ba61-c4bd9283df93'\u003E\u003Cmarimo-vega data-initial-value='{}' data-label='null' data-spec='{\u0026quot;config\u0026quot;:{\u0026quot;view\u0026quot;:{\u0026quot;continuousWidth\u0026quot;:300,\u0026quot;continuousHeight\u0026quot;:300}},\u0026quot;data\u0026quot;:{\u0026quot;url\u0026quot;:\u0026quot;data:application/vnd.apache.arrow.file;base64,QVJST1cxAAD/////SAgAABAAAAAAAAoADgAGAAUACAAKAAAAAAEEABAAAAAAAAoADAAAAAQACAAKAAAA/AUAAAQAAAABAAAADAAAAAgADAAEAAgACAAAANQFAAAEAAAAxQUAAHsiaW5kZXhfY29sdW1ucyI6IFt7ImtpbmQiOiAicmFuZ2UiLCAibmFtZSI6IG51bGwsICJzdGFydCI6IDAsICJzdG9wIjogMTEsICJzdGVwIjogMX1dLCAiY29sdW1uX2luZGV4ZXMiOiBbeyJuYW1lIjogbnVsbCwgImZpZWxkX25hbWUiOiBudWxsLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogInN0ciIsICJtZXRhZGF0YSI6IHsiZW5jb2RpbmciOiAiVVRGLTgifX1dLCAiY29sdW1ucyI6IFt7Im5hbWUiOiAiY3BfY2F0ZWdvcnkiLCAiZmllbGRfbmFtZSI6ICJjcF9jYXRlZ29yeSIsICJwYW5kYXNfdHlwZSI6ICJvYmplY3QiLCAibnVtcHlfdHlwZSI6ICJzdHIiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogImNwX21hcmtldF9jb3VudCIsICJmaWVsZF9uYW1lIjogImNwX21hcmtldF9jb3VudCIsICJwYW5kYXNfdHlwZSI6ICJpbnQ2NCIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAiY3BfZXZlbnRfY291bnQiLCAiZmllbGRfbmFtZSI6ICJjcF9ldmVudF9jb3VudCIsICJwYW5kYXNfdHlwZSI6ICJpbnQ2NCIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAiY3BfYXZnX21rdHNfcGVyX2V2ZW50IiwgImZpZWxkX25hbWUiOiAiY3BfYXZnX21rdHNfcGVyX2V2ZW50IiwgInBhbmRhc190eXBlIjogImZsb2F0NjQiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogImNwX21lX3BjdCIsICJmaWVsZF9uYW1lIjogImNwX21lX3BjdCIsICJwYW5kYXNfdHlwZSI6ICJmbG9hdDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJjcF90b3RhbF9kb2xsYXJfdm9sIiwgImZpZWxkX25hbWUiOiAiY3BfdG90YWxfZG9sbGFyX3ZvbCIsICJwYW5kYXNfdHlwZSI6ICJmbG9hdDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJjcF9hdmdfc3ByZWFkIiwgImZpZWxkX25hbWUiOiAiY3BfYXZnX3NwcmVhZCIsICJwYW5kYXNfdHlwZSI6ICJmbG9hdDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJjcF9hdmdfcHJpY2UiLCAiZmllbGRfbmFtZSI6ICJjcF9hdmdfcHJpY2UiLCAicGFuZGFzX3R5cGUiOiAiZmxvYXQ2NCIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAiY3BfcGN0XzF3IiwgImZpZWxkX25hbWUiOiAiY3BfcGN0XzF3IiwgInBhbmRhc190eXBlIjogImZsb2F0NjQiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfV0sICJhdHRyaWJ1dGVzIjoge30sICJjcmVhdG9yIjogeyJsaWJyYXJ5IjogInB5YXJyb3ciLCAidmVyc2lvbiI6ICIyMy4wLjEifSwgInBhbmRhc192ZXJzaW9uIjogIjMuMC4xIn0AAAAGAAAAcGFuZGFzAAAJAAAA7AEAAJgBAABcAQAAGAEAAOQAAACoAAAAcAAAADgAAAAEAAAASP7//wAAAQMQAAAAHAAAAAQAAAAAAAAACQAAAGNwX3BjdF8xdwAAAPb+//8AAAIAeP7//wAAAQMQAAAAIAAAAAQAAAAAAAAADAAAAGNwX2F2Z19wcmljZQAAAAAq////AAACAKz+//8AAAEDEAAAACAAAAAEAAAAAAAAAA0AAABjcF9hdmdfc3ByZWFkAAAAXv///wAAAgDg/v//AAABAxAAAAAkAAAABAAAAAAAAAATAAAAY3BfdG90YWxfZG9sbGFyX3ZvbACW////AAACABj///8AAAEDEAAAABwAAAAEAAAAAAAAAAkAAABjcF9tZV9wY3QAAADG////AAACAEj///8AAAEDEAAAACwAAAAEAAAAAAAAABUAAABjcF9hdmdfbWt0c19wZXJfZXZlbnQABgAIAAYABgAAAAAAAgCI////AAABAhAAAAAgAAAABAAAAAAAAAAOAAAAY3BfZXZlbnRfY291bnQAAMj///8AAAABQAAAAMD///8AAAECEAAAACgAAAAEAAAAAAAAAA8AAABjcF9tYXJrZXRfY291bnQACAAMAAgABwAIAAAAAAAAAUAAAAAQABQACAAGAAcADAAAABAAEAAAAAAAARQQAAAAIAAAAAQAAAAAAAAACwAAAGNwX2NhdGVnb3J5AAQABAAEAAAA/////xgCAAAUAAAAAAAAAAwAFgAGAAUACAAMAAwAAAAAAwQAGAAAAJgDAAAAAAAAAAAKABgADAAEAAgACgAAAEwBAAAQAAAACwAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAAAAAAYAAAAAAAAAB0AAAAAAAAANgAAAAAAAAAAAAAAAAAAADYAAAAAAAAAFgAAAAAAAAAMAEAAAAAAAAAAAAAAAAAADABAAAAAAAAWAAAAAAAAACIAQAAAAAAAAAAAAAAAAAAiAEAAAAAAABYAAAAAAAAAOABAAAAAAAAAAAAAAAAAADgAQAAAAAAAFgAAAAAAAAAOAIAAAAAAAAAAAAAAAAAADgCAAAAAAAAWAAAAAAAAACQAgAAAAAAAAAAAAAAAAAAkAIAAAAAAABYAAAAAAAAAOgCAAAAAAAAAAAAAAAAAADoAgAAAAAAAFgAAAAAAAAAQAMAAAAAAAAAAAAAAAAAAEADAAAAAAAAWAAAAAAAAAAAAAAACQAAAAsAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgAAAAAAAAAZAAAAAAAAAB8AAAAAAAAALAAAAAAAAAA0AAAAAAAAADwAAAAAAAAARQAAAAAAAABPAAAAAAAAAGUAAAAAAAAAbgAAAAAAAAB0AAAAAAAAAFNwb3J0c0NsaW1hdGUgYW5kIFdlYXRoZXJDcnlwdG9FbnRlcnRhaW5tZW50UG9saXRpY3NNZW50aW9uc0Vjb25vbWljc0ZpbmFuY2lhbHNTY2llbmNlIGFuZCBUZWNobm9sb2d5Q29tcGFuaWVzU29jaWFsAAAAAK4AAAAAAAAAXQAAAAAAAAA2AAAAAAAAACQAAAAAAAAAGgAAAAAAAAAUAAAAAAAAAAoAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAEAAAAAAAAAAQAAAAAAAABnAAAAAAAAADkAAAAAAAAADQAAAAAAAAAVAAAAAAAAABEAAAAAAAAABwAAAAAAAAAFAAAAAAAAAAQAAAAAAAAAAgAAAAAAAAABAAAAAAAAAAEAAAAAAAAAv9XG0HQH+z+vobyG8hr6P9mJndiJnRBA27Zt27Zt+z94eHh4eHj4P7dt27Zt2wZAAAAAAAAAAEAAAAAAAAD0PwAAAAAAAARAAAAAAAAA8D8AAAAAAADwP9Jvtg79ZkRAeeSRRx55UUBMaC+hvYRCQOU4juM4jk5AT+zETuzEHkAAAAAAAAAAAAAAAAAAADRAAAAAAAAAVEAAAAAAAABEQAAAAAAAAAAAAAAAAAAAAAA+CtejOr4iQVO4HoU7zt5AKFyPwjVYukBH4XoUbnu3QClcj8Llv+BAZ2ZmZsb2wEAL16NwPQKJQPYoXI/CzWpApHA9CtcJrkAzMzMzMyiWQMP1KFyPwjhAeYFMihfIJUCwwAILLLAAQIX2EtpLaAtAq6qqqqqqFUCxEzuxEzsBQAAAAAAAAPg/mpmZmZmZBUAzMzMzMzMrQM3MzMzMzAxAAAAAAAAACEAAAAAAAAAAQFjuaYTlniFA/fTTTz/9GEAAAAAAAAAcQI7jOI7jOBhAdmIndmInHECamZmZmRkjQGZmZmZmZhhAAAAAAAAAGEDNzMzMzMwQQAAAAAAAABRAAAAAAAAAEED4NMJyTyMoQAAAAAAAAFlAAAAAAAAAWUDHcRzHcZxXQJ7YiZ3YCVhAAAAAAAAATkAAAAAAAABJQAAAAAAAAFlAAAAAAAAAWUAAAAAAAABZQAAAAAAAAFlA/////wAAAAAQAAAADAAUAAYACAAMABAADAAAAAAABAA4AAAAJAAAAAQAAAABAAAAWAgAAAAAAAAgAgAAAAAAAJgDAAAAAAAAAAAAAAAACgAMAAAABAAIAAoAAAD8BQAABAAAAAEAAAAMAAAACAAMAAQACAAIAAAA1AUAAAQAAADFBQAAeyJpbmRleF9jb2x1bW5zIjogW3sia2luZCI6ICJyYW5nZSIsICJuYW1lIjogbnVsbCwgInN0YXJ0IjogMCwgInN0b3AiOiAxMSwgInN0ZXAiOiAxfV0sICJjb2x1bW5faW5kZXhlcyI6IFt7Im5hbWUiOiBudWxsLCAiZmllbGRfbmFtZSI6IG51bGwsICJwYW5kYXNfdHlwZSI6ICJ1bmljb2RlIiwgIm51bXB5X3R5cGUiOiAic3RyIiwgIm1ldGFkYXRhIjogeyJlbmNvZGluZyI6ICJVVEYtOCJ9fV0sICJjb2x1bW5zIjogW3sibmFtZSI6ICJjcF9jYXRlZ29yeSIsICJmaWVsZF9uYW1lIjogImNwX2NhdGVnb3J5IiwgInBhbmRhc190eXBlIjogIm9iamVjdCIsICJudW1weV90eXBlIjogInN0ciIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAiY3BfbWFya2V0X2NvdW50IiwgImZpZWxkX25hbWUiOiAiY3BfbWFya2V0X2NvdW50IiwgInBhbmRhc190eXBlIjogImludDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJjcF9ldmVudF9jb3VudCIsICJmaWVsZF9uYW1lIjogImNwX2V2ZW50X2NvdW50IiwgInBhbmRhc190eXBlIjogImludDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJjcF9hdmdfbWt0c19wZXJfZXZlbnQiLCAiZmllbGRfbmFtZSI6ICJjcF9hdmdfbWt0c19wZXJfZXZlbnQiLCAicGFuZGFzX3R5cGUiOiAiZmxvYXQ2NCIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAiY3BfbWVfcGN0IiwgImZpZWxkX25hbWUiOiAiY3BfbWVfcGN0IiwgInBhbmRhc190eXBlIjogImZsb2F0NjQiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogImNwX3RvdGFsX2RvbGxhcl92b2wiLCAiZmllbGRfbmFtZSI6ICJjcF90b3RhbF9kb2xsYXJfdm9sIiwgInBhbmRhc190eXBlIjogImZsb2F0NjQiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogImNwX2F2Z19zcHJlYWQiLCAiZmllbGRfbmFtZSI6ICJjcF9hdmdfc3ByZWFkIiwgInBhbmRhc190eXBlIjogImZsb2F0NjQiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogImNwX2F2Z19wcmljZSIsICJmaWVsZF9uYW1lIjogImNwX2F2Z19wcmljZSIsICJwYW5kYXNfdHlwZSI6ICJmbG9hdDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJjcF9wY3RfMXciLCAiZmllbGRfbmFtZSI6ICJjcF9wY3RfMXciLCAicGFuZGFzX3R5cGUiOiAiZmxvYXQ2NCIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9XSwgImF0dHJpYnV0ZXMiOiB7fSwgImNyZWF0b3IiOiB7ImxpYnJhcnkiOiAicHlhcnJvdyIsICJ2ZXJzaW9uIjogIjIzLjAuMSJ9LCAicGFuZGFzX3ZlcnNpb24iOiAiMy4wLjEifQAAAAYAAABwYW5kYXMAAAkAAADsAQAAmAEAAFwBAAAYAQAA5AAAAKgAAABwAAAAOAAAAAQAAABI/v//AAABAxAAAAAcAAAABAAAAAAAAAAJAAAAY3BfcGN0XzF3AAAA9v7//wAAAgB4/v//AAABAxAAAAAgAAAABAAAAAAAAAAMAAAAY3BfYXZnX3ByaWNlAAAAACr///8AAAIArP7//wAAAQMQAAAAIAAAAAQAAAAAAAAADQAAAGNwX2F2Z19zcHJlYWQAAABe////AAACAOD+//8AAAEDEAAAACQAAAAEAAAAAAAAABMAAABjcF90b3RhbF9kb2xsYXJfdm9sAJb///8AAAIAGP///wAAAQMQAAAAHAAAAAQAAAAAAAAACQAAAGNwX21lX3BjdAAAAMb///8AAAIASP///wAAAQMQAAAALAAAAAQAAAAAAAAAFQAAAGNwX2F2Z19ta3RzX3Blcl9ldmVudAAGAAgABgAGAAAAAAACAIj///8AAAECEAAAACAAAAAEAAAAAAAAAA4AAABjcF9ldmVudF9jb3VudAAAyP///wAAAAFAAAAAwP///wAAAQIQAAAAKAAAAAQAAAAAAAAADwAAAGNwX21hcmtldF9jb3VudAAIAAwACAAHAAgAAAAAAAABQAAAABAAFAAIAAYABwAMAAAAEAAQAAAAAAABFBAAAAAgAAAABAAAAAAAAAALAAAAY3BfY2F0ZWdvcnkABAAEAAQAAABwCAAAQVJST1cx\u0026quot;,\u0026quot;format\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;arrow\u0026quot;}},\u0026quot;mark\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;bar\u0026quot;},\u0026quot;encoding\u0026quot;:{\u0026quot;color\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;cp_metric\u0026quot;,\u0026quot;legend\u0026quot;:{\u0026quot;labelExpr\u0026quot;:\u0026quot;datum.value === \u0026#x27;cp_market_count\u0026#x27; ? \u0026#x27;Markets\u0026#x27; : \u0026#x27;Events\u0026#x27;\u0026quot;},\u0026quot;scale\u0026quot;:{\u0026quot;domain\u0026quot;:[\u0026quot;cp_market_count\u0026quot;,\u0026quot;cp_event_count\u0026quot;],\u0026quot;range\u0026quot;:[\u0026quot;steelblue\u0026quot;,\u0026quot;darkorange\u0026quot;]},\u0026quot;title\u0026quot;:\u0026quot;Metric\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},\u0026quot;tooltip\u0026quot;:[{\u0026quot;field\u0026quot;:\u0026quot;cp_category\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Category\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;cp_metric\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Metric\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;cp_value\u0026quot;,\u0026quot;format\u0026quot;:\u0026quot;,\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Count\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}],\u0026quot;x\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;cp_value\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Count\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},\u0026quot;xOffset\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;cp_metric\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},\u0026quot;y\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;cp_category\u0026quot;,\u0026quot;sort\u0026quot;:\u0026quot;-x\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Category\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;}},\u0026quot;height\u0026quot;:400,\u0026quot;title\u0026quot;:\u0026quot;Investable Markets \u0026amp; Events by Category\u0026quot;,\u0026quot;transform\u0026quot;:[{\u0026quot;fold\u0026quot;:[\u0026quot;cp_market_count\u0026quot;,\u0026quot;cp_event_count\u0026quot;],\u0026quot;as\u0026quot;:[\u0026quot;cp_metric\u0026quot;,\u0026quot;cp_value\u0026quot;]}],\u0026quot;width\u0026quot;:600,\u0026quot;\u0026#36;schema\u0026quot;:\u0026quot;https://vega.github.io/schema/vega-lite/v6.1.0.json\u0026quot;}' data-chart-selection='true' data-field-selection='true' data-embed-options='{}'\u003E\u003C/marimo-vega\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "73db1ab5eab89363432622be9abc4aa5", "console": [], "id": "nWHF", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"portfolio-selection-heuristics\"\u003EPortfolio Selection Heuristics\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EBased on the category profiles above, here are concrete selection\nrules for the initial test portfolio. Target allocations reflect the\nnatural composition of the investable universe:\u003C/span\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003ECategory\u003C/th\u003E\n\u003Cth\u003ETarget Alloc\u003C/th\u003E\n\u003Cth\u003ESelection Rule\u003C/th\u003E\n\u003Cth\u003EMax Mkts/Event\u003C/th\u003E\n\u003Cth\u003ERationale\u003C/th\u003E\n\u003C/tr\u003E\n\u003C/thead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ESports\u003C/td\u003E\n\u003Ctd\u003E~40%\u003C/td\u003E\n\u003Ctd\u003EAll ME longshots; cap Non-ME at 3/event\u003C/td\u003E\n\u003Ctd\u003E3 (Non-ME)\u003C/td\u003E\n\u003Ctd\u003E41% ME, collateral efficient for winner-take-all events\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EWeather\u003C/td\u003E\n\u003Ctd\u003E~25%\u003C/td\u003E\n\u003Ctd\u003EAll investable\u003C/td\u003E\n\u003Ctd\u003EAll\u003C/td\u003E\n\u003Ctd\u003E100% 1-week, 70% ME, daily resolution, tight 2\u00a2 spreads\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ECrypto\u003C/td\u003E\n\u003Ctd\u003E~10%\u003C/td\u003E\n\u003Ctd\u003EAll investable\u003C/td\u003E\n\u003Ctd\u003E3 (Non-ME)\u003C/td\u003E\n\u003Ctd\u003E37% ME, 100% 1-week, strongest FLB signal\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EEntertainment\u003C/td\u003E\n\u003Ctd\u003E~9%\u003C/td\u003E\n\u003Ctd\u003EAll investable\u003C/td\u003E\n\u003Ctd\u003EAll\u003C/td\u003E\n\u003Ctd\u003E61% ME, 94% 1-week, behavioral edge\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EPolitics\u003C/td\u003E\n\u003Ctd\u003E~5%\u003C/td\u003E\n\u003Ctd\u003ECap at 3/event\u003C/td\u003E\n\u003Ctd\u003E3\u003C/td\u003E\n\u003Ctd\u003EOnly 8% ME, correlated within category\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EMentions\u003C/td\u003E\n\u003Ctd\u003E~3%\u003C/td\u003E\n\u003Ctd\u003ECap at 3/event\u003C/td\u003E\n\u003Ctd\u003E3\u003C/td\u003E\n\u003Ctd\u003E0% ME, SOTU-driven, event-specific\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EEconomics\u003C/td\u003E\n\u003Ctd\u003E~2%\u003C/td\u003E\n\u003Ctd\u003EAll investable\u003C/td\u003E\n\u003Ctd\u003EAll\u003C/td\u003E\n\u003Ctd\u003ESmall but uncorrelated\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ESci/Tech\u003C/td\u003E\n\u003Ctd\u003E~1%\u003C/td\u003E\n\u003Ctd\u003EAll investable\u003C/td\u003E\n\u003Ctd\u003EAll\u003C/td\u003E\n\u003Ctd\u003ETiny but interesting (AI benchmarks)\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EFinancials\u003C/td\u003E\n\u003Ctd\u003E0%\u003C/td\u003E\n\u003Ctd\u003ESkip\u003C/td\u003E\n\u003Ctd\u003E\u2014\u003C/td\u003E\n\u003Ctd\u003EWide spreads (14\u00a2), weakest edge\u003C/td\u003E\n\u003C/tr\u003E\n\u003C/tbody\u003E\n\u003C/table\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cstrong\u003EPosition sizing\u003C/strong\u003E: Fixed \u003Cstrong\u003E1 No contract per market\u003C/strong\u003E \u2014 minimum size\nto validate the strategy. Scale up later once fill quality and edge\nare confirmed.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cstrong\u003EME events\u003C/strong\u003E: Include all longshot markets \u2014 these are anti-correlated\nclusters where collateral efficiency makes even weak per-market edge\nworthwhile.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cstrong\u003ENon-ME events\u003C/strong\u003E: Cap at 3 markets per event (ranked by volume_24h)\nto avoid concentration in correlated outcomes.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "9551cd49e0fb2eb812ba8ce651a42806", "console": [], "id": "iLit", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "f046115004151b72d99c962eb4deab3e", "console": [], "id": "ZHCJ", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Chr /\u003E\n\u003Ch2 id=\"section-5-sample-portfolio\"\u003ESection 5: Sample Portfolio\u003C/h2\u003E\u003C/span\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"portfolio-summary\"\u003EPortfolio Summary\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EApplying the heuristic rules to the investable universe:\u003C/span\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003EMetric\u003C/th\u003E\n\u003Cth\u003EValue\u003C/th\u003E\n\u003C/tr\u003E\n\u003C/thead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ETotal markets selected\u003C/td\u003E\n\u003Ctd\u003E374\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EME markets\u003C/td\u003E\n\u003Ctd\u003E184\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ENon-ME markets\u003C/td\u003E\n\u003Ctd\u003E190\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EDistinct events\u003C/td\u003E\n\u003Ctd\u003E227\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ENominal collateral (1 contract each)\u003C/td\u003E\n\u003Ctd\u003E$346.21\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EEffective collateral (after ME returns)\u003C/td\u003E\n\u003Ctd\u003E$278.46\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ECollateral savings from ME\u003C/td\u003E\n\u003Ctd\u003E$67.75\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EExpected P\u0026amp;L (Becker calibration)\u003C/td\u003E\n\u003Ctd\u003E$4.56\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E95th percentile loss\u003C/td\u003E\n\u003Ctd\u003E$-3.06\u003C/td\u003E\n\u003C/tr\u003E\n\u003C/tbody\u003E\n\u003C/table\u003E\u003C/span\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"category-distribution\"\u003ECategory Distribution\u003C/h3\u003E\u003C/span\u003E\u003Cmarimo-ui-element object-id='ZHCJ-0' random-id='20ad7074-f1f4-7be9-db91-8444511c60e6'\u003E\u003Cmarimo-vega data-initial-value='{}' data-label='null' data-spec='{\u0026quot;config\u0026quot;:{\u0026quot;view\u0026quot;:{\u0026quot;continuousWidth\u0026quot;:300,\u0026quot;continuousHeight\u0026quot;:300}},\u0026quot;data\u0026quot;:{\u0026quot;url\u0026quot;:\u0026quot;data:application/vnd.apache.arrow.file;base64,QVJST1cxAAD/////YAQAABAAAAAAAAoADgAGAAUACAAKAAAAAAEEABAAAAAAAAoADAAAAAQACAAKAAAAMAMAAAQAAAABAAAADAAAAAgADAAEAAgACAAAAAgDAAAEAAAA+AIAAHsiaW5kZXhfY29sdW1ucyI6IFsiX19pbmRleF9sZXZlbF8wX18iXSwgImNvbHVtbl9pbmRleGVzIjogW3sibmFtZSI6IG51bGwsICJmaWVsZF9uYW1lIjogbnVsbCwgInBhbmRhc190eXBlIjogInVuaWNvZGUiLCAibnVtcHlfdHlwZSI6ICJzdHIiLCAibWV0YWRhdGEiOiB7ImVuY29kaW5nIjogIlVURi04In19XSwgImNvbHVtbnMiOiBbeyJuYW1lIjogInBmX2NhdGVnb3J5IiwgImZpZWxkX25hbWUiOiAicGZfY2F0ZWdvcnkiLCAicGFuZGFzX3R5cGUiOiAib2JqZWN0IiwgIm51bXB5X3R5cGUiOiAic3RyIiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJwZl9jZF9jb3VudCIsICJmaWVsZF9uYW1lIjogInBmX2NkX2NvdW50IiwgInBhbmRhc190eXBlIjogImludDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJwZl9jZF9tZSIsICJmaWVsZF9uYW1lIjogInBmX2NkX21lIiwgInBhbmRhc190eXBlIjogImludDY0IiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6IG51bGwsICJmaWVsZF9uYW1lIjogIl9faW5kZXhfbGV2ZWxfMF9fIiwgInBhbmRhc190eXBlIjogImludDY0IiwgIm51bXB5X3R5cGUiOiAiaW50NjQiLCAibWV0YWRhdGEiOiBudWxsfV0sICJhdHRyaWJ1dGVzIjoge30sICJjcmVhdG9yIjogeyJsaWJyYXJ5IjogInB5YXJyb3ciLCAidmVyc2lvbiI6ICIyMy4wLjEifSwgInBhbmRhc192ZXJzaW9uIjogIjMuMC4xIn0AAAAABgAAAHBhbmRhcwAABAAAAMwAAAB8AAAARAAAAAQAAABU////AAABAhAAAAAkAAAABAAAAAAAAAARAAAAX19pbmRleF9sZXZlbF8wX18AAACY////AAAAAUAAAACQ////AAABAhAAAAAcAAAABAAAAAAAAAAIAAAAcGZfY2RfbWUAAAAAzP///wAAAAFAAAAAxP///wAAAQIQAAAAJAAAAAQAAAAAAAAACwAAAHBmX2NkX2NvdW50AAgADAAIAAcACAAAAAAAAAFAAAAAEAAUAAgABgAHAAwAAAAQABAAAAAAAAEUEAAAACAAAAAEAAAAAAAAAAsAAABwZl9jYXRlZ29yeQAEAAQABAAAAAAAAAD/////KAEAABQAAAAAAAAADAAWAAYABQAIAAwADAAAAAADBAAYAAAAuAEAAAAAAAAAAAoAGAAMAAQACAAKAAAArAAAABAAAAAKAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWAAAAAAAAABYAAAAAAAAAGoAAAAAAAAAyAAAAAAAAAAAAAAAAAAAAMgAAAAAAAAAUAAAAAAAAAAYAQAAAAAAAAAAAAAAAAAAGAEAAAAAAABQAAAAAAAAAGgBAAAAAAAAAAAAAAAAAABoAQAAAAAAAFAAAAAAAAAAAAAAAAQAAAAKAAAAAAAAAAAAAAAAAAAACgAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAAAAABkAAAAAAAAAHwAAAAAAAAAsAAAAAAAAADQAAAAAAAAAPAAAAAAAAABFAAAAAAAAAFsAAAAAAAAAZAAAAAAAAABqAAAAAAAAAFNwb3J0c0NsaW1hdGUgYW5kIFdlYXRoZXJDcnlwdG9FbnRlcnRhaW5tZW50UG9saXRpY3NNZW50aW9uc0Vjb25vbWljc1NjaWVuY2UgYW5kIFRlY2hub2xvZ3lDb21wYW5pZXNTb2NpYWwAAAAAAACdAAAAAAAAAF0AAAAAAAAAKAAAAAAAAAAjAAAAAAAAABQAAAAAAAAADQAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAABAAAAAAAAAEcAAAAAAAAAQQAAAAAAAAAUAAAAAAAAABYAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAUAAAAAAAAAAwAAAAAAAAAHAAAAAAAAAAEAAAAAAAAACAAAAAAAAAD/////AAAAABAAAAAMABQABgAIAAwAEAAMAAAAAAAEADwAAAAoAAAABAAAAAEAAABwBAAAAAAAADABAAAAAAAAuAEAAAAAAAAAAAAAAAAAAAAACgAMAAAABAAIAAoAAAAwAwAABAAAAAEAAAAMAAAACAAMAAQACAAIAAAACAMAAAQAAAD4AgAAeyJpbmRleF9jb2x1bW5zIjogWyJfX2luZGV4X2xldmVsXzBfXyJdLCAiY29sdW1uX2luZGV4ZXMiOiBbeyJuYW1lIjogbnVsbCwgImZpZWxkX25hbWUiOiBudWxsLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogInN0ciIsICJtZXRhZGF0YSI6IHsiZW5jb2RpbmciOiAiVVRGLTgifX1dLCAiY29sdW1ucyI6IFt7Im5hbWUiOiAicGZfY2F0ZWdvcnkiLCAiZmllbGRfbmFtZSI6ICJwZl9jYXRlZ29yeSIsICJwYW5kYXNfdHlwZSI6ICJvYmplY3QiLCAibnVtcHlfdHlwZSI6ICJzdHIiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogInBmX2NkX2NvdW50IiwgImZpZWxkX25hbWUiOiAicGZfY2RfY291bnQiLCAicGFuZGFzX3R5cGUiOiAiaW50NjQiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogInBmX2NkX21lIiwgImZpZWxkX25hbWUiOiAicGZfY2RfbWUiLCAicGFuZGFzX3R5cGUiOiAiaW50NjQiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogbnVsbCwgImZpZWxkX25hbWUiOiAiX19pbmRleF9sZXZlbF8wX18iLCAicGFuZGFzX3R5cGUiOiAiaW50NjQiLCAibnVtcHlfdHlwZSI6ICJpbnQ2NCIsICJtZXRhZGF0YSI6IG51bGx9XSwgImF0dHJpYnV0ZXMiOiB7fSwgImNyZWF0b3IiOiB7ImxpYnJhcnkiOiAicHlhcnJvdyIsICJ2ZXJzaW9uIjogIjIzLjAuMSJ9LCAicGFuZGFzX3ZlcnNpb24iOiAiMy4wLjEifQAAAAAGAAAAcGFuZGFzAAAEAAAAzAAAAHwAAABEAAAABAAAAFT///8AAAECEAAAACQAAAAEAAAAAAAAABEAAABfX2luZGV4X2xldmVsXzBfXwAAAJj///8AAAABQAAAAJD///8AAAECEAAAABwAAAAEAAAAAAAAAAgAAABwZl9jZF9tZQAAAADM////AAAAAUAAAADE////AAABAhAAAAAkAAAABAAAAAAAAAALAAAAcGZfY2RfY291bnQACAAMAAgABwAIAAAAAAAAAUAAAAAQABQACAAGAAcADAAAABAAEAAAAAAAARQQAAAAIAAAAAQAAAAAAAAACwAAAHBmX2NhdGVnb3J5AAQABAAEAAAAiAQAAEFSUk9XMQ==\u0026quot;,\u0026quot;format\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;arrow\u0026quot;}},\u0026quot;mark\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;bar\u0026quot;},\u0026quot;encoding\u0026quot;:{\u0026quot;tooltip\u0026quot;:[{\u0026quot;field\u0026quot;:\u0026quot;pf_category\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Category\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;pf_cd_count\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;pf_cd_me\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;ME Markets\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}],\u0026quot;x\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;pf_cd_count\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Markets Selected\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},\u0026quot;y\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;pf_category\u0026quot;,\u0026quot;sort\u0026quot;:\u0026quot;-x\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Category\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;}},\u0026quot;height\u0026quot;:350,\u0026quot;title\u0026quot;:\u0026quot;Portfolio: Markets by Category\u0026quot;,\u0026quot;width\u0026quot;:600,\u0026quot;\u0026#36;schema\u0026quot;:\u0026quot;https://vega.github.io/schema/vega-lite/v6.1.0.json\u0026quot;}' data-chart-selection='true' data-field-selection='true' data-embed-options='{}'\u003E\u003C/marimo-vega\u003E\u003C/marimo-ui-element\u003E\u003Cmarimo-ui-element object-id='ZHCJ-1' random-id='69193125-b660-056d-f8e1-3e6d81e2d9b1'\u003E\u003Cmarimo-table data-initial-value='[]' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Category Breakdown\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-data='\u0026quot;[{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:9,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_cd_count\u0026#92;\u0026quot;:157,\u0026#92;\u0026quot;pf_cd_me\u0026#92;\u0026quot;:71},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Climate and Weather\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_cd_count\u0026#92;\u0026quot;:93,\u0026#92;\u0026quot;pf_cd_me\u0026#92;\u0026quot;:65},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:2,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:2,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Crypto\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_cd_count\u0026#92;\u0026quot;:40,\u0026#92;\u0026quot;pf_cd_me\u0026#92;\u0026quot;:20},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Entertainment\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_cd_count\u0026#92;\u0026quot;:35,\u0026#92;\u0026quot;pf_cd_me\u0026#92;\u0026quot;:22},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:6,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Politics\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_cd_count\u0026#92;\u0026quot;:20,\u0026#92;\u0026quot;pf_cd_me\u0026#92;\u0026quot;:2},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Mentions\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_cd_count\u0026#92;\u0026quot;:13,\u0026#92;\u0026quot;pf_cd_me\u0026#92;\u0026quot;:0},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:6,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Economics\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_cd_count\u0026#92;\u0026quot;:9,\u0026#92;\u0026quot;pf_cd_me\u0026#92;\u0026quot;:2},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:7,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:7,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Science and Technology\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_cd_count\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;pf_cd_me\u0026#92;\u0026quot;:2},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:8,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Companies\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_cd_count\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_cd_me\u0026#92;\u0026quot;:0},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:8,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:9,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Social\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_cd_count\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_cd_me\u0026#92;\u0026quot;:0}]\u0026quot;' data-total-rows='10' data-total-columns='3' data-max-columns='50' data-banner-text='\u0026quot;\u0026quot;' data-pagination='false' data-page-size='10' data-field-types='[[\u0026quot;pf_category\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;pf_cd_count\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]],[\u0026quot;pf_cd_me\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]]]' data-selection='\u0026quot;multi\u0026quot;' data-show-filters='true' data-show-download='true' data-show-column-summaries='false' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[[\u0026quot;\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]]]' data-has-stable-row-id='true' data-lazy='false' data-preload='false' data-download-file-name='\u0026quot;pc_cat_dist\u0026quot;'\u003E\u003C/marimo-table\u003E\u003C/marimo-ui-element\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"cohort-split\"\u003ECohort Split\u003C/h3\u003E\u003C/span\u003E\u003Cmarimo-ui-element object-id='ZHCJ-2' random-id='0032873b-468f-d0e4-6f50-aaca3dd101b7'\u003E\u003Cmarimo-table data-initial-value='[]' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Cohort Split\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-data='\u0026quot;[{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;pf_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;1-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_cs_count\u0026#92;\u0026quot;:227},{\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;2-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_cs_count\u0026#92;\u0026quot;:147}]\u0026quot;' data-total-rows='2' data-total-columns='2' data-max-columns='50' data-banner-text='\u0026quot;\u0026quot;' data-pagination='false' data-page-size='10' data-field-types='[[\u0026quot;pf_cohort\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;pf_cs_count\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]]]' data-selection='\u0026quot;multi\u0026quot;' data-show-filters='true' data-show-download='true' data-show-column-summaries='false' data-show-data-types='true' data-show-page-size-selector='false' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[]' data-has-stable-row-id='true' data-lazy='false' data-preload='false' data-download-file-name='\u0026quot;pc_cohort_split\u0026quot;'\u003E\u003C/marimo-table\u003E\u003C/marimo-ui-element\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"top-10-events-by-market-count\"\u003ETop 10 Events by Market Count\u003C/h3\u003E\u003C/span\u003E\u003Cmarimo-ui-element object-id='ZHCJ-3' random-id='4d7c6b1b-ab0a-c91c-ac37-c3204afa8a63'\u003E\u003Cmarimo-table data-initial-value='[]' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Top Events in Portfolio\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-data='\u0026quot;[{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:115,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXNASCARRACE-AUT26\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Autotrader 400 Winner?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_te_count\u0026#92;\u0026quot;:19,\u0026#92;\u0026quot;pf_te_vol\u0026#92;\u0026quot;:582705},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:21,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXBTC-26FEB2717\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Crypto\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Bitcoin price range on Feb 27, 2026 at 5pm EST?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_te_count\u0026#92;\u0026quot;:12,\u0026#92;\u0026quot;pf_te_vol\u0026#92;\u0026quot;:21234},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:57,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:2,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXHIGHAUS-26FEB22\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Climate and Weather\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Highest temperature in Austin on Feb 22, 2026?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_te_count\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;pf_te_vol\u0026#92;\u0026quot;:16322},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:168,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXNETFLIXRANKMOVIEGLOBAL2-26FEB23\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Entertainment\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;#2 Global Netflix Movie this week?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_te_count\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;pf_te_vol\u0026#92;\u0026quot;:1544},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:196,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXSOLE-26FEB2717\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Crypto\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;SOL price range on Feb 27, 2026 at 5pm EST?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_te_count\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;pf_te_vol\u0026#92;\u0026quot;:1032},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:198,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXSONGCHARTSJCOLE-26FEB28\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Entertainment\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;How many J. Cole songs will chart on the Billboard Hot 100 for the week of February 28th?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_te_count\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;pf_te_vol\u0026#92;\u0026quot;:1655},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:54,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:6,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXETH-26FEB2717\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Crypto\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Ethereum price range on Feb 27, 2026 at 5pm EST?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_te_count\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;pf_te_vol\u0026#92;\u0026quot;:5649},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:22,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:7,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXBTCD-26FEB2717\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Crypto\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Bitcoin price on Feb 27, 2026 at 5pm EST?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;pf_te_count\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;pf_te_vol\u0026#92;\u0026quot;:14113},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:13,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:8,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXATTENDSOTU\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Politics\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Who will attend the State of the Union?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;pf_te_count\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;pf_te_vol\u0026#92;\u0026quot;:32669},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:62,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:9,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXHIGHDEN-26FEB23\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Climate and Weather\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Highest temperature in Denver on Feb 23, 2026?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_te_count\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;pf_te_vol\u0026#92;\u0026quot;:825}]\u0026quot;' data-total-rows='10' data-total-columns='6' data-max-columns='50' data-banner-text='\u0026quot;\u0026quot;' data-pagination='false' data-page-size='10' data-field-types='[[\u0026quot;pf_event_ticker\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;pf_category\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;pf_event_title\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;pf_me\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]],[\u0026quot;pf_te_count\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]],[\u0026quot;pf_te_vol\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]]]' data-selection='\u0026quot;multi\u0026quot;' data-show-filters='true' data-show-download='true' data-show-column-summaries='false' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[[\u0026quot;\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]]]' data-has-stable-row-id='true' data-lazy='false' data-preload='false' data-download-file-name='\u0026quot;pc_top_port_events\u0026quot;'\u003E\u003C/marimo-table\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "4bb64ba5c0ef6d94595f238c697103d2", "console": [], "id": "ROlb", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"full-portfolio-detail\"\u003EFull Portfolio Detail\u003C/h3\u003E\u003C/span\u003E\u003Cmarimo-ui-element object-id='ROlb-0' random-id='cd6df899-d47f-e4b8-0636-38629e5e419b'\u003E\u003Cmarimo-table data-initial-value='[]' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;All Selected Markets (sorted by 24h volume)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-data='\u0026quot;[{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;pf_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXPGATOUR-THGI26-RMCI\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Will Rory McIlroy win the The Genesis Invitational?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXPGATOUR-THGI26\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;2-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_last_price\u0026#92;\u0026quot;:14.0,\u0026#92;\u0026quot;pf_spread\u0026#92;\u0026quot;:1.0,\u0026#92;\u0026quot;pf_vol_24h\u0026#92;\u0026quot;:2178774,\u0026#92;\u0026quot;pf_dte\u0026#92;\u0026quot;:14,\u0026#92;\u0026quot;pf_no_cost_cents\u0026#92;\u0026quot;:86.0,\u0026#92;\u0026quot;pf_position_size\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_nominal_collateral\u0026#92;\u0026quot;:0.86,\u0026#92;\u0026quot;pf_expected_pnl\u0026#92;\u0026quot;:0.022959999999999994},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXPGATOUR-THGI26-APOT\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Will Aldrich Potgieter win the The Genesis Invitational?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXPGATOUR-THGI26\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;2-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_last_price\u0026#92;\u0026quot;:3.0,\u0026#92;\u0026quot;pf_spread\u0026#92;\u0026quot;:1.0,\u0026#92;\u0026quot;pf_vol_24h\u0026#92;\u0026quot;:1159988,\u0026#92;\u0026quot;pf_dte\u0026#92;\u0026quot;:14,\u0026#92;\u0026quot;pf_no_cost_cents\u0026#92;\u0026quot;:97.0,\u0026#92;\u0026quot;pf_position_size\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_nominal_collateral\u0026#92;\u0026quot;:0.97,\u0026#92;\u0026quot;pf_expected_pnl\u0026#92;\u0026quot;:0.00492},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:2,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:2,\u0026#92;\u0026quot;pf_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXEPLGAME-26FEB22TOTARS-TOT\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Tottenham vs Arsenal Winner?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXEPLGAME-26FEB22TOTARS\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;2-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_last_price\u0026#92;\u0026quot;:13.0,\u0026#92;\u0026quot;pf_spread\u0026#92;\u0026quot;:1.0,\u0026#92;\u0026quot;pf_vol_24h\u0026#92;\u0026quot;:811221,\u0026#92;\u0026quot;pf_dte\u0026#92;\u0026quot;:14,\u0026#92;\u0026quot;pf_no_cost_cents\u0026#92;\u0026quot;:87.0,\u0026#92;\u0026quot;pf_position_size\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_nominal_collateral\u0026#92;\u0026quot;:0.87,\u0026#92;\u0026quot;pf_expected_pnl\u0026#92;\u0026quot;:0.021319999999999995},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:3,\u0026#92;\u0026quot;pf_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXNCAAWBGAME-26FEB22PITTUNC-PITT\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Pittsburgh at North Carolina Winner?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXNCAAWBGAME-26FEB22PITTUNC\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;2-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_last_price\u0026#92;\u0026quot;:3.0,\u0026#92;\u0026quot;pf_spread\u0026#92;\u0026quot;:2.0,\u0026#92;\u0026quot;pf_vol_24h\u0026#92;\u0026quot;:652008,\u0026#92;\u0026quot;pf_dte\u0026#92;\u0026quot;:14,\u0026#92;\u0026quot;pf_no_cost_cents\u0026#92;\u0026quot;:97.0,\u0026#92;\u0026quot;pf_position_size\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_nominal_collateral\u0026#92;\u0026quot;:0.97,\u0026#92;\u0026quot;pf_expected_pnl\u0026#92;\u0026quot;:0.00492},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:184,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;pf_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXKHAMENEIOUT-AKHA-26MAR01\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Will Ali Khamenei leave office before 2026-03-01T15:00:00.000Z?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Politics\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXKHAMENEIOUT-AKHA\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;pf_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;1-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_last_price\u0026#92;\u0026quot;:5.0,\u0026#92;\u0026quot;pf_spread\u0026#92;\u0026quot;:1.0,\u0026#92;\u0026quot;pf_vol_24h\u0026#92;\u0026quot;:539495,\u0026#92;\u0026quot;pf_dte\u0026#92;\u0026quot;:7,\u0026#92;\u0026quot;pf_no_cost_cents\u0026#92;\u0026quot;:95.0,\u0026#92;\u0026quot;pf_position_size\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_nominal_collateral\u0026#92;\u0026quot;:0.95,\u0026#92;\u0026quot;pf_expected_pnl\u0026#92;\u0026quot;:0.008199999999999994},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:4,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;pf_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXATPMATCH-26FEB22PELGAL-GAL\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Will Daniel Elahi Galan win the Pellegrino vs Galan : Qualification Final match?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXATPMATCH-26FEB22PELGAL\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;2-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_last_price\u0026#92;\u0026quot;:15.0,\u0026#92;\u0026quot;pf_spread\u0026#92;\u0026quot;:2.0,\u0026#92;\u0026quot;pf_vol_24h\u0026#92;\u0026quot;:210551,\u0026#92;\u0026quot;pf_dte\u0026#92;\u0026quot;:14,\u0026#92;\u0026quot;pf_no_cost_cents\u0026#92;\u0026quot;:85.0,\u0026#92;\u0026quot;pf_position_size\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_nominal_collateral\u0026#92;\u0026quot;:0.85,\u0026#92;\u0026quot;pf_expected_pnl\u0026#92;\u0026quot;:0.024600000000000007},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:5,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:6,\u0026#92;\u0026quot;pf_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXATPCHALLENGERMATCH-26FEB22JADPAU-JAD\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Will Daniel Jade win the Jade vs Paul : Qualification Round 1 match?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXATPCHALLENGERMATCH-26FEB22JADPAU\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;2-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_last_price\u0026#92;\u0026quot;:6.0,\u0026#92;\u0026quot;pf_spread\u0026#92;\u0026quot;:2.0,\u0026#92;\u0026quot;pf_vol_24h\u0026#92;\u0026quot;:185191,\u0026#92;\u0026quot;pf_dte\u0026#92;\u0026quot;:14,\u0026#92;\u0026quot;pf_no_cost_cents\u0026#92;\u0026quot;:94.0,\u0026#92;\u0026quot;pf_position_size\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_nominal_collateral\u0026#92;\u0026quot;:0.94,\u0026#92;\u0026quot;pf_expected_pnl\u0026#92;\u0026quot;:0.00984},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:6,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:7,\u0026#92;\u0026quot;pf_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXCS2GAME-26FEB22PRVVIT-PRV\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Will PARIVISION win the PARIVISION vs. Vitality CS2 match?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXCS2GAME-26FEB22PRVVIT\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;2-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_last_price\u0026#92;\u0026quot;:10.0,\u0026#92;\u0026quot;pf_spread\u0026#92;\u0026quot;:3.0,\u0026#92;\u0026quot;pf_vol_24h\u0026#92;\u0026quot;:120973,\u0026#92;\u0026quot;pf_dte\u0026#92;\u0026quot;:14,\u0026#92;\u0026quot;pf_no_cost_cents\u0026#92;\u0026quot;:90.0,\u0026#92;\u0026quot;pf_position_size\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_nominal_collateral\u0026#92;\u0026quot;:0.9,\u0026#92;\u0026quot;pf_expected_pnl\u0026#92;\u0026quot;:0.016399999999999988},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:185,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:8,\u0026#92;\u0026quot;pf_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXNYCSNOWM-26FEB-25.0\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Snow in New York City in Feb 2026?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Climate and Weather\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXNYCSNOWM-26FEB\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:0,\u0026#92;\u0026quot;pf_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;1-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_last_price\u0026#92;\u0026quot;:9.0,\u0026#92;\u0026quot;pf_spread\u0026#92;\u0026quot;:1.0,\u0026#92;\u0026quot;pf_vol_24h\u0026#92;\u0026quot;:120109,\u0026#92;\u0026quot;pf_dte\u0026#92;\u0026quot;:7,\u0026#92;\u0026quot;pf_no_cost_cents\u0026#92;\u0026quot;:91.0,\u0026#92;\u0026quot;pf_position_size\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_nominal_collateral\u0026#92;\u0026quot;:0.91,\u0026#92;\u0026quot;pf_expected_pnl\u0026#92;\u0026quot;:0.01476000000000001},{\u0026#92;\u0026quot;\u0026#92;\u0026quot;:7,\u0026#92;\u0026quot;_marimo_row_id\u0026#92;\u0026quot;:9,\u0026#92;\u0026quot;pf_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXNCAAWBGAME-26FEB22MISSSCAR-MISS\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_title\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Ole Miss at South Carolina Winner?\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_category\u0026#92;\u0026quot;:\u0026#92;\u0026quot;Sports\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_event_ticker\u0026#92;\u0026quot;:\u0026#92;\u0026quot;KXNCAAWBGAME-26FEB22MISSSCAR\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_me\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_cohort\u0026#92;\u0026quot;:\u0026#92;\u0026quot;2-week\u0026#92;\u0026quot;,\u0026#92;\u0026quot;pf_last_price\u0026#92;\u0026quot;:8.0,\u0026#92;\u0026quot;pf_spread\u0026#92;\u0026quot;:3.0,\u0026#92;\u0026quot;pf_vol_24h\u0026#92;\u0026quot;:93969,\u0026#92;\u0026quot;pf_dte\u0026#92;\u0026quot;:14,\u0026#92;\u0026quot;pf_no_cost_cents\u0026#92;\u0026quot;:92.0,\u0026#92;\u0026quot;pf_position_size\u0026#92;\u0026quot;:1,\u0026#92;\u0026quot;pf_nominal_collateral\u0026#92;\u0026quot;:0.92,\u0026#92;\u0026quot;pf_expected_pnl\u0026#92;\u0026quot;:0.013120000000000003}]\u0026quot;' data-total-rows='374' data-total-columns='14' data-max-columns='50' data-banner-text='\u0026quot;\u0026quot;' data-pagination='true' data-page-size='10' data-field-types='[[\u0026quot;pf_ticker\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;pf_title\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;pf_category\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;pf_event_ticker\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;pf_me\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]],[\u0026quot;pf_cohort\u0026quot;,[\u0026quot;string\u0026quot;,\u0026quot;str\u0026quot;]],[\u0026quot;pf_last_price\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]],[\u0026quot;pf_spread\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]],[\u0026quot;pf_vol_24h\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]],[\u0026quot;pf_dte\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]],[\u0026quot;pf_no_cost_cents\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]],[\u0026quot;pf_position_size\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]],[\u0026quot;pf_nominal_collateral\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]],[\u0026quot;pf_expected_pnl\u0026quot;,[\u0026quot;number\u0026quot;,\u0026quot;float64\u0026quot;]]]' data-selection='\u0026quot;multi\u0026quot;' data-show-filters='true' data-show-download='true' data-show-column-summaries='true' data-show-data-types='true' data-show-page-size-selector='true' data-show-column-explorer='true' data-show-chart-builder='true' data-row-headers='[[\u0026quot;\u0026quot;,[\u0026quot;integer\u0026quot;,\u0026quot;int64\u0026quot;]]]' data-has-stable-row-id='true' data-lazy='false' data-preload='false' data-download-file-name='\u0026quot;download\u0026quot;'\u003E\u003C/marimo-table\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "ae98375882ca86bb2a86e66be7e154d8", "console": [], "id": "qnkX", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Chr /\u003E\n\u003Ch2 id=\"findings-next-steps\"\u003EFindings \u0026amp; Next Steps\u003C/h2\u003E\n\u003Ch3 id=\"portfolio-composition\"\u003EPortfolio Composition\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E374 markets\u003C/strong\u003E selected from 425 investable (removed 5 Financials,\n  capped 46 non-ME markets exceeding the 3-per-event limit)\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003E227 distinct events\u003C/strong\u003E \u2014 good diversification, average 1.6 markets\n  per event\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003E184 ME + 190 Non-ME\u003C/strong\u003E \u2014 roughly balanced, with ME providing\n  anti-correlation and Non-ME providing breadth\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003ECategory mix\u003C/strong\u003E: Sports 42%, Weather 25%, Crypto 11%,\n  Entertainment 9%, Politics 5%, Mentions 3%, other 5%\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003ECohort split\u003C/strong\u003E: 61% 1-week (227 markets), 39% 2-week (147)\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3 id=\"collateral-expected-pl\"\u003ECollateral \u0026amp; Expected P\u0026amp;L\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003ENominal collateral (1 contract each): \u003Cstrong\u003E$346\u003C/strong\u003E\u003C/li\u003E\n\u003Cli\u003EEffective collateral (after ME returns): \u003Cstrong\u003E$278\u003C/strong\u003E \u2014 a 20% savings\u003C/li\u003E\n\u003Cli\u003EThe savings are modest because most ME clusters are small (2-4\n  markets). The big efficiency gains concentrate in NASCAR (18.5x)\n  and Bitcoin range (11.7x)\u003C/li\u003E\n\u003Cli\u003EExpected P\u0026amp;L (Becker calibration): \u003Cstrong\u003E+$4.56\u003C/strong\u003E across 374\n  contracts \u2014 an edge of ~1.2 cents per contract\u003C/li\u003E\n\u003Cli\u003E95th percentile loss: \u003Cstrong\u003E-$3.06\u003C/strong\u003E \u2014 the portfolio can lose money\n  even if the FLB is real, due to variance across hundreds of\n  low-probability events\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3 id=\"key-risks\"\u003EKey Risks\u003C/h3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003ESports concentration\u003C/strong\u003E: 42% of portfolio in Sports, creating\n  implicit correlation to a few sporting events (NASCAR alone is\n  19 markets)\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EThin liquidity in edge categories\u003C/strong\u003E: Weather has tight 2\u00a2\n  spreads, but Crypto (3.4\u00a2), Entertainment (5.4\u00a2), and especially\n  Sports (10.9\u00a2) have spreads that eat into the ~1.2\u00a2 per-contract\n  edge\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003ESpread costs dominate\u003C/strong\u003E: The 1.2\u00a2 expected edge per contract is\n  smaller than the average spread in most categories. Execution at\n  mid or better is critical\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003ESingle-snapshot bias\u003C/strong\u003E: Portfolio composition changes daily as\n  events resolve and new ones open\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch3 id=\"next-steps\"\u003ENext Steps\u003C/h3\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Cstrong\u003EDeploy\u003C/strong\u003E: Place 1 No contract per market across the portfolio,\n   targeting limit orders at or near the bid to minimize spread cost\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003ETrack fills\u003C/strong\u003E: Monitor execution quality \u2014 what fraction of\n   limit orders fill? Average slippage vs quoted prices?\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EMonitor resolutions\u003C/strong\u003E: Track outcomes over 2-4 weeks to measure\n   realized edge vs the +$4.56 Becker-calibrated expectation\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003ERefine\u003C/strong\u003E: If edge materializes, concentrate on categories with\n   positive realized returns and increase to 5-10 contracts per\n   market\u003C/li\u003E\n\u003C/ol\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "04a6ab950bcd30a0f78ad4a9e3467f83", "console": [], "id": "TqIu", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Chr /\u003E\n\u003Ch2 id=\"section-6-save-portfolio-to-s3\"\u003ESection 6: Save Portfolio to S3\u003C/h2\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "b77e2566489c7296832742fd18561157", "console": [], "id": "Vxnm", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"portfolio-saved-to-s3\"\u003EPortfolio saved to S3\u003C/h3\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003EDetail\u003C/th\u003E\n\u003Cth\u003EValue\u003C/th\u003E\n\u003C/tr\u003E\n\u003C/thead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ES3 Path\u003C/td\u003E\n\u003Ctd\u003E\u003Ccode\u003Es3://cmidwinter-data/longshot_bias/ad-hoc/sim_portfolio/date=2026-02-22/hour=17/data.parquet\u003C/code\u003E\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ERows\u003C/td\u003E\n\u003Ctd\u003E374\u003C/td\u003E\n\u003C/tr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EFile Size\u003C/td\u003E\n\u003Ctd\u003E38,429 bytes\u003C/td\u003E\n\u003C/tr\u003E\n\u003C/tbody\u003E\n\u003C/table\u003E\n\u003Cspan class=\"paragraph\"\u003EPortfolio snapshot saved successfully. Read back with:\n\u003Cdiv class=\"language-python codehilite\"\u003E\u003Cpre\u003E\u003Cspan\u003E\u003C/span\u003E\u003Ccode\u003E\u003Cspan class=\"kn\"\u003Eimport\u003C/span\u003E\u003Cspan class=\"w\"\u003E \u003C/span\u003E\u003Cspan class=\"nn\"\u003Epyarrow.parquet\u003C/span\u003E\u003Cspan class=\"w\"\u003E \u003C/span\u003E\u003Cspan class=\"k\"\u003Eas\u003C/span\u003E\u003Cspan class=\"w\"\u003E \u003C/span\u003E\u003Cspan class=\"nn\"\u003Epq\u003C/span\u003E\n\u003Cspan class=\"n\"\u003Edf\u003C/span\u003E \u003Cspan class=\"o\"\u003E=\u003C/span\u003E \u003Cspan class=\"n\"\u003Epq\u003C/span\u003E\u003Cspan class=\"o\"\u003E.\u003C/span\u003E\u003Cspan class=\"n\"\u003Eread_table\u003C/span\u003E\u003Cspan class=\"p\"\u003E(\u003C/span\u003E\u003Cspan class=\"s2\"\u003E\u0026quot;s3://cmidwinter-data/longshot_bias/ad-hoc/sim_portfolio/date=2026-02-22/hour=17/data.parquet\u0026quot;\u003C/span\u003E\u003Cspan class=\"p\"\u003E)\u003C/span\u003E\u003Cspan class=\"o\"\u003E.\u003C/span\u003E\u003Cspan class=\"n\"\u003Eto_pandas\u003C/span\u003E\u003Cspan class=\"p\"\u003E()\u003C/span\u003E\n\u003C/code\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}], "metadata": {"marimo_version": "0.20.1"}, "version": "1"},
            "runtimeConfig": null,
        };
    </script>
  
<marimo-code hidden="">
    %23%20%2F%2F%2F%20script%0A%23%20requires-python%20%3D%20%22%3E%3D3.12%22%0A%23%20dependencies%20%3D%20%5B%0A%23%20%20%20%20%20%22marimo%22%2C%0A%23%20%20%20%20%20%22boto3%22%2C%0A%23%20%20%20%20%20%22pandas%22%2C%0A%23%20%20%20%20%20%22altair%22%2C%0A%23%20%20%20%20%20%22python-dotenv%22%2C%0A%23%20%20%20%20%20%22pyarrow%22%2C%0A%23%20%20%20%20%20%22s3fs%22%2C%0A%23%20%5D%0A%23%20%2F%2F%2F%0A%0Aimport%20marimo%0A%0A__generated_with%20%3D%20%220.20.1%22%0Aapp%20%3D%20marimo.App(width%3D%22medium%22)%0A%0A%0A%40app.cell%0Adef%20pc_setup()%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20import%20altair%20as%20alt%0A%20%20%20%20import%20pandas%20as%20pd%0A%20%20%20%20import%20pyarrow%20as%20pa%0A%20%20%20%20import%20pyarrow.parquet%20as%20pq%0A%20%20%20%20import%20s3fs%0A%0A%20%20%20%20from%20longshot.storage.athena%20import%20query%0A%20%20%20%20from%20longshot.config%20import%20SETTINGS%0A%0A%20%20%20%20return%20SETTINGS%2C%20alt%2C%20mo%2C%20pa%2C%20pd%2C%20pq%2C%20query%2C%20s3fs%0A%0A%0A%40app.cell%0Adef%20pc_partitions(mo%2C%20query)%3A%0A%20%20%20%20pc_partition_info%20%3D%20query(%22%22%22%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20'daily_markets'%20AS%20tbl%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20max(date)%20AS%20latest_date%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20max(hour)%20AS%20latest_hour%0A%20%20%20%20%20%20%20%20FROM%20daily_markets%0A%20%20%20%20%20%20%20%20UNION%20ALL%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20'daily_events'%20AS%20tbl%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20max(date)%20AS%20latest_date%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20max(hour)%20AS%20latest_hour%0A%20%20%20%20%20%20%20%20FROM%20daily_events%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20pc_mkt_part%20%3D%20pc_partition_info%5Bpc_partition_info%5B%22tbl%22%5D%20%3D%3D%20%22daily_markets%22%5D.iloc%5B0%5D%0A%20%20%20%20pc_evt_part%20%3D%20pc_partition_info%5Bpc_partition_info%5B%22tbl%22%5D%20%3D%3D%20%22daily_events%22%5D.iloc%5B0%5D%0A%20%20%20%20pc_snap_date%20%3D%20pc_mkt_part%5B%22latest_date%22%5D%0A%20%20%20%20pc_snap_hour%20%3D%20str(int(pc_mkt_part%5B%22latest_hour%22%5D))%0A%20%20%20%20pc_evt_snap_date%20%3D%20pc_evt_part%5B%22latest_date%22%5D%0A%20%20%20%20pc_evt_snap_hour%20%3D%20str(int(pc_evt_part%5B%22latest_hour%22%5D))%0A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20f%22%22%22%0A%20%20%20%20%20%20%20%20%23%20Portfolio%20Construction%20Heuristics%0A%0A%20%20%20%20%20%20%20%20Notebooks%2008-09%20established%20that%20the%20longshot%20universe%20(3-15%20cents%2C%0A%20%20%20%20%20%20%20%20DTE%201-14)%20contains%20~425%20investable%20markets%20after%20liquidity%20screening%0A%20%20%20%20%20%20%20%20(%60volume_24h%20%3E%3D%20100%60)%2C%20with%20~%2414K%2Fday%20in%20investable%20capacity.%20This%0A%20%20%20%20%20%20%20%20notebook%20shifts%20from%20%22is%20there%20an%20edge%3F%22%20to%20**%22how%20do%20we%20construct%20a%0A%20%20%20%20%20%20%20%20portfolio%20to%20test%20it%3F%22**%0A%0A%20%20%20%20%20%20%20%20The%20goal%20is%20rough%2C%20actionable%20heuristics%20to%20select%20markets%20for%0A%20%20%20%20%20%20%20%20small-size%20live%20testing%20(fixed%201%20No%20contract%20per%20market)%20%E2%80%94%20not%0A%20%20%20%20%20%20%20%20precision%20optimization.%0A%0A%20%20%20%20%20%20%20%20**Key%20new%20analysis**%3A%20Mutually%20exclusive%20(ME)%20events%20contain%20markets%0A%20%20%20%20%20%20%20%20where%20at%20most%20one%20can%20resolve%20YES.%20These%20are%20naturally%20anti-correlated%0A%20%20%20%20%20%20%20%20and%20capital-efficient%20%E2%80%94%20Kalshi%20returns%20excess%20collateral%20when%20buying%0A%20%20%20%20%20%20%20%20No%20across%20multiple%20outcomes%20in%20the%20same%20ME%20event.%0A%0A%20%20%20%20%20%20%20%20%7C%20Table%20%7C%20Date%20%7C%20Hour%20(UTC)%20%7C%0A%20%20%20%20%20%20%20%20%7C-------%7C------%7C------------%7C%0A%20%20%20%20%20%20%20%20%7C%20daily_markets%20%7C%20%7Bpc_snap_date%7D%20%7C%20%7Bpc_snap_hour%7D%20%7C%0A%20%20%20%20%20%20%20%20%7C%20daily_events%20%7C%20%7Bpc_evt_snap_date%7D%20%7C%20%7Bpc_evt_snap_hour%7D%20%7C%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%20pc_snap_date%2C%20pc_snap_hour%0A%0A%0A%40app.cell%0Adef%20pc_key_findings(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20Key%20Findings%0A%0A%20%20%20%201.%20**Portfolio%20of%20374%20markets%20across%20227%20events**%20%E2%80%94%20after%20removing%0A%20%20%20%20%20%20%20Financials%20(wide%20spreads%2C%20no%20edge)%20and%20capping%20non-ME%20events%20at%203%0A%20%20%20%20%20%20%20markets%20each.%20Total%20capital%20required%3A%20**%5C%24278**%20effective%20collateral%0A%20%20%20%20%20%20%20(1%20No%20contract%20per%20market).%0A%0A%20%20%20%202.%20**44%25%20of%20investable%20longshots%20are%20in%20mutually%20exclusive%20events**%20%E2%80%94%0A%20%20%20%20%20%20%20higher%20in%20the%201-week%20cohort%20(53%25)%20than%202-week%20(31%25).%20Weather%0A%20%20%20%20%20%20%20(70%25%20ME)%20and%20Entertainment%20(61%25%20ME)%20contribute%20the%20most%20ME%0A%20%20%20%20%20%20%20structure%2C%20not%20Sports%20(only%2041%25%20ME%2C%20since%20spread%2Fpoints%20markets%0A%20%20%20%20%20%20%20aren't%20ME).%0A%0A%20%20%20%203.%20**Collateral%20efficiency%20is%20concentrated%2C%20not%20broad.**%20The%2033%20ME%0A%20%20%20%20%20%20%20clusters%20average%20just%203.2%20markets.%20Two%20outliers%20drive%20most%0A%20%20%20%20%20%20%20savings%3A%20NASCAR%20(18.5x%20efficiency)%20and%20Bitcoin%20range%20(11.7x).%0A%20%20%20%20%20%20%20Category-level%20efficiency%3A%20Crypto%206.3x%2C%20Sports%206.1x%2C%20Weather%0A%20%20%20%20%20%20%202.3x.%20Total%20portfolio%20savings%3A%2020%25%20(%5C%2468%20on%20%5C%24346%20nominal).%0A%0A%20%20%20%204.%20**Expected%20edge%20is%20thin%3A%20%2B%5C%244.56%20across%20374%20contracts**%20(~1.2%0A%20%20%20%20%20%20%20cents%20per%20contract%2C%20Becker%20calibration).%20This%20is%20smaller%20than%0A%20%20%20%20%20%20%20the%20average%20bid-ask%20spread%20in%20every%20category%20except%20Weather.%0A%20%20%20%20%20%20%20Execution%20quality%20%E2%80%94%20not%20market%20selection%20%E2%80%94%20will%20determine%0A%20%20%20%20%20%20%20whether%20this%20strategy%20is%20profitable.%0A%0A%20%20%20%205.%20**The%20portfolio%20is%20a%20variance%20bet.**%20With%2095th-percentile%20loss%0A%20%20%20%20%20%20%20at%20-%5C%243.06%2C%20even%20a%20correctly-calibrated%20FLB%20edge%20can%20produce%0A%20%20%20%20%20%20%20losses%20over%20a%201-2%20week%20test%20window.%20The%20purpose%20is%20to%20validate%0A%20%20%20%20%20%20%20fills%20and%20execution%2C%20not%20to%20prove%20profitability%20in%20one%20round.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pc_universe_query(mo%2C%20pc_snap_date%2C%20query)%3A%0A%20%20%20%20pc_universe_summary%20%3D%20query(f%22%22%22%0A%20%20%20%20%20%20%20%20WITH%20base%20AS%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20CASE%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20date_diff('day'%2C%20date('%7Bpc_snap_date%7D')%2C%20date(from_iso8601_timestamp(m.close_time)))%20BETWEEN%201%20AND%207%20THEN%20'1-week'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20date_diff('day'%2C%20date('%7Bpc_snap_date%7D')%2C%20date(from_iso8601_timestamp(m.close_time)))%20BETWEEN%208%20AND%2014%20THEN%20'2-week'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20END%20AS%20pc_cohort%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20CASE%20WHEN%20e.mutually_exclusive%20%3D%20true%20THEN%20'ME'%20ELSE%20'Non-ME'%20END%20AS%20pc_me_label%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m.volume_24h%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20CAST(m.volume_24h%20AS%20DOUBLE)%20*%20CAST(m.last_price%20AS%20DOUBLE)%20%2F%20100.0%20AS%20pc_dollar_vol%0A%20%20%20%20%20%20%20%20%20%20%20%20FROM%20daily_markets%20m%0A%20%20%20%20%20%20%20%20%20%20%20%20LEFT%20JOIN%20daily_events%20e%20ON%20m.event_ticker%20%3D%20e.event_ticker%0A%20%20%20%20%20%20%20%20%20%20%20%20WHERE%20m.close_time%20IS%20NOT%20NULL%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.close_time%20!%3D%20''%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.last_price%20%3E%3D%203%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.last_price%20%3C%3D%2015%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.volume_24h%20%3E%3D%20100%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20date_diff('day'%2C%20date('%7Bpc_snap_date%7D')%2C%20date(from_iso8601_timestamp(m.close_time)))%20BETWEEN%201%20AND%2014%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20pc_cohort%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20pc_me_label%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(*)%20AS%20pc_market_count%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sum(volume_24h)%20AS%20pc_total_vol_24h%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sum(pc_dollar_vol)%20AS%20pc_total_dollar_vol%0A%20%20%20%20%20%20%20%20FROM%20base%0A%20%20%20%20%20%20%20%20WHERE%20pc_cohort%20IS%20NOT%20NULL%0A%20%20%20%20%20%20%20%20GROUP%20BY%20pc_cohort%2C%20pc_me_label%0A%20%20%20%20%20%20%20%20ORDER%20BY%20pc_cohort%2C%20pc_me_label%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20mo.output.replace(mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22---%5Cn%23%23%20Section%201%3A%20Investable%20Longshot%20Universe%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.table(pc_universe_summary%2C%20label%3D%22Investable%20Universe%20by%20Cohort%20%26%20ME%20Status%22)%2C%0A%20%20%20%20%5D))%0A%20%20%20%20return%20(pc_universe_summary%2C)%0A%0A%0A%40app.cell%0Adef%20pc_universe_commentary(mo%2C%20pc_universe_summary)%3A%0A%20%20%20%20pc_total_mkts%20%3D%20int(pc_universe_summary%5B%22pc_market_count%22%5D.sum())%0A%20%20%20%20pc_me_mkts%20%3D%20int(pc_universe_summary%5Bpc_universe_summary%5B%22pc_me_label%22%5D%20%3D%3D%20%22ME%22%5D%5B%22pc_market_count%22%5D.sum())%0A%20%20%20%20pc_nonme_mkts%20%3D%20pc_total_mkts%20-%20pc_me_mkts%0A%20%20%20%20pc_me_pct%20%3D%20pc_me_mkts%20%2F%20pc_total_mkts%20*%20100%20if%20pc_total_mkts%20%3E%200%20else%200%0A%0A%20%20%20%20%23%20Per-cohort%20ME%20breakdown%0A%20%20%20%20pc_1w%20%3D%20pc_universe_summary%5Bpc_universe_summary%5B%22pc_cohort%22%5D%20%3D%3D%20%221-week%22%5D%0A%20%20%20%20pc_1w_total%20%3D%20int(pc_1w%5B%22pc_market_count%22%5D.sum())%0A%20%20%20%20pc_1w_me%20%3D%20int(pc_1w%5Bpc_1w%5B%22pc_me_label%22%5D%20%3D%3D%20%22ME%22%5D%5B%22pc_market_count%22%5D.sum())%20if%20len(pc_1w%5Bpc_1w%5B%22pc_me_label%22%5D%20%3D%3D%20%22ME%22%5D)%20%3E%200%20else%200%0A%20%20%20%20pc_2w%20%3D%20pc_universe_summary%5Bpc_universe_summary%5B%22pc_cohort%22%5D%20%3D%3D%20%222-week%22%5D%0A%20%20%20%20pc_2w_total%20%3D%20int(pc_2w%5B%22pc_market_count%22%5D.sum())%0A%20%20%20%20pc_2w_me%20%3D%20int(pc_2w%5Bpc_2w%5B%22pc_me_label%22%5D%20%3D%3D%20%22ME%22%5D%5B%22pc_market_count%22%5D.sum())%20if%20len(pc_2w%5Bpc_2w%5B%22pc_me_label%22%5D%20%3D%3D%20%22ME%22%5D)%20%3E%200%20else%200%0A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20f%22%22%22%0A%20%20%20%20%20%20%20%20The%20investable%20longshot%20universe%20contains%20**%7Bpc_total_mkts%7D**%20markets%0A%20%20%20%20%20%20%20%20passing%20all%20filters%20(3-15%20cents%2C%20volume_24h%20%3E%3D%20100%2C%20DTE%201-14).%0A%0A%20%20%20%20%20%20%20%20Of%20these%2C%20**%7Bpc_me_mkts%7D**%20(%7Bpc_me_pct%3A.0f%7D%25)%20are%20in%20mutually%20exclusive%0A%20%20%20%20%20%20%20%20events%20and%20**%7Bpc_nonme_mkts%7D**%20(%7B100%20-%20pc_me_pct%3A.0f%7D%25)%20are%20non-ME.%0A%0A%20%20%20%20%20%20%20%20The%20ME%20fraction%20differs%20sharply%20by%20cohort%3A%0A%20%20%20%20%20%20%20%20-%20**1-week**%3A%20%7Bpc_1w_total%7D%20markets%2C%20%7Bpc_1w_me%7D%20ME%20(%7Bpc_1w_me*100%2F%2Fpc_1w_total%20if%20pc_1w_total%20else%200%7D%25)%20%E2%80%94%20Weather%20(70%25%20ME)%20and%20Entertainment%20(61%25%20ME)%20drive%20this%0A%20%20%20%20%20%20%20%20-%20**2-week**%3A%20%7Bpc_2w_total%7D%20markets%2C%20%7Bpc_2w_me%7D%20ME%20(%7Bpc_2w_me*100%2F%2Fpc_2w_total%20if%20pc_2w_total%20else%200%7D%25)%20%E2%80%94%20most%20Sports%20markets%20are%20Non-ME%20(spread%20bets%2C%20point%20totals%2C%20goalscorer%20props%20aren't%20mutually%20exclusive)%0A%0A%20%20%20%20%20%20%20%20The%201-week%20cohort's%20higher%20ME%20fraction%20is%20a%20pleasant%20surprise%3A%20the%0A%20%20%20%20%20%20%20%20diverse%2C%20higher-edge%20cohort%20also%20has%20more%20collateral-efficient%0A%20%20%20%20%20%20%20%20structure.%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pc_event_structure_query(pc_snap_date%2C%20query)%3A%0A%20%20%20%20pc_event_buckets%20%3D%20query(f%22%22%22%0A%20%20%20%20%20%20%20%20WITH%20per_event%20AS%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m.event_ticker%20AS%20pe_event_ticker%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20COALESCE(e.category%2C%20'Unknown')%20AS%20pe_category%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.title%20AS%20pe_event_title%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20CASE%20WHEN%20e.mutually_exclusive%20%3D%20true%20THEN%20'ME'%20ELSE%20'Non-ME'%20END%20AS%20pe_me_label%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20count(*)%20AS%20pe_longshot_count%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sum(m.volume_24h)%20AS%20pe_total_vol_24h%0A%20%20%20%20%20%20%20%20%20%20%20%20FROM%20daily_markets%20m%0A%20%20%20%20%20%20%20%20%20%20%20%20LEFT%20JOIN%20daily_events%20e%20ON%20m.event_ticker%20%3D%20e.event_ticker%0A%20%20%20%20%20%20%20%20%20%20%20%20WHERE%20m.close_time%20IS%20NOT%20NULL%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.close_time%20!%3D%20''%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.last_price%20%3E%3D%203%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.last_price%20%3C%3D%2015%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.volume_24h%20%3E%3D%20100%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20date_diff('day'%2C%20date('%7Bpc_snap_date%7D')%2C%20date(from_iso8601_timestamp(m.close_time)))%20BETWEEN%201%20AND%2014%0A%20%20%20%20%20%20%20%20%20%20%20%20GROUP%20BY%20m.event_ticker%2C%20e.category%2C%20e.title%2C%20e.mutually_exclusive%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20pe_me_label%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20CASE%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20pe_longshot_count%20%3D%201%20THEN%20'1'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20pe_longshot_count%20BETWEEN%202%20AND%205%20THEN%20'2-5'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20pe_longshot_count%20BETWEEN%206%20AND%2010%20THEN%20'6-10'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20pe_longshot_count%20BETWEEN%2011%20AND%2020%20THEN%20'11-20'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELSE%20'20%2B'%0A%20%20%20%20%20%20%20%20%20%20%20%20END%20AS%20pe_bucket%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(*)%20AS%20pe_event_count%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sum(pe_longshot_count)%20AS%20pe_market_count%0A%20%20%20%20%20%20%20%20FROM%20per_event%0A%20%20%20%20%20%20%20%20GROUP%20BY%0A%20%20%20%20%20%20%20%20%20%20%20%20pe_me_label%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20CASE%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20pe_longshot_count%20%3D%201%20THEN%20'1'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20pe_longshot_count%20BETWEEN%202%20AND%205%20THEN%20'2-5'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20pe_longshot_count%20BETWEEN%206%20AND%2010%20THEN%20'6-10'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20pe_longshot_count%20BETWEEN%2011%20AND%2020%20THEN%20'11-20'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELSE%20'20%2B'%0A%20%20%20%20%20%20%20%20%20%20%20%20END%0A%20%20%20%20%20%20%20%20ORDER%20BY%20pe_me_label%2C%20pe_bucket%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20pc_top_longshot_events%20%3D%20query(f%22%22%22%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20m.event_ticker%20AS%20tle_event_ticker%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20COALESCE(e.category%2C%20'Unknown')%20AS%20tle_category%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20e.title%20AS%20tle_event_title%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20CASE%20WHEN%20e.mutually_exclusive%20%3D%20true%20THEN%20'ME'%20ELSE%20'Non-ME'%20END%20AS%20tle_me_label%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(*)%20AS%20tle_longshot_count%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sum(m.volume_24h)%20AS%20tle_total_vol_24h%0A%20%20%20%20%20%20%20%20FROM%20daily_markets%20m%0A%20%20%20%20%20%20%20%20LEFT%20JOIN%20daily_events%20e%20ON%20m.event_ticker%20%3D%20e.event_ticker%0A%20%20%20%20%20%20%20%20WHERE%20m.close_time%20IS%20NOT%20NULL%0A%20%20%20%20%20%20%20%20%20%20AND%20m.close_time%20!%3D%20''%0A%20%20%20%20%20%20%20%20%20%20AND%20m.last_price%20%3E%3D%203%0A%20%20%20%20%20%20%20%20%20%20AND%20m.last_price%20%3C%3D%2015%0A%20%20%20%20%20%20%20%20%20%20AND%20m.volume_24h%20%3E%3D%20100%0A%20%20%20%20%20%20%20%20%20%20AND%20date_diff('day'%2C%20date('%7Bpc_snap_date%7D')%2C%20date(from_iso8601_timestamp(m.close_time)))%20BETWEEN%201%20AND%2014%0A%20%20%20%20%20%20%20%20GROUP%20BY%20m.event_ticker%2C%20e.category%2C%20e.title%2C%20e.mutually_exclusive%0A%20%20%20%20%20%20%20%20ORDER%20BY%20count(*)%20DESC%0A%20%20%20%20%20%20%20%20LIMIT%2015%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%20pc_event_buckets%2C%20pc_top_longshot_events%0A%0A%0A%40app.cell%0Adef%20pc_event_structure_viz(alt%2C%20mo%2C%20pc_event_buckets%2C%20pc_top_longshot_events)%3A%0A%20%20%20%20pc_bucket_sort%20%3D%20%5B%221%22%2C%20%222-5%22%2C%20%226-10%22%2C%20%2211-20%22%2C%20%2220%2B%22%5D%0A%0A%20%20%20%20pc_bucket_chart%20%3D%20(%0A%20%20%20%20%20%20%20%20alt.Chart(pc_event_buckets)%0A%20%20%20%20%20%20%20%20.mark_bar()%0A%20%20%20%20%20%20%20%20.encode(%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.X(%22pe_bucket%3AN%22%2C%20sort%3Dpc_bucket_sort%2C%20title%3D%22Longshot%20Markets%20per%20Event%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Y(%22pe_event_count%3AQ%22%2C%20title%3D%22Number%20of%20Events%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Color(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22pe_me_label%3AN%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scale%3Dalt.Scale(domain%3D%5B%22ME%22%2C%20%22Non-ME%22%5D%2C%20range%3D%5B%22%232ca02c%22%2C%20%22%23d62728%22%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20title%3D%22ME%20Status%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.XOffset(%22pe_me_label%3AN%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20tooltip%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22pe_bucket%3AN%22%2C%20title%3D%22Bucket%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22pe_me_label%3AN%22%2C%20title%3D%22ME%20Status%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22pe_event_count%3AQ%22%2C%20title%3D%22Events%22%2C%20format%3D%22%2C%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22pe_market_count%3AQ%22%2C%20title%3D%22Markets%22%2C%20format%3D%22%2C%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20.properties(width%3D600%2C%20height%3D350%2C%20title%3D%22Longshot%20Markets%20per%20Event%20%E2%80%94%20Distribution%20by%20ME%20Status%22)%0A%20%20%20%20)%0A%0A%20%20%20%20mo.output.replace(mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22---%5Cn%23%23%20Section%202%3A%20Event%20Structure%20Analysis%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.altair_chart(pc_bucket_chart)%2C%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%23%20Top%2015%20Events%20by%20Investable%20Longshot%20Count%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.table(pc_top_longshot_events%2C%20label%3D%22Top%20Events%20by%20Longshot%20Market%20Count%22)%2C%0A%20%20%20%20%5D))%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pc_event_commentary(mo)%3A%0A%20%20%20%20mo.md(%22%22%22%0A%20%20%20%20Most%20ME%20events%20are%20**small%20clusters**%3A%2081%20ME%20events%20have%20just%201%0A%20%20%20%20investable%20longshot%2C%20and%2031%20have%202-5.%20Only%202%20ME%20events%20have%2010%2B%0A%20%20%20%20longshot%20markets%20%E2%80%94%20the%20**NASCAR%20Autotrader%20400**%20(19%20runners%2C%20the%0A%20%20%20%20largest%20cluster%20by%20far)%20and%20the%20**Bitcoin%20price%20range**%20event%20(12%0A%20%20%20%20range%20buckets).%20Non-ME%20events%20show%20a%20similar%20pattern%20but%20include%0A%20%20%20%20more%20mid-sized%20clusters%3A%205%20events%20with%206-10%20markets%20(NBA%20spreads%2C%0A%20%20%20%20SOTU%20mentions)%20and%201%20with%2011-20%20(Bitcoin%20directional).%0A%0A%20%20%20%20The%20top%20events%20table%20reveals%20the%20building%20blocks%20for%20portfolio%0A%20%20%20%20construction%3A%20NASCAR%20provides%20the%20single%20largest%20anti-correlated%0A%20%20%20%20cluster%2C%20while%20crypto%20range%20markets%20and%20weather%20temperature%20buckets%0A%20%20%20%20provide%20smaller%20but%20numerous%20ME%20clusters.%20Non-ME%20multi-market%0A%20%20%20%20events%20(EPL%20goalscorers%2C%20SOTU%20attendance%2C%20NBA%20spreads)%20need%20to%20be%0A%20%20%20%20capped%20to%20limit%20correlated%20exposure.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pc_collateral_query(pc_snap_date%2C%20query)%3A%0A%20%20%20%20pc_me_clusters%20%3D%20query(f%22%22%22%0A%20%20%20%20%20%20%20%20WITH%20investable%20AS%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m.event_ticker%20AS%20cl_event_ticker%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20COALESCE(e.category%2C%20'Unknown')%20AS%20cl_category%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.title%20AS%20cl_event_title%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m.last_price%20AS%20cl_yes_price%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(100%20-%20m.last_price)%20AS%20cl_no_price%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m.volume_24h%20AS%20cl_vol_24h%0A%20%20%20%20%20%20%20%20%20%20%20%20FROM%20daily_markets%20m%0A%20%20%20%20%20%20%20%20%20%20%20%20LEFT%20JOIN%20daily_events%20e%20ON%20m.event_ticker%20%3D%20e.event_ticker%0A%20%20%20%20%20%20%20%20%20%20%20%20WHERE%20m.close_time%20IS%20NOT%20NULL%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.close_time%20!%3D%20''%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.last_price%20%3E%3D%203%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.last_price%20%3C%3D%2015%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.volume_24h%20%3E%3D%20100%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20e.mutually_exclusive%20%3D%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20date_diff('day'%2C%20date('%7Bpc_snap_date%7D')%2C%20date(from_iso8601_timestamp(m.close_time)))%20BETWEEN%201%20AND%2014%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20cl_event_ticker%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20cl_category%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20cl_event_title%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(*)%20AS%20cl_n_markets%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20avg(cl_no_price)%20AS%20cl_avg_no_price%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sum(cl_no_price)%20AS%20cl_nominal_cost%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20max(cl_no_price)%20AS%20cl_effective_cost%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20CAST(sum(cl_no_price)%20AS%20DOUBLE)%20%2F%20NULLIF(CAST(max(cl_no_price)%20AS%20DOUBLE)%2C%200)%20AS%20cl_efficiency_ratio%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sum(cl_yes_price)%20AS%20cl_total_yes_premium%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sum(cl_vol_24h)%20AS%20cl_total_vol_24h%0A%20%20%20%20%20%20%20%20FROM%20investable%0A%20%20%20%20%20%20%20%20GROUP%20BY%20cl_event_ticker%2C%20cl_category%2C%20cl_event_title%0A%20%20%20%20%20%20%20%20HAVING%20count(*)%20%3E%3D%202%0A%20%20%20%20%20%20%20%20ORDER%20BY%20count(*)%20DESC%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%20(pc_me_clusters%2C)%0A%0A%0A%40app.cell%0Adef%20pc_collateral_viz(alt%2C%20mo%2C%20pc_me_clusters)%3A%0A%20%20%20%20%23%20Per-category%20aggregation%20of%20collateral%20efficiency%0A%20%20%20%20pc_cat_collateral%20%3D%20(%0A%20%20%20%20%20%20%20%20pc_me_clusters.groupby(%22cl_category%22)%0A%20%20%20%20%20%20%20%20.agg(%0A%20%20%20%20%20%20%20%20%20%20%20%20cl_cat_events%3D(%22cl_event_ticker%22%2C%20%22count%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20cl_cat_total_markets%3D(%22cl_n_markets%22%2C%20%22sum%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20cl_cat_nominal%3D(%22cl_nominal_cost%22%2C%20%22sum%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20cl_cat_effective%3D(%22cl_effective_cost%22%2C%20%22sum%22)%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20.reset_index()%0A%20%20%20%20)%0A%20%20%20%20pc_cat_collateral%5B%22cl_cat_efficiency%22%5D%20%3D%20(%0A%20%20%20%20%20%20%20%20pc_cat_collateral%5B%22cl_cat_nominal%22%5D%20%2F%20pc_cat_collateral%5B%22cl_cat_effective%22%5D%0A%20%20%20%20)%0A%20%20%20%20pc_cat_collateral%20%3D%20pc_cat_collateral.sort_values(%22cl_cat_efficiency%22%2C%20ascending%3DFalse)%0A%0A%20%20%20%20pc_eff_chart%20%3D%20(%0A%20%20%20%20%20%20%20%20alt.Chart(pc_cat_collateral)%0A%20%20%20%20%20%20%20%20.mark_bar()%0A%20%20%20%20%20%20%20%20.encode(%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.X(%22cl_cat_efficiency%3AQ%22%2C%20title%3D%22Collateral%20Efficiency%20Ratio%20(nominal%20%2F%20effective)%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Y(%22cl_category%3AN%22%2C%20sort%3D%22-x%22%2C%20title%3D%22Category%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Color(%22cl_category%3AN%22%2C%20legend%3DNone)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20tooltip%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22cl_category%3AN%22%2C%20title%3D%22Category%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22cl_cat_events%3AQ%22%2C%20title%3D%22ME%20Events%22%2C%20format%3D%22%2C%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22cl_cat_total_markets%3AQ%22%2C%20title%3D%22Total%20Markets%22%2C%20format%3D%22%2C%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22cl_cat_nominal%3AQ%22%2C%20title%3D%22Nominal%20Cost%20(cents)%22%2C%20format%3D%22%2C.0f%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22cl_cat_effective%3AQ%22%2C%20title%3D%22Effective%20Cost%20(cents)%22%2C%20format%3D%22%2C.0f%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22cl_cat_efficiency%3AQ%22%2C%20title%3D%22Efficiency%20Ratio%22%2C%20format%3D%22.1f%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20.properties(width%3D600%2C%20height%3D350%2C%20title%3D%22ME%20Collateral%20Efficiency%20by%20Category%22)%0A%20%20%20%20)%0A%0A%20%20%20%20mo.output.replace(mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22---%5Cn%23%23%20Section%203%3A%20Collateral%20Efficiency%20of%20ME%20Clusters%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%23%20ME%20Clusters%20%E2%80%94%20Per-Event%20Detail%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.table(%0A%20%20%20%20%20%20%20%20%20%20%20%20pc_me_clusters%5B%5B%22cl_event_ticker%22%2C%20%22cl_category%22%2C%20%22cl_event_title%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cl_n_markets%22%2C%20%22cl_nominal_cost%22%2C%20%22cl_effective_cost%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cl_efficiency_ratio%22%2C%20%22cl_total_yes_premium%22%5D%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22ME%20Cluster%20Collateral%20Analysis%22%2C%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%23%20Collateral%20Efficiency%20by%20Category%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.altair_chart(pc_eff_chart)%2C%0A%20%20%20%20%5D))%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pc_collateral_commentary(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20**How%20ME%20collateral%20works**%3A%20In%20a%20mutually%20exclusive%20event%2C%20at%20most%0A%20%20%20%20one%20market%20resolves%20YES.%20When%20you%20buy%20No%20on%20multiple%20outcomes%2C%20Kalshi%0A%20%20%20%20only%20requires%20collateral%20equal%20to%20the%20**max%20single%20No%20position%20cost**%2C%0A%20%20%20%20not%20the%20sum.%20This%20reduces%20capital%20requirements%20for%20multi-market%20ME%0A%20%20%20%20clusters.%0A%0A%20%20%20%20**Actual%20top%20cluster%20%E2%80%94%20NASCAR%20Autotrader%20400**%20(19%20longshot%20runners)%3A%0A%20%20%20%20-%20Nominal%20cost%20%3D%2019%20runners%20%C3%97%20avg%2095%C2%A2%20No%20price%20%3D%20%5C%2417.99%0A%20%20%20%20-%20Effective%20cost%20%3D%20max(97%C2%A2)%20%3D%20%5C%240.97%0A%20%20%20%20-%20**Efficiency%20ratio%20%3D%2018.5x**%0A%20%20%20%20-%20Total%20yes%20premiums%20collected%20%3D%20%5C%241.01%20if%20all%20resolve%20No%0A%0A%20%20%20%20**Category-level%20efficiency**%3A%0A%20%20%20%20-%20**Crypto**%3A%206.3x%20%E2%80%94%20driven%20by%20the%2012-market%20Bitcoin%20range%20cluster%0A%20%20%20%20-%20**Sports**%3A%206.1x%20%E2%80%94%20driven%20almost%20entirely%20by%20the%20NASCAR%20event%0A%20%20%20%20-%20**Entertainment**%3A%202.7x%20%E2%80%94%20small%20clusters%20(4%20markets%20each)%0A%20%20%20%20-%20**Weather**%3A%202.3x%20%E2%80%94%20many%202-3%20market%20clusters%2C%20consistent%20but%20modest%0A%0A%20%20%20%20The%20efficiency%20gains%20are%20concentrated%20in%20a%20few%20large%20clusters.%20The%0A%20%20%20%2033%20ME%20cluster%20events%20average%20just%203.2%20markets%20each.%20Outside%20of%0A%20%20%20%20NASCAR%20and%20Bitcoin%20range%2C%20efficiency%20ratios%20are%20typically%202-3x.%0A%20%20%20%20Still%20valuable%20%E2%80%94%20but%20the%20collateral%20story%20is%20driven%20by%20a%20handful%0A%20%20%20%20of%20large%20events%2C%20not%20a%20broad%20structural%20advantage.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pc_cat_profile_query(pc_snap_date%2C%20query)%3A%0A%20%20%20%20pc_cat_profiles%20%3D%20query(f%22%22%22%0A%20%20%20%20%20%20%20%20WITH%20base%20AS%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20COALESCE(e.category%2C%20'Unknown')%20AS%20cp_category%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m.event_ticker%20AS%20cp_event_ticker%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20CASE%20WHEN%20e.mutually_exclusive%20%3D%20true%20THEN%201%20ELSE%200%20END%20AS%20cp_me%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20CASE%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20date_diff('day'%2C%20date('%7Bpc_snap_date%7D')%2C%20date(from_iso8601_timestamp(m.close_time)))%20BETWEEN%201%20AND%207%20THEN%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELSE%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20END%20AS%20cp_is_1w%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m.last_price%20AS%20cp_last_price%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m.yes_bid%20AS%20cp_yes_bid%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m.yes_ask%20AS%20cp_yes_ask%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m.volume_24h%20AS%20cp_vol_24h%0A%20%20%20%20%20%20%20%20%20%20%20%20FROM%20daily_markets%20m%0A%20%20%20%20%20%20%20%20%20%20%20%20LEFT%20JOIN%20daily_events%20e%20ON%20m.event_ticker%20%3D%20e.event_ticker%0A%20%20%20%20%20%20%20%20%20%20%20%20WHERE%20m.close_time%20IS%20NOT%20NULL%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.close_time%20!%3D%20''%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.last_price%20%3E%3D%203%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.last_price%20%3C%3D%2015%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20m.volume_24h%20%3E%3D%20100%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20AND%20date_diff('day'%2C%20date('%7Bpc_snap_date%7D')%2C%20date(from_iso8601_timestamp(m.close_time)))%20BETWEEN%201%20AND%2014%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20cp_category%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(*)%20AS%20cp_market_count%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20count(DISTINCT%20cp_event_ticker)%20AS%20cp_event_count%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20CAST(count(*)%20AS%20DOUBLE)%20%2F%20NULLIF(CAST(count(DISTINCT%20cp_event_ticker)%20AS%20DOUBLE)%2C%200)%20AS%20cp_avg_mkts_per_event%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sum(cp_me)%20*%20100.0%20%2F%20NULLIF(count(*)%2C%200)%20AS%20cp_me_pct%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sum(CAST(cp_vol_24h%20AS%20DOUBLE)%20*%20CAST(cp_last_price%20AS%20DOUBLE)%20%2F%20100.0)%20AS%20cp_total_dollar_vol%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20avg(cp_yes_ask%20-%20cp_yes_bid)%20AS%20cp_avg_spread%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20avg(cp_last_price)%20AS%20cp_avg_price%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sum(cp_is_1w)%20*%20100.0%20%2F%20NULLIF(count(*)%2C%200)%20AS%20cp_pct_1w%0A%20%20%20%20%20%20%20%20FROM%20base%0A%20%20%20%20%20%20%20%20GROUP%20BY%20cp_category%0A%20%20%20%20%20%20%20%20ORDER%20BY%20count(*)%20DESC%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%20(pc_cat_profiles%2C)%0A%0A%0A%40app.cell%0Adef%20pc_cat_profile_viz(alt%2C%20mo%2C%20pc_cat_profiles)%3A%0A%20%20%20%20pc_cat_bar%20%3D%20(%0A%20%20%20%20%20%20%20%20alt.Chart(pc_cat_profiles)%0A%20%20%20%20%20%20%20%20.transform_fold(%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%22cp_market_count%22%2C%20%22cp_event_count%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20as_%3D%5B%22cp_metric%22%2C%20%22cp_value%22%5D%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20.mark_bar()%0A%20%20%20%20%20%20%20%20.encode(%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.X(%22cp_value%3AQ%22%2C%20title%3D%22Count%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Y(%22cp_category%3AN%22%2C%20sort%3D%22-x%22%2C%20title%3D%22Category%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Color(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cp_metric%3AN%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scale%3Dalt.Scale(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20domain%3D%5B%22cp_market_count%22%2C%20%22cp_event_count%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20range%3D%5B%22steelblue%22%2C%20%22darkorange%22%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20title%3D%22Metric%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20legend%3Dalt.Legend(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20labelExpr%3D%22datum.value%20%3D%3D%3D%20'cp_market_count'%20%3F%20'Markets'%20%3A%20'Events'%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.XOffset(%22cp_metric%3AN%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20tooltip%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22cp_category%3AN%22%2C%20title%3D%22Category%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22cp_metric%3AN%22%2C%20title%3D%22Metric%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22cp_value%3AQ%22%2C%20title%3D%22Count%22%2C%20format%3D%22%2C%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20.properties(width%3D600%2C%20height%3D400%2C%20title%3D%22Investable%20Markets%20%26%20Events%20by%20Category%22)%0A%20%20%20%20)%0A%0A%20%20%20%20mo.output.replace(mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22---%5Cn%23%23%20Section%204%3A%20Category-Level%20Portfolio%20Heuristics%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%23%20Category%20Profiles%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.table(pc_cat_profiles%2C%20label%3D%22Category%20Profile%20Summary%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.altair_chart(pc_cat_bar)%2C%0A%20%20%20%20%5D))%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pc_heuristic_rules(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20Portfolio%20Selection%20Heuristics%0A%0A%20%20%20%20Based%20on%20the%20category%20profiles%20above%2C%20here%20are%20concrete%20selection%0A%20%20%20%20rules%20for%20the%20initial%20test%20portfolio.%20Target%20allocations%20reflect%20the%0A%20%20%20%20natural%20composition%20of%20the%20investable%20universe%3A%0A%0A%20%20%20%20%7C%20Category%20%7C%20Target%20Alloc%20%7C%20Selection%20Rule%20%7C%20Max%20Mkts%2FEvent%20%7C%20Rationale%20%7C%0A%20%20%20%20%7C----------%7C-------------%7C----------------%7C----------------%7C-----------%7C%0A%20%20%20%20%7C%20Sports%20%7C%20~40%25%20%7C%20All%20ME%20longshots%3B%20cap%20Non-ME%20at%203%2Fevent%20%7C%203%20(Non-ME)%20%7C%2041%25%20ME%2C%20collateral%20efficient%20for%20winner-take-all%20events%20%7C%0A%20%20%20%20%7C%20Weather%20%7C%20~25%25%20%7C%20All%20investable%20%7C%20All%20%7C%20100%25%201-week%2C%2070%25%20ME%2C%20daily%20resolution%2C%20tight%202%C2%A2%20spreads%20%7C%0A%20%20%20%20%7C%20Crypto%20%7C%20~10%25%20%7C%20All%20investable%20%7C%203%20(Non-ME)%20%7C%2037%25%20ME%2C%20100%25%201-week%2C%20strongest%20FLB%20signal%20%7C%0A%20%20%20%20%7C%20Entertainment%20%7C%20~9%25%20%7C%20All%20investable%20%7C%20All%20%7C%2061%25%20ME%2C%2094%25%201-week%2C%20behavioral%20edge%20%7C%0A%20%20%20%20%7C%20Politics%20%7C%20~5%25%20%7C%20Cap%20at%203%2Fevent%20%7C%203%20%7C%20Only%208%25%20ME%2C%20correlated%20within%20category%20%7C%0A%20%20%20%20%7C%20Mentions%20%7C%20~3%25%20%7C%20Cap%20at%203%2Fevent%20%7C%203%20%7C%200%25%20ME%2C%20SOTU-driven%2C%20event-specific%20%7C%0A%20%20%20%20%7C%20Economics%20%7C%20~2%25%20%7C%20All%20investable%20%7C%20All%20%7C%20Small%20but%20uncorrelated%20%7C%0A%20%20%20%20%7C%20Sci%2FTech%20%7C%20~1%25%20%7C%20All%20investable%20%7C%20All%20%7C%20Tiny%20but%20interesting%20(AI%20benchmarks)%20%7C%0A%20%20%20%20%7C%20Financials%20%7C%200%25%20%7C%20Skip%20%7C%20%E2%80%94%20%7C%20Wide%20spreads%20(14%C2%A2)%2C%20weakest%20edge%20%7C%0A%0A%20%20%20%20**Position%20sizing**%3A%20Fixed%20**1%20No%20contract%20per%20market**%20%E2%80%94%20minimum%20size%0A%20%20%20%20to%20validate%20the%20strategy.%20Scale%20up%20later%20once%20fill%20quality%20and%20edge%0A%20%20%20%20are%20confirmed.%0A%0A%20%20%20%20**ME%20events**%3A%20Include%20all%20longshot%20markets%20%E2%80%94%20these%20are%20anti-correlated%0A%20%20%20%20clusters%20where%20collateral%20efficiency%20makes%20even%20weak%20per-market%20edge%0A%20%20%20%20worthwhile.%0A%0A%20%20%20%20**Non-ME%20events**%3A%20Cap%20at%203%20markets%20per%20event%20(ranked%20by%20volume_24h)%0A%20%20%20%20to%20avoid%20concentration%20in%20correlated%20outcomes.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pc_build_portfolio(pc_snap_date%2C%20pd%2C%20query)%3A%0A%20%20%20%20%23%20Pull%20full%20investable%20universe%20at%20market%20level%0A%20%20%20%20pc_raw_universe%20%3D%20query(f%22%22%22%0A%20%20%20%20%20%20%20%20SELECT%0A%20%20%20%20%20%20%20%20%20%20%20%20m.ticker%20AS%20pf_ticker%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20m.title%20AS%20pf_title%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20m.event_ticker%20AS%20pf_event_ticker%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20COALESCE(e.category%2C%20'Unknown')%20AS%20pf_category%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20e.title%20AS%20pf_event_title%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20CASE%20WHEN%20e.mutually_exclusive%20%3D%20true%20THEN%201%20ELSE%200%20END%20AS%20pf_me%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20CASE%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20WHEN%20date_diff('day'%2C%20date('%7Bpc_snap_date%7D')%2C%20date(from_iso8601_timestamp(m.close_time)))%20BETWEEN%201%20AND%207%20THEN%20'1-week'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ELSE%20'2-week'%0A%20%20%20%20%20%20%20%20%20%20%20%20END%20AS%20pf_cohort%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20m.last_price%20AS%20pf_last_price%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20m.yes_bid%20AS%20pf_yes_bid%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20m.yes_ask%20AS%20pf_yes_ask%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(m.yes_ask%20-%20m.yes_bid)%20AS%20pf_spread%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20m.volume_24h%20AS%20pf_vol_24h%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20date_diff('day'%2C%20date('%7Bpc_snap_date%7D')%2C%20date(from_iso8601_timestamp(m.close_time)))%20AS%20pf_dte%0A%20%20%20%20%20%20%20%20FROM%20daily_markets%20m%0A%20%20%20%20%20%20%20%20LEFT%20JOIN%20daily_events%20e%20ON%20m.event_ticker%20%3D%20e.event_ticker%0A%20%20%20%20%20%20%20%20WHERE%20m.close_time%20IS%20NOT%20NULL%0A%20%20%20%20%20%20%20%20%20%20AND%20m.close_time%20!%3D%20''%0A%20%20%20%20%20%20%20%20%20%20AND%20m.last_price%20%3E%3D%203%0A%20%20%20%20%20%20%20%20%20%20AND%20m.last_price%20%3C%3D%2015%0A%20%20%20%20%20%20%20%20%20%20AND%20m.volume_24h%20%3E%3D%20100%0A%20%20%20%20%20%20%20%20%20%20AND%20date_diff('day'%2C%20date('%7Bpc_snap_date%7D')%2C%20date(from_iso8601_timestamp(m.close_time)))%20BETWEEN%201%20AND%2014%0A%20%20%20%20%20%20%20%20ORDER%20BY%20m.volume_24h%20DESC%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20%23%201.%20Skip%20Financials%0A%20%20%20%20pc_filtered%20%3D%20pc_raw_universe%5Bpc_raw_universe%5B%22pf_category%22%5D%20!%3D%20%22Financials%22%5D.copy()%0A%0A%20%20%20%20%23%202.%20ME%20events%3A%20include%20all%20longshot%20markets%0A%20%20%20%20pc_me_markets%20%3D%20pc_filtered%5Bpc_filtered%5B%22pf_me%22%5D%20%3D%3D%201%5D.copy()%0A%0A%20%20%20%20%23%203.%20Non-ME%20events%3A%20cap%20at%203%20markets%20per%20event%2C%20rank%20by%20volume_24h%0A%20%20%20%20pc_nonme_markets%20%3D%20pc_filtered%5Bpc_filtered%5B%22pf_me%22%5D%20%3D%3D%200%5D.copy()%0A%20%20%20%20pc_nonme_markets%5B%22pf_evt_rank%22%5D%20%3D%20(%0A%20%20%20%20%20%20%20%20pc_nonme_markets.groupby(%22pf_event_ticker%22)%5B%22pf_vol_24h%22%5D%0A%20%20%20%20%20%20%20%20.rank(ascending%3DFalse%2C%20method%3D%22first%22)%0A%20%20%20%20)%0A%20%20%20%20pc_nonme_markets%20%3D%20pc_nonme_markets%5Bpc_nonme_markets%5B%22pf_evt_rank%22%5D%20%3C%3D%203%5D.drop(%0A%20%20%20%20%20%20%20%20columns%3D%5B%22pf_evt_rank%22%5D%0A%20%20%20%20)%0A%0A%20%20%20%20%23%204.%20Combine%0A%20%20%20%20pc_portfolio%20%3D%20pd.concat(%5Bpc_me_markets%2C%20pc_nonme_markets%5D%2C%20ignore_index%3DTrue)%0A%0A%20%20%20%20%23%205.%20Add%20computed%20columns%0A%20%20%20%20pc_portfolio%5B%22pf_no_cost_cents%22%5D%20%3D%20100%20-%20pc_portfolio%5B%22pf_last_price%22%5D%0A%20%20%20%20pc_portfolio%5B%22pf_position_size%22%5D%20%3D%201%20%20%23%201%20No%20contract%0A%20%20%20%20pc_portfolio%5B%22pf_nominal_collateral%22%5D%20%3D%20pc_portfolio%5B%22pf_no_cost_cents%22%5D%20%2F%20100.0%20%20%23%20dollars%0A%20%20%20%20%23%20Becker%20calibration%3A%205%C2%A2%20market%20%E2%86%92%204.18%25%20true%20prob%20%E2%86%92%20ratio%200.836%0A%20%20%20%20pc_portfolio%5B%22pf_true_prob%22%5D%20%3D%20(pc_portfolio%5B%22pf_last_price%22%5D%20%2F%20100.0)%20*%200.836%0A%20%20%20%20%23%20E%5BP%26L%5D%20per%20No%20contract%20%3D%20(yes_price%20-%20100%20*%20true_prob)%20%2F%20100%20in%20dollars%0A%20%20%20%20pc_portfolio%5B%22pf_expected_pnl%22%5D%20%3D%20(%0A%20%20%20%20%20%20%20%20(pc_portfolio%5B%22pf_last_price%22%5D%20-%20100%20*%20pc_portfolio%5B%22pf_true_prob%22%5D)%20%2F%20100.0%0A%20%20%20%20)%0A%20%20%20%20return%20(pc_portfolio%2C)%0A%0A%0A%40app.cell%0Adef%20pc_portfolio_summary(alt%2C%20mo%2C%20pc_portfolio)%3A%0A%20%20%20%20import%20math%0A%0A%20%20%20%20pc_n_markets%20%3D%20len(pc_portfolio)%0A%20%20%20%20pc_n_events%20%3D%20pc_portfolio%5B%22pf_event_ticker%22%5D.nunique()%0A%20%20%20%20pc_n_me_markets%20%3D%20int((pc_portfolio%5B%22pf_me%22%5D%20%3D%3D%201).sum())%0A%20%20%20%20pc_n_nonme_markets%20%3D%20pc_n_markets%20-%20pc_n_me_markets%0A%0A%20%20%20%20%23%20Nominal%20collateral%20%3D%20sum%20of%20no_cost%20for%20all%20positions%0A%20%20%20%20pc_nominal_total%20%3D%20pc_portfolio%5B%22pf_nominal_collateral%22%5D.sum()%0A%0A%20%20%20%20%23%20Effective%20collateral%20(ME%20events%3A%20max%20no_cost%20per%20event%3B%20non-ME%3A%20sum)%0A%20%20%20%20pc_me_effective%20%3D%20(%0A%20%20%20%20%20%20%20%20pc_portfolio%5Bpc_portfolio%5B%22pf_me%22%5D%20%3D%3D%201%5D%0A%20%20%20%20%20%20%20%20.groupby(%22pf_event_ticker%22)%5B%22pf_no_cost_cents%22%5D%0A%20%20%20%20%20%20%20%20.max()%0A%20%20%20%20%20%20%20%20.sum()%20%2F%20100.0%0A%20%20%20%20)%0A%20%20%20%20pc_nonme_effective%20%3D%20pc_portfolio%5Bpc_portfolio%5B%22pf_me%22%5D%20%3D%3D%200%5D%5B%22pf_nominal_collateral%22%5D.sum()%0A%20%20%20%20pc_effective_total%20%3D%20pc_me_effective%20%2B%20pc_nonme_effective%0A%20%20%20%20pc_collateral_savings%20%3D%20pc_nominal_total%20-%20pc_effective_total%0A%0A%20%20%20%20%23%20Expected%20P%26L%0A%20%20%20%20pc_total_expected_pnl%20%3D%20pc_portfolio%5B%22pf_expected_pnl%22%5D.sum()%0A%20%20%20%20%23%20Variance%3A%20sum%20of%20per-market%20variance%0A%20%20%20%20%23%20Var%5BP%26L_i%5D%20%3D%20p_no%20*%20p_yes%20*%20(yes_price%2F100)%5E2%20%2B%20p_no%20*%20p_yes%20*%20(no_cost%2F100)%5E2%0A%20%20%20%20%23%20Simplified%3A%20Var%5BP%26L_i%5D%20%3D%20true_prob%20*%20(1%20-%20true_prob)%20*%201%20%20(since%20payoff%20is%200%20or%201%20dollar)%0A%20%20%20%20%23%20More%20precisely%3A%20profit_if_no%20%3D%20yes_price%2F100%2C%20loss_if_yes%20%3D%20no_cost%2F100%0A%20%20%20%20%23%20Var%20%3D%20(1-tp)%20*%20(yes_price%2F100%20-%20E)%5E2%20%2B%20tp%20*%20(-no_cost%2F100%20-%20E)%5E2%20...%20but%20simpler%3A%0A%20%20%20%20%23%20Var%20%3D%20(1-tp)*tp%20*%20((yes_price%20%2B%20no_cost)%2F100)%5E2%20%3D%20tp*(1-tp)%20*%201%5E2%20%3D%20tp*(1-tp)%0A%20%20%20%20pc_total_variance%20%3D%20(%0A%20%20%20%20%20%20%20%20pc_portfolio%5B%22pf_true_prob%22%5D%20*%20(1%20-%20pc_portfolio%5B%22pf_true_prob%22%5D)%0A%20%20%20%20).sum()%0A%20%20%20%20pc_total_std%20%3D%20math.sqrt(pc_total_variance)%0A%20%20%20%20pc_pnl_95th_low%20%3D%20pc_total_expected_pnl%20-%201.645%20*%20pc_total_std%0A%0A%20%20%20%20%23%20Cohort%20split%0A%20%20%20%20pc_cohort_split%20%3D%20pc_portfolio.groupby(%22pf_cohort%22).size().reset_index(name%3D%22pf_cs_count%22)%0A%0A%20%20%20%20%23%20Category%20distribution%0A%20%20%20%20pc_cat_dist%20%3D%20(%0A%20%20%20%20%20%20%20%20pc_portfolio.groupby(%22pf_category%22)%0A%20%20%20%20%20%20%20%20.agg(pf_cd_count%3D(%22pf_ticker%22%2C%20%22count%22)%2C%20pf_cd_me%3D(%22pf_me%22%2C%20%22sum%22))%0A%20%20%20%20%20%20%20%20.reset_index()%0A%20%20%20%20%20%20%20%20.sort_values(%22pf_cd_count%22%2C%20ascending%3DFalse)%0A%20%20%20%20)%0A%0A%20%20%20%20pc_cat_dist_chart%20%3D%20(%0A%20%20%20%20%20%20%20%20alt.Chart(pc_cat_dist)%0A%20%20%20%20%20%20%20%20.mark_bar()%0A%20%20%20%20%20%20%20%20.encode(%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.X(%22pf_cd_count%3AQ%22%2C%20title%3D%22Markets%20Selected%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Y(%22pf_category%3AN%22%2C%20sort%3D%22-x%22%2C%20title%3D%22Category%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20tooltip%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22pf_category%3AN%22%2C%20title%3D%22Category%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22pf_cd_count%3AQ%22%2C%20title%3D%22Markets%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22pf_cd_me%3AQ%22%2C%20title%3D%22ME%20Markets%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20.properties(width%3D600%2C%20height%3D350%2C%20title%3D%22Portfolio%3A%20Markets%20by%20Category%22)%0A%20%20%20%20)%0A%0A%20%20%20%20%23%20Top%2010%20events%20by%20market%20count%0A%20%20%20%20pc_top_port_events%20%3D%20(%0A%20%20%20%20%20%20%20%20pc_portfolio.groupby(%5B%22pf_event_ticker%22%2C%20%22pf_category%22%2C%20%22pf_event_title%22%2C%20%22pf_me%22%5D)%0A%20%20%20%20%20%20%20%20.agg(pf_te_count%3D(%22pf_ticker%22%2C%20%22count%22)%2C%20pf_te_vol%3D(%22pf_vol_24h%22%2C%20%22sum%22))%0A%20%20%20%20%20%20%20%20.reset_index()%0A%20%20%20%20%20%20%20%20.sort_values(%22pf_te_count%22%2C%20ascending%3DFalse)%0A%20%20%20%20%20%20%20%20.head(10)%0A%20%20%20%20)%0A%0A%20%20%20%20mo.output.replace(mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22---%5Cn%23%23%20Section%205%3A%20Sample%20Portfolio%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%23%23%20Portfolio%20Summary%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20Applying%20the%20heuristic%20rules%20to%20the%20investable%20universe%3A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%20Metric%20%7C%20Value%20%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C--------%7C-------%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%20Total%20markets%20selected%20%7C%20%7Bpc_n_markets%3A%2C%7D%20%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%20ME%20markets%20%7C%20%7Bpc_n_me_markets%3A%2C%7D%20%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%20Non-ME%20markets%20%7C%20%7Bpc_n_nonme_markets%3A%2C%7D%20%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%20Distinct%20events%20%7C%20%7Bpc_n_events%3A%2C%7D%20%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%20Nominal%20collateral%20(1%20contract%20each)%20%7C%20%5C%5C%24%7Bpc_nominal_total%3A%2C.2f%7D%20%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%20Effective%20collateral%20(after%20ME%20returns)%20%7C%20%5C%5C%24%7Bpc_effective_total%3A%2C.2f%7D%20%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%20Collateral%20savings%20from%20ME%20%7C%20%5C%5C%24%7Bpc_collateral_savings%3A%2C.2f%7D%20%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%20Expected%20P%26L%20(Becker%20calibration)%20%7C%20%5C%5C%24%7Bpc_total_expected_pnl%3A%2C.2f%7D%20%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7C%2095th%20percentile%20loss%20%7C%20%5C%5C%24%7Bpc_pnl_95th_low%3A%2C.2f%7D%20%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%23%20Category%20Distribution%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.altair_chart(pc_cat_dist_chart)%2C%0A%20%20%20%20%20%20%20%20mo.ui.table(pc_cat_dist%2C%20label%3D%22Category%20Breakdown%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%23%20Cohort%20Split%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.table(pc_cohort_split%2C%20label%3D%22Cohort%20Split%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%23%20Top%2010%20Events%20by%20Market%20Count%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.table(pc_top_port_events%2C%20label%3D%22Top%20Events%20in%20Portfolio%22)%2C%0A%20%20%20%20%5D))%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pc_portfolio_detail(mo%2C%20pc_portfolio)%3A%0A%20%20%20%20pc_display_cols%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%22pf_ticker%22%2C%20%22pf_title%22%2C%20%22pf_category%22%2C%20%22pf_event_ticker%22%2C%0A%20%20%20%20%20%20%20%20%22pf_me%22%2C%20%22pf_cohort%22%2C%20%22pf_last_price%22%2C%20%22pf_spread%22%2C%0A%20%20%20%20%20%20%20%20%22pf_vol_24h%22%2C%20%22pf_dte%22%2C%20%22pf_no_cost_cents%22%2C%0A%20%20%20%20%20%20%20%20%22pf_position_size%22%2C%20%22pf_nominal_collateral%22%2C%20%22pf_expected_pnl%22%2C%0A%20%20%20%20%5D%0A%20%20%20%20mo.output.replace(mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%23%20Full%20Portfolio%20Detail%22)%2C%0A%20%20%20%20%20%20%20%20mo.ui.table(%0A%20%20%20%20%20%20%20%20%20%20%20%20pc_portfolio%5Bpc_display_cols%5D.sort_values(%22pf_vol_24h%22%2C%20ascending%3DFalse)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22All%20Selected%20Markets%20(sorted%20by%2024h%20volume)%22%2C%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%5D))%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pc_findings(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20---%0A%20%20%20%20%23%23%20Findings%20%26%20Next%20Steps%0A%0A%20%20%20%20%23%23%23%20Portfolio%20Composition%0A%20%20%20%20-%20**374%20markets**%20selected%20from%20425%20investable%20(removed%205%20Financials%2C%0A%20%20%20%20%20%20capped%2046%20non-ME%20markets%20exceeding%20the%203-per-event%20limit)%0A%20%20%20%20-%20**227%20distinct%20events**%20%E2%80%94%20good%20diversification%2C%20average%201.6%20markets%0A%20%20%20%20%20%20per%20event%0A%20%20%20%20-%20**184%20ME%20%2B%20190%20Non-ME**%20%E2%80%94%20roughly%20balanced%2C%20with%20ME%20providing%0A%20%20%20%20%20%20anti-correlation%20and%20Non-ME%20providing%20breadth%0A%20%20%20%20-%20**Category%20mix**%3A%20Sports%2042%25%2C%20Weather%2025%25%2C%20Crypto%2011%25%2C%0A%20%20%20%20%20%20Entertainment%209%25%2C%20Politics%205%25%2C%20Mentions%203%25%2C%20other%205%25%0A%20%20%20%20-%20**Cohort%20split**%3A%2061%25%201-week%20(227%20markets)%2C%2039%25%202-week%20(147)%0A%0A%20%20%20%20%23%23%23%20Collateral%20%26%20Expected%20P%26L%0A%20%20%20%20-%20Nominal%20collateral%20(1%20contract%20each)%3A%20**%5C%24346**%0A%20%20%20%20-%20Effective%20collateral%20(after%20ME%20returns)%3A%20**%5C%24278**%20%E2%80%94%20a%2020%25%20savings%0A%20%20%20%20-%20The%20savings%20are%20modest%20because%20most%20ME%20clusters%20are%20small%20(2-4%0A%20%20%20%20%20%20markets).%20The%20big%20efficiency%20gains%20concentrate%20in%20NASCAR%20(18.5x)%0A%20%20%20%20%20%20and%20Bitcoin%20range%20(11.7x)%0A%20%20%20%20-%20Expected%20P%26L%20(Becker%20calibration)%3A%20**%2B%5C%244.56**%20across%20374%0A%20%20%20%20%20%20contracts%20%E2%80%94%20an%20edge%20of%20~1.2%20cents%20per%20contract%0A%20%20%20%20-%2095th%20percentile%20loss%3A%20**-%5C%243.06**%20%E2%80%94%20the%20portfolio%20can%20lose%20money%0A%20%20%20%20%20%20even%20if%20the%20FLB%20is%20real%2C%20due%20to%20variance%20across%20hundreds%20of%0A%20%20%20%20%20%20low-probability%20events%0A%0A%20%20%20%20%23%23%23%20Key%20Risks%0A%20%20%20%20-%20**Sports%20concentration**%3A%2042%25%20of%20portfolio%20in%20Sports%2C%20creating%0A%20%20%20%20%20%20implicit%20correlation%20to%20a%20few%20sporting%20events%20(NASCAR%20alone%20is%0A%20%20%20%20%20%2019%20markets)%0A%20%20%20%20-%20**Thin%20liquidity%20in%20edge%20categories**%3A%20Weather%20has%20tight%202%C2%A2%0A%20%20%20%20%20%20spreads%2C%20but%20Crypto%20(3.4%C2%A2)%2C%20Entertainment%20(5.4%C2%A2)%2C%20and%20especially%0A%20%20%20%20%20%20Sports%20(10.9%C2%A2)%20have%20spreads%20that%20eat%20into%20the%20~1.2%C2%A2%20per-contract%0A%20%20%20%20%20%20edge%0A%20%20%20%20-%20**Spread%20costs%20dominate**%3A%20The%201.2%C2%A2%20expected%20edge%20per%20contract%20is%0A%20%20%20%20%20%20smaller%20than%20the%20average%20spread%20in%20most%20categories.%20Execution%20at%0A%20%20%20%20%20%20mid%20or%20better%20is%20critical%0A%20%20%20%20-%20**Single-snapshot%20bias**%3A%20Portfolio%20composition%20changes%20daily%20as%0A%20%20%20%20%20%20events%20resolve%20and%20new%20ones%20open%0A%0A%20%20%20%20%23%23%23%20Next%20Steps%0A%20%20%20%201.%20**Deploy**%3A%20Place%201%20No%20contract%20per%20market%20across%20the%20portfolio%2C%0A%20%20%20%20%20%20%20targeting%20limit%20orders%20at%20or%20near%20the%20bid%20to%20minimize%20spread%20cost%0A%20%20%20%202.%20**Track%20fills**%3A%20Monitor%20execution%20quality%20%E2%80%94%20what%20fraction%20of%0A%20%20%20%20%20%20%20limit%20orders%20fill%3F%20Average%20slippage%20vs%20quoted%20prices%3F%0A%20%20%20%203.%20**Monitor%20resolutions**%3A%20Track%20outcomes%20over%202-4%20weeks%20to%20measure%0A%20%20%20%20%20%20%20realized%20edge%20vs%20the%20%2B%5C%244.56%20Becker-calibrated%20expectation%0A%20%20%20%204.%20**Refine**%3A%20If%20edge%20materializes%2C%20concentrate%20on%20categories%20with%0A%20%20%20%20%20%20%20positive%20realized%20returns%20and%20increase%20to%205-10%20contracts%20per%0A%20%20%20%20%20%20%20market%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20pc_s3_write(%0A%20%20%20%20SETTINGS%2C%0A%20%20%20%20mo%2C%0A%20%20%20%20pa%2C%0A%20%20%20%20pc_portfolio%2C%0A%20%20%20%20pc_snap_date%2C%0A%20%20%20%20pc_snap_hour%2C%0A%20%20%20%20pq%2C%0A%20%20%20%20s3fs%2C%0A)%3A%0A%20%20%20%20pc_s3_path%20%3D%20(%0A%20%20%20%20%20%20%20%20f%22s3%3A%2F%2F%7BSETTINGS.s3_bucket%7D%2F%7BSETTINGS.s3_prefix%7D%22%0A%20%20%20%20%20%20%20%20f%22%2Fad-hoc%2Fsim_portfolio%2Fdate%3D%7Bpc_snap_date%7D%2Fhour%3D%7Bpc_snap_hour%7D%2Fdata.parquet%22%0A%20%20%20%20)%0A%0A%20%20%20%20pc_writer_fs%20%3D%20s3fs.S3FileSystem(%0A%20%20%20%20%20%20%20%20key%3DSETTINGS.aws_access_key_id%2C%0A%20%20%20%20%20%20%20%20secret%3DSETTINGS.aws_secret_access_key%2C%0A%20%20%20%20%20%20%20%20client_kwargs%3D%7B%22region_name%22%3A%20SETTINGS.aws_region%7D%2C%0A%20%20%20%20)%0A%0A%20%20%20%20pc_write_table%20%3D%20pa.Table.from_pandas(pc_portfolio)%0A%20%20%20%20with%20pc_writer_fs.open(pc_s3_path%2C%20%22wb%22)%20as%20pc_f%3A%0A%20%20%20%20%20%20%20%20pq.write_table(pc_write_table%2C%20pc_f)%0A%0A%20%20%20%20pc_s3_rows%20%3D%20len(pc_portfolio)%0A%20%20%20%20pc_s3_size%20%3D%20pc_writer_fs.info(pc_s3_path)%5B%22size%22%5D%0A%0A%20%20%20%20mo.md(%22---%5Cn%23%23%20Section%206%3A%20Save%20Portfolio%20to%20S3%22)%0A%20%20%20%20return%20pc_s3_path%2C%20pc_s3_rows%2C%20pc_s3_size%0A%0A%0A%40app.cell%0Adef%20pc_s3_confirm(mo%2C%20pc_s3_path%2C%20pc_s3_rows%2C%20pc_s3_size)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20f%22%22%22%0A%20%20%20%20%20%20%20%20%23%23%23%20Portfolio%20saved%20to%20S3%0A%0A%20%20%20%20%20%20%20%20%7C%20Detail%20%7C%20Value%20%7C%0A%20%20%20%20%20%20%20%20%7C--------%7C-------%7C%0A%20%20%20%20%20%20%20%20%7C%20S3%20Path%20%7C%20%60%7Bpc_s3_path%7D%60%20%7C%0A%20%20%20%20%20%20%20%20%7C%20Rows%20%7C%20%7Bpc_s3_rows%3A%2C%7D%20%7C%0A%20%20%20%20%20%20%20%20%7C%20File%20Size%20%7C%20%7Bpc_s3_size%3A%2C%7D%20bytes%20%7C%0A%0A%20%20%20%20%20%20%20%20Portfolio%20snapshot%20saved%20successfully.%20Read%20back%20with%3A%0A%20%20%20%20%20%20%20%20%60%60%60python%0A%20%20%20%20%20%20%20%20import%20pyarrow.parquet%20as%20pq%0A%20%20%20%20%20%20%20%20df%20%3D%20pq.read_table(%22%7Bpc_s3_path%7D%22).to_pandas()%0A%20%20%20%20%20%20%20%20%60%60%60%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A
</marimo-code>

<marimo-code-hash hidden="">1c6ea669382c9924d772b65db8dc86d7</marimo-code-hash>
</body>
</html>
